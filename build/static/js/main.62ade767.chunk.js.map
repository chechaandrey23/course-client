{"version":3,"sources":["themes.js","helpers/roles.js","redux/saga/helpers/helper.request.js","redux/saga/helpers/helper.default.request.settings.js","redux/saga/helpers/helper.saga.js","redux/user.user.js","redux/user.likes.js","redux/saga/user.user.js","components/TopNavBar.jsx","components/LogIn.jsx","components/SearchBar.jsx","pages/PageLogin.jsx","components/Registration.jsx","pages/PageRegistration.jsx","components/Filler.jsx","redux/user.langs.js","redux/saga/user.langs.js","redux/user.themes.js","redux/saga/user.themes.js","components/UserSettings.jsx","pages/PageUser.jsx","components/BodyContent.jsx","redux/user.ratings.js","redux/saga/user.ratings.js","components/ReviewRating.jsx","redux/saga/user.likes.js","components/ReviewLike.jsx","components/ReviewItem.jsx","helpers/unique.js","redux/editor.tags.js","redux/saga/editor.tags.js","redux/editor.groups.js","redux/saga/editor.groups.js","redux/editor.titles.js","redux/saga/editor.titles.js","redux/guest.editors.js","redux/saga/guest.editors.js","redux/custom.filter.js","components/PopoverFilterReviews.jsx","redux/helpers/Paginator.js","redux/user.reviews.js","redux/saga/user.reviews.js","components/ReviewLists.jsx","redux/user.tags.js","redux/saga/user.tags.js","components/RightBar.jsx","components/OtherAuthorReviews.jsx","pages/PageReviews.jsx","redux/editor.reviews.js","redux/saga/editor.reviews.js","components/ReviewFull.jsx","redux/user.comments.js","redux/saga/user.comments.js","components/ReviewCommentRemove.jsx","components/ReviewCommentEdit.jsx","components/ReviewCommentItem.jsx","components/ReviewCommentAutoUpdate.jsx","components/ReviewComments.jsx","pages/PageReview.jsx","components/MyReviewRow.jsx","components/MyReviewLists.jsx","pages/PageMyReviews.jsx","redux/editor.images.js","redux/saga/editor.images.js","image/ImageUpload.jsx","image/ImageLists.jsx","image/ModalImages.jsx","helpers/markdown.image.jsx","components/ModalNewTitle.jsx","components/MyReviewFullForm.jsx","components/MyReviewFullEdit.jsx","pages/PageMyReviewEdit.jsx","redux/saga/user.search.reviews.js","components/SearchReviewLists.jsx","pages/PageSearchReviews.jsx","components/MyReviewFullNew.jsx","pages/PageMyReviewNew.jsx","pages/PageMyReviewView.jsx","App.js","redux/saga/saga.js","redux/store.js","i18n.js","index.js"],"names":["themeMap","slate","solar","sketchy","lumen","changeTheme","theme","currentTheme","namespace","link","storage","document","documentElement","children","removeChild","removeTheme","hasOwnProperty","url","console","log","createElement","setAttribute","appendChild","addTheme","isUser","role","Array","isArray","includes","isEditor","isAdmin","request","opts","Promise","res","rej","axios","then","response","catch","e","status","JWTRefreshUpdate","method","JWTRefreshUpdateMethod","JWTRefreshUpdateURL","getError","data","defaultRequestSettings","responseType","createActions","obj","Object","keys","reduce","acc","key","constName","type","payload","createSagas","arr","value","push","pattern","saga","storeUserUser","createSlice","name","initialState","login","loadLogin","errorLogin","logout","loadLogout","errorLogout","registration","loadRegistration","errorRegistration","user","loadGetUser","loadSetUser","errorSetUser","reducers","state","action","startLoadLogin","endLoadLogin","startLoadLogout","endLoadLogout","startLoadRegistration","endLoadRegistration","userInfo","newUser","startLoadGetUser","endLoadGetUser","startLoadSetUser","endLoadSetUser","actions","storeUserLikes","likes","like","loadNewLike","setCountLikes","newLike","startLoadNewLike","endLoadNewLike","errorNewLike","loginSaga","logoutSaga","registrationSaga","getUserSaga","setUserSaga","put","call","username","password","password2","email","first_name","last_name","config","countUserLike","id","langId","themeId","FETCH_LOGIN","FETCH_LOGOUT","FETCH_REGISTRATION","FETCH_GET_USER","FETCH_SET_USER","userUserSagas","sagaLogin","sagaLogout","sagaRegistration","sagaGetUser","sagaSetUser","TopNavBar","t","useTranslation","useCookies","cookies","setCookie","removeCookie","navigate","useNavigate","dispatch","useLocation","useDispatch","useSelector","userUser","userLikes","logOutFn","useCallback","useEffect","logoutAC","Roles","lang","length","substring","Navbar","variant","expand","className","Container","Brand","href","Toggle","aria-controls","Collapse","Nav","Item","to","Link","Badge","bg","Button","onClick","validationSchema","Yup","shape","required","min","max","LogIn","props","error","loginAC","useForm","resolver","yupResolver","register","handleSubmit","errors","watch","formState","Row","Col","Alert","onClose","dismissible","Heading","message","reason","sm","Form","onSubmit","Group","as","controlId","Label","column","Control","placeholder","isInvalid","Feedback","md","aria-pressed","search","SearchBar","setValue","control","reset","params","useParams","strictUriEncode","defaultValue","query","PageReview","oneOf","registrationAC","Filler","element","useRef","parent","current","parentNode","parentStyles","window","getComputedStyle","oldPosition","position","style","width","parseInt","ignorePadding","paddingRight","paddingLeft","height","paddingTop","paddingBottom","left","top","blur","display","zIndex","opacity","backgroundColor","classList","add","split","spinner","ref","toString","Spinner","animation","size","storeUserLangs","langs","loadLangs","getLangs","startLoadLangs","endLoadLangs","getAllLangsSaga","FETCH_GET_ALL_LANGS","userLangsSagas","sagaGetAllLangs","storeUserThemes","themes","loadThemes","getThemes","startLoadThemes","endLoadThemes","getAllThemesSaga","FETCH_GET_ALL_THEMES","userThemesSagas","sagaGetAllThemes","UserSettings","useState","firstRender","setFirstRender","userLangs","userThemes","useLayoutEffect","Select","map","entry","index","title","BodyContent","content","addContent","rightbar","addRightBar","storeUserRatings","rating","loadNewRating","setRating","newRating","userRating","startLoadNewRating","endLoadNewRating","errorNewRating","newRatingSaga","reviewId","FETCH_NEW_RATING","userRatingsSagas","sagaNewRating","ReviewRating","setNewRating","userRatings","currentEvent","firstUpdate","defValue","isDisabled","readonly","initialRating","onChange","newLikeSaga","FETCH_NEW_LIKE","userLikesSagas","sagaNewLike","ReviewLike","setNewLike","disabled","ReviewItem","queryString","stringify","groups","groupId","arrayFormat","group","ratings","marginRight","authorRating","author","description","val","Date","date","unique","array","filter","onlyUnique","self","lastIndexOf","storeEditorTags","tags","loadTags","loadNewTag","errorNewTag","newTag","getTags","startLoadTags","endLoadTags","startLoadNewTag","endLoadNewTag","getPartTagsSaga","newTagSaga","encodeURIComponent","tag","FETCH_GET_PART_TAGS","FETCH_NEW_TAG","editorTagsSagas","sagaGetPartTags","sagaNewTag","storeEditorGroups","loadGroups","getGroups","startLoadGroups","endLoadGroups","getAllGroupsSaga","FETCH_GET_ALL_GROUPS","editorGroupsSagas","sagaGetAllGroups","storeEditorTitles","titles","loadTitles","loadNewTitle","errorNewTitle","newTitle","getTitles","startLoadTitles","endLoadTitles","startLoadNewTitle","endLoadNewTitle","getPartTitlesSaga","newTitleSaga","FETCH_GET_PART_TITLES","FETCH_NEW_TITLE","editorTitlesSagas","sagaGetPartTitles","sagaNewTitle","storeEditorEditors","partEditors","loadEditors","getEditors","startLoadEditors","loadTiltes","endLoadEditors","getPartEditorsSaga","page","FETCH_GET_PART_EDITORS","guestEditorsSagas","sagaGetPartEditors","storeCustomFilter","editorFilter","setFilterData","setEditorFilterData","PopoverFilterReviews","useSearchParams","searchParams","customFilter","filterData","typeFilter","callbackGroupSelect","setCallbackGroupSelect","callbackEditorSelect","setCallbackEditorSelect","editorTags","editorGroups","editorTitles","guestEditors","callback","label","options","userName","social_id","hasMore","OverlayTrigger","rootClose","delay","trigger","placement","overlay","Popover","minWidth","Header","Body","body","click","getAll","filterTags","items","item","at","render","field","onBlur","minLength","useCache","labelKey","multiple","isLoading","clearButton","selected","onSearch","filterGroups","loadOptions","inputValue","isMulti","isSearchable","defaultOptions","classNamePrefix","filterTitles","withAuthors","authors","filterAuthors","authos","loadedOptions","a","o","additional","get","sortField","sortFields","sortType","Paginator","defaultCountRows","this","stateName","Error","fn","appended","__append__","end","slice","storeUserReviews","paginator","currentReview","dataLoading","dataMoreLoading","dataItem","dataItemLoading","otherData","otherDataLoading","setCurrentReview","moreReviews","addWithReplace","startLoadMoreReviews","endLoadMoreReviews","getReviews","replace","startLoadGetReviews","endLoadGetReviews","getReviewItem","startLoadGetReviewItem","endLoadGetReviewItem","getOtherReviews","startLoadGetOtherReviews","endLoadGetOtherReviews","getReviewsSaga","moreReviewsSaga","getReviewSaga","getOtherReviewSaga","FETCH_MORE_REVIEWS","FETCH_GET_REVIEWS","FETCH_GET_REVIEW","FETCH_OTHER_REVIEWS","userReviewsSagas","sagaMoreReviews","sagaGetReviews","sagaGetReview","sagaOtherReviews","ReviewLists","reviews","userReviews","reviewsLoading","reviewsMoreLoading","reviewPaginator","moreFn","URLSearchParams","getPageForQuery","minHeight","dataLength","next","scrollThreshold","loader","endMessage","getDefaultCountRows","groupTitle","createdAt","storeUserTags","getAllTags","getAllTagsSaga","order","FETCH_GET_ALL_TAGS","userTagsSagas","sagaGetAllTags","userTags","wordIndexs","words","countReview","text","rotations","rotationAngles","callbacks","getWordTooltip","word","onWordClick","event","onWordMouseOut","target","Number","getAttribute","onWordMouseOver","OtherAuthorReviews","review","titleGroupId","ListGroup","border","borderTopLeftRadius","borderTopRightRadius","active","PageReviews","storeEditorReviews","dataItemSetLoading","dataItemError","dataItemNewLoading","dataItemRemoveLoading","dataItemRemoveError","newReview","dataNewError","getReview","startLoadGetReview","endLoadGetReview","startLoadSetReview","endLoadSetReview","errorSetReview","startLoadNewReview","endLoadNewReview","errorNewReview","startLoadRemoveReview","endLoadRemoveReview","errorRemoveReview","removeReview","remove","editReviewSaga","newReviewSaga","removeReviewSaga","titleId","draft","EDITOR_FETCH_REVIEWS","EDITOR_FETCH_MORE_REVIEWS","EDITOR_FETCH_REVIEW","EDITOR_FETCH_NEW_REVIEW","EDITOR_FETCH_EDIT_REVIEW","EDITOR_REMOVE_REVIEW","editorReviewsSagas","sagaNewReview","sagaEditReview","sagaRemoveReview","ReviewFull","userReview","userReviewLoading","editorReview","editorReviews","editorReviewLoading","mode","reviewLoading","sagaGetReviewEditor","blocked","userId","averageEditorRating","averageUserRating","storeUserComments","comments","commentsLoading","commentsMoreLoading","commentsAutoUpdateLoading","newComment","newCommentLoading","newCommentError","commentProcessing","editCommentError","moreComments","startLoadMoreComments","endLoadMoreComments","getComments","startLoadGetComments","endLoadGetComments","startLoadNewComment","endLoadNewComment","append","errorNewComment","autoUpdateComments","startLoadAutoUpdateComments","endLoadAutoUpdateComments","startLoadRemoveComment","removeComment","errorRemoveComment","endLoadRemoveComment","startLoadEditComment","endLoadEditComment","errorLoadEditComment","editComment","setReviewId","getCommentsSaga","moreCommentsSaga","autoUpdateCommentsSaga","newCommentSaga","removeCommentSaga","editCommentSaga","time","comment","FETCH_COMMENTS","FETCH_MORE_COMMENTS","FETCH_AUTO_UPDATE_COMMENTS","FETCH_NEW_COMMENT","FETCH_REMOVE_COMMENT","FETCH_EDIT_COMMENT","userCommentsSagas","sagaGetComments","sagaMoreComments","sagaAutoUpdateComments","sagaNewComment","sagaRemoveComment","sagaEditComment","ReviewCommentRemove","show","setShow","handleClose","handleShow","handleOKClose","Modal","onHide","centered","closeButton","Title","Footer","validationSchemaModal","ReviewCommentEdit","userComments","registerModal","handleSubmitModal","setValueModal","errorsModal","rows","form","ReviewCommentItem","authorId","ReviewCommentAutoUpdate","timeout","timeOut","setTimeOut","requestTime","descInterval","currentTimeout","clearInterval","now","setInterval","Math","round","ReviewComments","commentPaginator","resetModal","overflow","getCountRowsWithoutAppends","updatedAt","MyReviewRow","countComments","join","MyReviewLists","loadReviews","Table","striped","bordered","hover","colSpan","storeEditorImages","modalImages","urlImageToInsert","images","loadImages","loadMoreImages","loadNewImage","errorNewImage","newImage","progressLoadNewImage","selectedImageInsert","selectedImageUpload","showModalImage","hideModalImage","setURLImageToInsert","getImages","startLoadImages","endLoadImages","moreImages","startLoadMoreImages","endLoadMoreImages","startLoadNewImage","endLoadNewImage","progressLoadNewImageAC","errorNewImageAC","newImageAC","selectedImageInsertAC","selectedImageUploadAC","getPartImagesSaga","morePartImagesSaga","newImageSaga","onUploadProgress","progress","FETCH_GET_PART_IMAGES","FETCH_NEW_IMAGE","FETCH_MORE_PART_IMAGES","editorImagesSagas","sagaGetPartImages","sagaMorePartImages","sagaNewImage","ImageUpload","editorImages","uploadFn","formData","FormData","loaded","total","Image","src","URL","createObjectURL","fluid","ProgressBar","animated","onDrop","acceptedFiles","getRootProps","getInputProps","accept","cursor","ImageLists","imagePaginator","image","selClasses","selStyles","maxWidth","maxHeight","padding","thumbnail","ModalImages","setKey","Tabs","activeKey","onSelect","k","Tab","eventKey","MarkdownImages","editor","insertText","defaultConfig","align","pluginName","MdEditor","unuse","Plugins","use","ModalNewTitle","countRender","successed","errorNewTitleAC","closed","fieldState","borderRadius","borderColor","renderHTML","html","positive","integer","of","MyReviewFullForm","refNewTitle","refTitleTypeAHead","refTitleHelper","showModalNewTitle","setShowModalNewTitle","refTagsTypeAHead","refSelectedTags","errorSet","setReviewLoading","errorNew","newReviewLoading","firstRenderNewReview","saveSuccessed","setSaveSuccessed","firstRenderSetReview","setTimeout","clearTimeout","shouldValidate","shouldDirty","queryData","styles","boxShadow","isFocused","allowNew","newSelectionPrefix","selectHintOnEnter","customOption","onFocus","onInputChange","every","Check","defaultChecked","undefined","MyReviewFullNew","PageMyReviewEdit","getSearchReviewsSaga","moreSearchReviewsSaga","FETCH_MORE_SEARCH_REVIEWS","FETCH_GET_SEARCH_REVIEWS","userSearchReviewsSagas","sagaMoreSearchReviews","sagaGetSearchReviews","PageMyReviewNew","App","i18n","changeLanguage","path","rootSaga","sagas","all","spawn","lastTask","take","cancel","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","userReviewsReduser","userTagsReduser","userUserReduser","userLikesReduser","userLangsReduser","userThemesReduser","editorReviewsReduser","editorGroupsReduser","editorTitlesReduser","editorTagsReduser","editorImagesReduser","guestEditorsReduser","customFilterReduser","userRatingsReduser","userCommentsReduser","middleware","getDefaultMiddleware","thunk","serializableCheck","run","initReactI18next","init","resources","en","en_TopNavBar","en_UserSettings","en_Login","en_Registration","en_SearchBar","en_PopoverFilterReviews","en_OtherAuthorReviews","en_ReviewFull","en_ReviewLists","en_ReviewItem","en_ReviewComments","en_ReviewCommentRemove","en_ReviewCommentEdit","en_ReviewCommentAutoUpdate","en_ReviewCommentItem","en_ReviewLike","en_MyReviewLists","en_MyReviewRow","en_ModalNewTitle","en_MyReviewFullForm","en_ImageLists","en_ImageUpload","en_ModalImages","ru","ru_TopNavBar","ru_UserSettings","ru_Login","ru_Registration","ru_SearchBar","ru_PopoverFilterReviews","ru_OtherAuthorReviews","ru_ReviewFull","ru_ReviewLists","ru_ReviewItem","ru_ReviewComments","ru_ReviewCommentRemove","ru_ReviewCommentEdit","ru_ReviewCommentAutoUpdate","ru_ReviewCommentItem","ru_ReviewLike","ru_MyReviewLists","ru_MyReviewRow","ru_ModalNewTitle","ru_MyReviewFullForm","ru_ImageLists","ru_ImageUpload","ru_ModalImages","lng","Cookies","fallbackLng","interpolation","escapeValue","ReactDOM","StrictMode","CookiesProvider","getElementById"],"mappings":"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","file":"static/js/main.62ade767.chunk.js","sourcesContent":["import Cookies from 'js-cookie';\n\nconst themeMap = {\n\tslate: 'themes/bootstrap.slate.min.css',\n\tsolar: 'themes/bootstrap.solar.min.css',\n\tsketchy: 'themes/bootstrap.sketchy.min.css',\n\tlumen: 'themes/bootstrap.lumen.min.css'\n};\n\nexport function getCurrentTheme() {\n\treturn currentTheme;\n}\n\nexport function changeTheme(theme) {\n\tif(theme !== currentTheme) {\n\t\tremoveTheme(currentTheme);\n\t\tif(theme && themeMap.hasOwnProperty(theme)) {\n\t\t\taddTheme(theme, themeMap[theme]);\n\t\t\tcurrentTheme = theme;\n\t\t}\n\t}\n}\n\nconst storage = {};\n//let currentTheme = Cookies.get('Theme') || 'default';\nlet currentTheme = null;\n\nfunction addTheme(namespace, url) {console.log('add theme', namespace, url)\n\tconst link = document.createElement('link');\n\t//link.setAttribute('rel', 'preload');\n\tlink.setAttribute('rel', 'stylesheet');\n\t//link.setAttribute('as', 'style');\n\tlink.setAttribute('type', 'text/css');\n\tlink.setAttribute('href', url);\n\t//link.setAttribute('media', `(prefers-color-scheme: ${namespace})`);\n\t//link.onload = (e) => {e.target.rel='stylesheet';}\n\tdocument.documentElement.children[0].appendChild(link);\n\tstorage[namespace] = link;\n}\n\nfunction removeTheme(namespace) {\n\tconst link = storage[namespace];\n\tif(link) document.documentElement.children[0].removeChild(link);\n\tdelete storage[namespace];\n}\n","export function isUser(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(1);\n}\n\nexport function isGuest(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(0);\n}\n\nexport function isEditor(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(2);\n}\n\nexport function isAdmin(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(3);\n}\n","import axios from 'axios';\n\nexport function request(opts) {\n\topts = opts || {};\n\treturn new Promise((res, rej) => {\n\t\taxios(opts).then((response) => {\n\t\t\tres(response);\n\t\t}).catch((e) => {\n\t\t\tif(e.response && e.response.status === 401 && opts.JWTRefreshUpdate) {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: opts.JWTRefreshUpdateMethod || 'GET',\n\t\t\t\t\turl: opts.JWTRefreshUpdateURL\n\t\t\t\t}).then((response) => {\n\t\t\t\t\taxios(opts).then((response) => {\n\t\t\t\t\t\tres(response);\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\trej(getError(e))\n\t\t\t\t\t});\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\trej(getError(e));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trej(getError(e))\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction getError(e) {\n\tif(e.response) {\n\t\tif(!e.response.data) e.response.data = e;\n\t\treturn e.response;\n\t} else if(e.request) {\n\t\tif(!e.request.data) e.request.data = e;\n\t\treturn e.request;\n\t} else {\n\t\tif(!e.data) e.data = e;\n\t\treturn e;\n\t}\n}\n","export const defaultRequestSettings = {\n\t//timeout: 5000,\n\tresponseType: 'json',\n\tJWTRefreshUpdate: true,\n\tJWTRefreshUpdateMethod: 'POST',\n\tJWTRefreshUpdateURL: '/auth/api/refresh'\n}\n","//{expName: constName}\nexport function createActions(obj) {\n\treturn Object.keys(obj || {}).reduce((acc, key) => {\n\t\tacc[key] = ((constName) => {\n\t\t\treturn (data) => ({type: constName, payload: data});\n\t\t})(obj[key]);\n\t\t\n\t\treturn acc;\n\t}, {});\n}\n\n// constName, fn | fn\nexport function createSagas(arr) {\n\treturn (Array.isArray(arr)?arr:[]).reduce((acc, value) => {\n\t\tif(typeof value === 'function') {\n\t\t\tacc.push(value);\n\t\t} else if(Array.isArray(value) && typeof value[1] === 'function') {\n\t\t\tacc.push({pattern: value[0]+'', saga: value[1]});\n\t\t}\n\t\t\n\t\treturn acc;\n\t}, []);\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserUser = createSlice({\n\tname: 'userUser',\n\tinitialState: {\n\t\tlogin: false,\n\t\tloadLogin: false,\n\t\terrorLogin: false,\n\t\tlogout: false,\n\t\tloadLogout: false,\n\t\terrorLogout: false,\n\t\tregistration: false,\n\t\tloadRegistration: false,\n\t\terrorRegistration: false,\n\t\tuser: {},\n\t\tloadGetUser: false,\n\t\tloadSetUser: false,\n\t\terrorSetUser: false,\n\t},\n\treducers: {\n\t\tlogin(state, action) {\n\t\t\tstate.login = action.payload;\n\t\t},\n\t\tstartLoadLogin(state, action) {\n\t\t\tstate.loadLogin = true;\n\t\t},\n\t\tendLoadLogin(state, action) {\n\t\t\tstate.loadLogin = false;\n\t\t},\n\t\terrorLogin(state, action) {\n\t\t\tstate.errorLogin = action.payload;\n\t\t},\n\t\tlogout(state, action) {\n\t\t\tstate.logout = action.payload;\n\t\t},\n\t\tstartLoadLogout(state, action) {\n\t\t\tstate.loadLogout = true;\n\t\t},\n\t\tendLoadLogout(state, action) {\n\t\t\tstate.loadLogout = false;\n\t\t},\n\t\terrorLogout(state, action) {\n\t\t\tstate.errorLogout = action.payload;\n\t\t},\n\t\tregistration(state, action) {\n\t\t\tstate.registration = action.payload;\n\t\t},\n\t\tstartLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = true;\n\t\t},\n\t\tendLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = false;\n\t\t},\n\t\terrorRegistration(state, action) {\n\t\t\tstate.errorRegistration = action.payload;\n\t\t},\n\t\tuser(state, action) {\n\t\t\tstate.user = {...action.payload};\n\t\t},\n\t\tuserInfo(state, action) {\n\t\t\tconst newUser = {...state.user}\n\t\t\tnewUser.userInfo = action.payload;\n\t\t\tstate.user = newUser;\n\t\t},\n\t\tstartLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = true;\n\t\t},\n\t\tendLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = false;\n\t\t},\n\t\tstartLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = true;\n\t\t},\n\t\tendLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = false;\n\t\t},\n\t\terrorSetUser(state, action) {\n\t\t\tstate.errorSetUser = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tlogin, startLoadLogin, endLoadLogin, errorLogin, \n\t\t\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\t\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\t\t\tuserInfo, user, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} = storeUserUser.actions;\n\nexport default storeUserUser.reducer;\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLikes = createSlice({\n\tname: 'userLikes',\n\tinitialState: {\n\t\tlikes: 0,\n\t\tlike: null,\n\t\tloadNewLike: false\n\t},\n\treducers: {\n\t\tsetCountLikes(state, action) {\n\t\t\tstate.likes = action.payload * 1;\n\t\t},\n\t\tnewLike(state, action) {\n\t\t\tstate.like = action.payload;\n\t\t\tstate.likes = state.likes + 1;\n\t\t},\n\t\tstartLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = true;\n\t\t},\n\t\tendLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = false;\n\t\t},\n\t\terrorNewLike(state, action) {\n\t\t\tstate.errorNewLike = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setCountLikes, newLike, startLoadNewLike, endLoadNewLike, errorNewLike} = storeUserLikes.actions;\n\nexport default storeUserLikes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {login, startLoadLogin, endLoadLogin, errorLogin, \n\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\tuser, userInfo, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} from \"../user.user.js\";\nimport {setCountLikes} from \"../user.likes.js\";\n\nfunction* loginSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadLogin());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/login`,\n\t\t\tdata: {username: payload.user, password: payload.password},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(login(true));\n\t} catch(e) {\n\t\tyield put(errorLogin(e));\n\t} finally {\n\t\tyield put(endLoadLogin());\n\t}\n}\n\nfunction* logoutSaga({payload = {}}) {\n\tyield put(startLoadLogout());\n\tconst res = yield call(request, {\n\t\tmethod: 'post',\n\t\turl: `/auth/api/logout`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(logout(true));\n\tyield put(endLoadLogout());\n}\n\nfunction* registrationSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRegistration());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/registration`,\n\t\t\tdata: {username: payload.user, password: payload.password, password2: payload.password2, email: payload.email, first_name: payload.first_name, last_name: payload.last_name},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(registration(true));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRegistration(e));\n\t} finally {\n\t\tyield put(endLoadRegistration());\n\t}\n}\n\nfunction* getUserSaga() {\n\tyield put(startLoadGetUser());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/user`,\n\t\t...defaultRequestSettings\n\t});\n\t\n\tyield put(setCountLikes(res.data.countUserLike));\n\tyield put(user(res.data));\n\tyield put(endLoadGetUser());\n}\n\nfunction* setUserSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetUser());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/user-settings`,\n\t\t\tdata: {id: payload.id, first_name: payload.first_name, last_name: payload.last_name, langId: payload.langId, themeId: payload.themeId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(userInfo(res.data));\n\t} catch(e) {\n\t\tyield put(errorSetUser(e));\n\t} finally {\n\t\tyield put(endLoadSetUser());\n\t}\n}\n\nconst FETCH_LOGIN = 'FETCH_LOGIN';\nconst FETCH_LOGOUT = 'FETCH_LOGOUT';\nconst FETCH_REGISTRATION = 'FETCH_REGISTRATION';\nconst FETCH_GET_USER = 'FETCH_GET_USER';\nconst FETCH_SET_USER = 'FETCH_SET_USER';\n\nexport const userUserSagas = createSagas([\n\t[FETCH_LOGIN, loginSaga],\n\t[FETCH_LOGOUT, logoutSaga],\n\t[FETCH_REGISTRATION, registrationSaga],\n\t[FETCH_GET_USER, getUserSaga],\n\t[FETCH_SET_USER, setUserSaga]\n]);\n\nexport const {sagaLogin, sagaLogout, sagaRegistration, sagaSetUser, sagaGetUser} = createActions({\n\tsagaLogin: FETCH_LOGIN,\n\tsagaLogout: FETCH_LOGOUT,\n\tsagaRegistration: FETCH_REGISTRATION,\n\tsagaGetUser: FETCH_GET_USER,\n\tsagaSetUser: FETCH_SET_USER\n});\n","import React, {useCallback, useEffect} from \"react\";\nimport {Routes, Route, Link, useNavigate, useLocation} from \"react-router-dom\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Navbar, Nav, Container, Button, Badge, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\nimport {useTranslation} from \"react-i18next\";\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport {sagaLogout, sagaGetUser} from '../redux/saga/user.user.js';\nimport {logout as logoutAC} from '../redux/user.user.js';\n\nexport default function TopNavBar() {\n\tconst {t} = useTranslation('components/TopNavBar');\n\tconst [cookies, setCookie, removeCookie] = useCookies();\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tconst dispatch = useDispatch();\n\tconst logout = useSelector((state) => state.userUser.logout);\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst likes = useSelector((state) => state.userLikes.likes);\n\n\tconst logOutFn = useCallback(() => {dispatch(sagaLogout())}, []);\n\n\tuseEffect(() => {\n\t\tif(logout) {\n\t\t\tnavigate('/');\n\t\t\tdispatch(logoutAC());\n\t\t\tremoveCookie('Roles');\n\t\t}\n\t}, [logout]);\n\n\tuseEffect(() => {\n\t\tif(isAdmin(cookies.Roles) || isEditor(cookies.Roles) || isUser(cookies.Roles)) dispatch(sagaGetUser());\n\t}, []);\n\n\t useEffect(() => {\n\t\t if(user && user.userInfo) {\n\t\t\tsetCookie('Lang', user.userInfo?.lang?.lang);\n\t\t\tsetCookie('Theme', user.userInfo?.theme?.theme);\n\t\t }\n\t }, [user]);\n\n\tlet name = `${user.userInfo?.first_name+''} ${user.userInfo?.last_name+''}`;\n\tif(name.length > 15) name = name.substring(0, 15)+'...';\n\n\treturn (\n\t\t<Navbar variant=\"light\" expand=\"lg\" className=\"border border-primary rounded\">\n\t\t\t<Container>\n\t\t\t\t<Navbar.Brand href=\"/\">{t('What to play? look? read?')}</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"me-auto\">\n\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/reviews\">{t('Reviews')}</Link></Nav.Item>\n\t\t\t\t\t\t{isEditor(cookies.Roles)?<Nav.Item><Link className=\"nav-link\" to=\"/my-reviews\">{t('MyReviews')}</Link></Nav.Item>:<></>}\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav className=\"align-items-center\">\n\t\t\t\t\t\t{isAdmin(cookies.Roles)?<Nav.Item><Nav.Link href=\"/admin\">{t('ADMIN-PANEL')}</Nav.Link></Nav.Item>:<></>}\n\t\t\t\t\t\t{(!isAdmin(cookies.Roles)&&!isEditor(cookies.Roles)&&!isUser(cookies.Roles))?(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/registration\">{t('Registration')}</Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/login\">{t('LogIn')}</Link></Nav.Item>\n\t\t\t\t\t\t</>):(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/user\">[{name}]<Badge bg=\"success\">\n\t\t\t\t\t\t\t\t{likes} {(likes<1 || likes>4)?t('Likes'):(likes===1?t('Like'):t('Like2'))}\n\t\t\t\t\t\t\t</Badge></Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Button variant=\"outline-danger\" onClick={logOutFn}>{t('LogOut')}</Button></Nav.Item>\n\t\t\t\t\t\t</>)}\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Container>\n\t\t</Navbar>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useNavigate, Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Nav} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorLogin, login as loginAC} from '../redux/user.user.js';\nimport {sagaLogin} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters')\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation('components/Login');\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorLogin);\n\tconst login = useSelector((state) => state.userUser.login);\n\tconst user = useSelector((state) => state.userUser.user);\n\n\tuseEffect(() => {\n\t\tif(login) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(loginAC(false));\n\t\t}\n\t}, [login]);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseEffect(() => () => {dispatch(errorLogin(false))}, [user]);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorLogin(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.message || error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>{t('Authorization')}</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaLogin(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('User login')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder={t('Enter login')} isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.user?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Password')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder={t('Entre password')} isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.password?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">{t('LogIn')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-top border-primary mt-2 mb-2\"></Row>\n\t\t\t<Row className=\"mb-2 justify-content-center\">\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/github\" className=\"btn btn-outline-success\" role=\"button\" aria-pressed=\"true\">{t('logIn with GitHub')}</a>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/facebook\" className=\"btn btn-outline-primary\" role=\"button\" aria-pressed=\"true\">{t('logIn with FaceBook')}</a>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/google\" className=\"btn btn-outline-warning\" role=\"button\" aria-pressed=\"true\">{t('logIn with Google')}</a>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import queryString from 'query-string';\nimport strictUriEncode from 'strict-uri-encode';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Form} from 'react-bootstrap';\nimport {useForm, useController, Controller} from 'react-hook-form';\nimport {useSearchParams, useNavigate, useParams} from \"react-router-dom\";\nimport {useTranslation} from \"react-i18next\";\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nconst validationSchema = Yup.object().shape({\n\tsearch: Yup.string().required('Query is required')\n\t\t.min(3, 'Query must be at least 3 characters')\n\t\t.max(255, 'Query must not exceed 255 characters')\n});\n\nexport default function SearchBar() {\n\tconst {t} = useTranslation('components/SearchBar');\n\tconst navigate = useNavigate();\n\tconst {register, handleSubmit, setValue, control, reset, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tconst params = useParams();\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded mt-1\">\n\t\t\t<Row>\n\t\t\t\t<Col className=\"mt-3 mb-3\">\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tnavigate('/search/'+strictUriEncode(data.search));\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row}>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"search\")} defaultValue={params.query} type=\"text\" placeholder={t('Enter query')} isInvalid={!!errors.search} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.search?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">{t('Search')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport LogIn from '../components/LogIn';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<LogIn />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorRegistration, registration as registrationAC} from '../redux/user.user.js';\nimport {sagaRegistration} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters'),\n\tpassword2: Yup.string().required('Password2 is required')\n\t\t.min(6, 'Password2 must be at least 6 characters')\n\t\t.max(40, 'Password2 must not exceed 40 characters')\n\t\t.oneOf([Yup.ref('password'), null], 'Passwords must match'),\n\temail: Yup.string().required('Email is required')\n\t\t.min(6, 'Email must be at least 6 characters')\n\t\t.max(40, 'Email must not exceed 40 characters')\n\t\t.email('Invalid Email'),\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation('components/Registration');\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorRegistration);\n\tconst registration = useSelector((state) => state.userUser.registration);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseEffect(() => {\n\t\tif(registration) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(registrationAC(false));\n\t\t}\n\t}, [registration]);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorRegistration(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>{t('Registration')}</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaRegistration(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFullName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Full Name')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"first_name\")} type=\"text\" placeholder={t('First name')} isInvalid={!!errors.first_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.first_name?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"last_name\")} type=\"text\" placeholder={t('Last name')} isInvalid={!!errors.last_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.last_name?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('User login')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder={t('Enter login')} isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.user?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicEmail\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Email')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"email\")} type=\"text\" placeholder={t('email@email.com')} isInvalid={!!errors.email} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.email?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Password')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder={t('Enter Password')} isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.password?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password2\")} type=\"password\" placeholder={t('Confirm Password')} isInvalid={!!errors.password2} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.password2?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">{t('Registration')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport Registration from '../components/Registration';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<Registration />\n\t\t</Container>\n\t)\n}\n","import React, {useRef, useEffect} from \"react\";\nimport {Navbar, Nav, Container, Button, Row, Col, Spinner} from 'react-bootstrap';\n\n// props size(width|height), variant, className, ignorePadding\nexport default function Filler(props) {\n\tconst element = useRef(null);\n\t\n\tuseEffect(() => {\n\t\tlet parent = element.current.parentNode;\n\t\t\n\t\tlet parentStyles = window.getComputedStyle(parent);\n\t\tlet oldPosition = parentStyles.position;\n\t\tparent.style.position = 'relative';\n\t\t\n\t\tlet width = (parseInt(parentStyles.width) - (props.ignorePadding?0:(parseInt(parentStyles.paddingRight) + parseInt(parentStyles.paddingLeft))))+'px';\n\t\tlet height = (parseInt(parentStyles.height) - (props.ignorePadding?0:(parseInt(parentStyles.paddingTop) + parseInt(parentStyles.paddingBottom))))+'px';\n\t\tlet left = props.ignorePadding?'0px':parentStyles.paddingLeft;\n\t\tlet top = props.ignorePadding?'0px':parentStyles.paddingTop;\n\t\t\n\t\tlet blur = document.createElement('div');\n\t\tblur.style.position = 'absolute';\n\t\tblur.style.display = 'block';\n\t\tblur.style.width = width;\n\t\tblur.style.height = height;\n\t\tblur.style.left = left;\n\t\tblur.style.top = top;\n\t\t\n\t\tparent.appendChild(blur);\n\t\tblur.style.zIndex = 10;\n\t\tblur.style.opacity = '0.2';\n\t\tblur.style.backgroundColor = 'orange';\n\t\tblur.classList.add(...(props.className?props.className.split(' '):[]));\n\t\t\n\t\tlet spinner = element.current;\n\t\tspinner.style.position = 'absolute';\n\t\tspinner.style.display = 'block';\n\t\tspinner.style.width = width;\n\t\tspinner.style.height = height;\n\t\tspinner.style.left = left;\n\t\tspinner.style.top = top;\n\t\tspinner.style.zIndex = 11;\n\t\t\n\t\treturn () => {\n\t\t\tparent.style.position = oldPosition;\n\t\t\tparent.removeChild(blur);\n\t\t\tspinner.style.display = 'none';\n\t\t}\n\t});\n\t\n\treturn (\n\t\t<div ref={element} style={{display: 'none'}} className={(props.className?props.className.toString():'')}>\n\t\t\t<Row style={{height: '100%'}} className=\"justify-content-center align-items-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Spinner animation=\"border\" style={{width: props.size || 'auto', height: props.size || 'auto'}} variant={props.variant || 'warning'} />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLangs = createSlice({\n\tname: 'userLangs',\n\tinitialState: {\n\t\tlangs: [],\n\t\tloadLangs: false\n\t},\n\treducers: {\n\t\tgetLangs(state, action) {\n\t\t\tstate.langs = [...action.payload];\n\t\t},\n\t\tstartLoadLangs(state, action) {\n\t\t\tstate.loadLangs = true;\n\t\t},\n\t\tendLoadLangs(state, action) {\n\t\t\tstate.loadLangs = false;\n\t\t}\n\t}\n});\n\nexport const {getLangs, startLoadLangs, endLoadLangs} = storeUserLangs.actions;\n\nexport default storeUserLangs.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getLangs, startLoadLangs, endLoadLangs} from \"../user.langs.js\";\n\nfunction* getAllLangsSaga({payload = {}}) {\n\tyield put(startLoadLangs());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/langs`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getLangs(res.data));\n\tyield put(endLoadLangs());\n}\n\nconst FETCH_GET_ALL_LANGS = 'FETCH_GET_ALL_LANGS';\n\nexport const userLangsSagas = createSagas([\n\t[FETCH_GET_ALL_LANGS, getAllLangsSaga]\n]);\n\nexport const {sagaGetAllLangs} = createActions({\n\tsagaGetAllLangs: FETCH_GET_ALL_LANGS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserThemes = createSlice({\n\tname: 'userThemes',\n\tinitialState: {\n\t\tthemes: [],\n\t\tloadThemes: false\n\t},\n\treducers: {\n\t\tgetThemes(state, action) {\n\t\t\tstate.themes = [...action.payload];\n\t\t},\n\t\tstartLoadThemes(state, action) {\n\t\t\tstate.loadThemes = true;\n\t\t},\n\t\tendLoadThemes(state, action) {\n\t\t\tstate.loadThemes = false;\n\t\t}\n\t}\n});\n\nexport const {getThemes, startLoadThemes, endLoadThemes} = storeUserThemes.actions;\n\nexport default storeUserThemes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getThemes, startLoadThemes, endLoadThemes} from \"../user.themes.js\";\n\nfunction* getAllThemesSaga({payload = {}}) {\n\tyield put(startLoadThemes());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/themes`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getThemes(res.data));\n\tyield put(endLoadThemes());\n}\n\nconst FETCH_GET_ALL_THEMES = 'FETCH_GET_ALL_THEMES';\n\nexport const userThemesSagas = createSagas([\n\t[FETCH_GET_ALL_THEMES, getAllThemesSaga]\n]);\n\nexport const {sagaGetAllThemes} = createActions({\n\tsagaGetAllThemes: FETCH_GET_ALL_THEMES,\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport Filler from './Filler';\n\nimport {sagaGetAllLangs} from '../redux/saga/user.langs.js';\nimport {sagaGetAllThemes} from '../redux/saga/user.themes.js';\nimport {errorSetUser} from '../redux/user.user.js';\nimport {sagaSetUser} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n\tlangId: Yup.number().required('lang ID is required'),\n\tthemeId: Yup.number().required('Theme ID is required')\n});\n\nexport default function UserSettings(props) {\n\tconst {t} = useTranslation('components/UserSettings');\n\tconst [firstRender, setFirstRender] = useState(true);\n\tconst dispatch = useDispatch();\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst loadGetUser = useSelector((state) => state.userUser.loadGetUser);\n\tconst error = useSelector((state) => state.userUser.errorSetUser);\n\tconst loadSetUser = useSelector((state) => state.userUser.loadSetUser);\n\n\tconst langs = useSelector((state) => state.userLangs.langs);\n\tconst loadLangs = useSelector((state) => state.userLangs.loadLangs);\n\tconst themes = useSelector((state) => state.userThemes.themes);\n\tconst loadThemes = useSelector((state) => state.userThemes.loadThemes);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetAllLangs());\n\t\tdispatch(sagaGetAllThemes());\n\t\tsetFirstRender(false);\n\t}, []);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t{(loadGetUser || !user.userInfo)?<Filler ignorePadding={true} className=\"rounded\" size=\"3.5rem\" />:null}\n\t\t\t{loadSetUser?<Filler ignorePadding={true} className=\"rounded\" size=\"5rem\" />:null}\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorSetUser(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason || error.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>{t('User Settings')}</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaSetUser({id: user.userInfo?.id, ...data}))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFirstName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('First name')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"first_name\")} defaultValue={user.userInfo.first_name} type=\"text\" placeholder=\"Enter first name\" isInvalid={!!errors.first_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.first_name?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLastName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Last name')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"last_name\")} defaultValue={user.userInfo.last_name} type=\"text\" placeholder=\"Enter last name\" isInvalid={!!errors.last_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.last_name?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLang\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Language')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadLangs?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadLangs && user.userInfo)?<Form.Select {...register(\"langId\")} defaultValue={user.userInfo.langId} isInvalid={!!errors.lang}>\n\t\t\t\t\t\t\t\t\t{langs.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{t(entry.title)}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.lang?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTheme\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Theme')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadThemes?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadThemes && user.userInfo)?<Form.Select {...register(\"themeId\")} defaultValue={user.userInfo.themeId} isInvalid={!!errors.theme}>\n\t\t\t\t\t\t\t\t\t{themes.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{t(entry.title)}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.theme?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">{t('Save')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport UserSettings from '../components/UserSettings';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<UserSettings />\n\t\t</Container>\n\t)\n}\n","import React from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Navbar, Nav, Container, Button, Row, Col} from 'react-bootstrap';\n\nexport default function BodyContent(props) {\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col style={{paddingRight: '.125rem'}}>{props.content}{props.addContent?props.addContent:null}</Col>\n\t\t\t<Col md=\"auto\" style={{paddingLeft: '.125rem'}}>{props.rightbar}{props.addRightBar?props.addRightBar:null}</Col>\n\t\t</Row>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserRatings = createSlice({\n\tname: 'userRatings',\n\tinitialState: {\n\t\trating: 0,\n\t\tloadNewRating: false\n\t},\n\treducers: {\n\t\tsetRating(state, action) {\n\t\t\tstate.rating = action.payload * 1;\n\t\t},\n\t\tnewRating(state, action) {\n\t\t\tstate.rating = action.payload.userRating;\n\t\t},\n\t\tstartLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = true;\n\t\t},\n\t\tendLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = false;\n\t\t},\n\t\terrorNewRating(state, action) {\n\t\t\tstate.errorNewRating = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} = storeUserRatings.actions;\n\nexport default storeUserRatings.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} from \"../user.ratings.js\";\n\nfunction* newRatingSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewRating());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/rating-new`,\n\t\t\tdata: {rating: payload.rating, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newRating(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewRating(e));\n\t} finally {\n\t\tyield put(endLoadNewRating());\n\t}\n}\n\nconst FETCH_NEW_RATING = 'FETCH_NEW_RATING';\n\nexport const userRatingsSagas = createSagas([\n\t[FETCH_NEW_RATING, newRatingSaga]\n]);\n\nexport const {sagaNewRating} = createActions({\n\tsagaNewRating: FETCH_NEW_RATING,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Rating from 'react-rating';\n\nimport Filler from './Filler';\n\nimport {sagaNewRating} from '../redux/saga/user.ratings.js';\n\nexport default function ReviewRating(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [newRating, setNewRating] = useState(null);\n\tconst rating = useSelector((state) => state.userRatings.rating);\n\tconst loadNewRating = useSelector((state) => state.userRatings.loadNewRating);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewRating(rating);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [rating]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst defValue = props.data.length > 0?props.data[0].userRating:(newRating !== null?newRating:0);\n\tconst isDisabled = props.data.length > 0 || newRating !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewRating && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Rating readonly={isDisabled} initialRating={defValue} onChange={(value) => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewRating({rating: value, reviewId: props.reviewId}));\n\t\t\t}} />\n\t\t</>\n\t)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {newLike, startLoadNewLike, endLoadNewLike, errorNewLike} from \"../user.likes.js\";\n\nfunction* newLikeSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewLike());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/like-new`,\n\t\t\tdata: {reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newLike(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewLike(e));\n\t} finally {\n\t\tyield put(endLoadNewLike());\n\t}\n}\n\nconst FETCH_NEW_LIKE = 'FETCH_NEW_LIKE';\n\nexport const userLikesSagas = createSagas([\n\t[FETCH_NEW_LIKE, newLikeSaga]\n]);\n\nexport const {sagaNewLike} = createActions({\n\tsagaNewLike: FETCH_NEW_LIKE,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Filler from './Filler';\n\nimport {sagaNewLike} from '../redux/saga/user.likes.js';\n\nexport default function ReviewLike(props) {\n\tconst {t} = useTranslation('components/ReviewLike');\n\tconst dispatch = useDispatch();\n\n\tconst [newLike, setNewLike] = useState(null);\n\tconst like = useSelector((state) => state.userLikes.like);\n\tconst loadNewLike = useSelector((state) => state.userLikes.loadNewLike);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {//console.log(like, firstUpdate.current, currentEvent.current)\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewLike(like.like);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [like]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst isDisabled = props.data.length > 0 || newLike !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewLike && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Button variant=\"danger\" disabled={isDisabled} size=\"sm\" onClick={() => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewLike({reviewId: props.reviewId}));\n\t\t\t}}>{t('Like')}</Button>\n\t\t</>\n\t)\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation('components/ReviewItem');\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Link to={'/reviews'+'?'+queryString.stringify({groups: [props.groupId]}, {arrayFormat: 'bracket'})}><span className=\"h6\">{props.group}</span></Link>\n\t\t\t\t\t<span> / </span>\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">{props.title}</span></Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={props.ratings} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={props.likes} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t\t\t<Col className=\"text-info\"><h1>{props.authorRating}</h1></Col>\n\t\t\t\t\t\t<Col><span className=\"text-secondary\">{props.author[0]} {props.author[1]}</span></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col><ReactMarkdown>{props.description}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">{t('full review')}</span></Link>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","export function unique(array) {\n\treturn array.filter(onlyUnique);\n}\n\nfunction onlyUnique(value, index, self) {\n\treturn self.lastIndexOf(value) === index;\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTags = createSlice({\n\tname: 'editorTags',\n\tinitialState: {\n\t\ttags: [],\n\t\tloadTags: false,\n\t\tloadNewTag: false,\n\t\terrorNewTag: false,\n\t\tnewTag: false\n\t},\n\treducers: {\n\t\tgetTags(state, action) {\n\t\t\tstate.tags = [...action.payload];\n\t\t},\n\t\tstartLoadTags(state, action) {\n\t\t\tstate.loadTags = true;\n\t\t},\n\t\tendLoadTags(state, action) {\n\t\t\tstate.loadTags = false;\n\t\t},\n\t\tstartLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = true;\n\t\t},\n\t\tendLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = false;\n\t\t},\n\t\terrorNewTag(state, action) {\n\t\t\tstate.errorNewTag = action.payload;\n\t\t},\n\t\tnewTag(state, action) {\n\t\t\tstate.tags = [action.payload, ...state.tags];\n\t\t\tstate.newTag = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTags, startLoadTags, endLoadTags,\n\t\t\t\tstartLoadNewTag, endLoadNewTag, errorNewTag, newTag} = storeEditorTags.actions;\n\nexport default storeEditorTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTags, startLoadTags, endLoadTags, startLoadNewTag, endLoadNewTag, errorNewTag, newTag} from \"../editor.tags.js\";\n\nfunction* getPartTagsSaga({payload = {}}) {\n\tyield put(startLoadTags());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/part-tags/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTags(res.data));\n\tyield put(endLoadTags());\n}\n\nfunction* newTagSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTag());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/tag-new`,\n\t\t\tdata: {tag: payload},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTag(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTag(e));\n\t} finally {\n\t\tyield put(endLoadNewTag());\n\t}\n}\n\nconst FETCH_GET_PART_TAGS = 'FETCH_GET_PART_TAGS';\nconst FETCH_NEW_TAG = 'FETCH_NEW_TAG';\n\nexport const editorTagsSagas = createSagas([\n\t[FETCH_GET_PART_TAGS, getPartTagsSaga],\n\t[FETCH_NEW_TAG, newTagSaga]\n]);\n\nexport const {sagaGetPartTags, sagaNewTag} = createActions({\n\tsagaGetPartTags: FETCH_GET_PART_TAGS,\n\tsagaNewTag: FETCH_NEW_TAG\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorGroups = createSlice({\n\tname: 'editorGroups',\n\tinitialState: {\n\t\tgroups: [],\n\t\tloadGroups: false\n\t},\n\treducers: {\n\t\tgetGroups(state, action) {\n\t\t\tstate.groups = [...action.payload];\n\t\t},\n\t\tstartLoadGroups(state, action) {\n\t\t\tstate.loadGroups = true;\n\t\t},\n\t\tendLoadGroups(state, action) {\n\t\t\tstate.loadGroups = false;\n\t\t}\n\t}\n});\n\nexport const {getGroups, startLoadGroups, endLoadGroups} = storeEditorGroups.actions;\n\nexport default storeEditorGroups.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getGroups, startLoadGroups, endLoadGroups} from \"../editor.groups.js\";\n\nfunction* getAllGroupsSaga({payload = {}}) {\n\tyield put(startLoadGroups());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/groups`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getGroups(res.data));\n\tyield put(endLoadGroups());\n}\n\nconst FETCH_GET_ALL_GROUPS = 'FETCH_GET_ALL_GROUPS';\n\nexport const editorGroupsSagas = createSagas([\n\t[FETCH_GET_ALL_GROUPS, getAllGroupsSaga]\n]);\n\nexport const {sagaGetAllGroups} = createActions({\n\tsagaGetAllGroups: FETCH_GET_ALL_GROUPS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTitles = createSlice({\n\tname: 'editorTitles',\n\tinitialState: {\n\t\ttitles: [],\n\t\tloadTitles: false,\n\t\tloadNewTitle: false,\n\t\terrorNewTitle: false,\n\t\tnewTitle: false\n\t},\n\treducers: {\n\t\tgetTitles(state, action) {\n\t\t\tstate.titles = [...action.payload];\n\t\t},\n\t\tstartLoadTitles(state, action) {\n\t\t\tstate.loadTitles = true;\n\t\t},\n\t\tendLoadTitles(state, action) {\n\t\t\tstate.loadTitles = false;\n\t\t},\n\t\t\n\t\tstartLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = true;\n\t\t},\n\t\tendLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = false;\n\t\t},\n\t\terrorNewTitle(state, action) {\n\t\t\tstate.errorNewTitle = action.payload;\n\t\t},\n\t\tnewTitle(state, action) {\n\t\t\tstate.titles = [action.payload, ...state.titles];\n\t\t\tstate.newTitle = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTitles, startLoadTitles, endLoadTitles,\n\t\t\t\tstartLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} = storeEditorTitles.actions;\n\nexport default storeEditorTitles.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTitles, startLoadTitles, endLoadTitles, startLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} from \"../editor.titles.js\";\n\nfunction* getPartTitlesSaga({payload = {}}) {\n\tyield put(startLoadTitles());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/part-titles/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTitles(res.data));\n\tyield put(endLoadTitles());\n}\n\nfunction* newTitleSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTitle());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/title-new`,\n\t\t\tdata: {title: payload.title, description: payload.description},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTitle(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTitle(e));\n\t} finally {\n\t\tyield put(endLoadNewTitle());\n\t}\n}\n\nconst FETCH_GET_PART_TITLES = 'FETCH_GET_PART_TITLES';\nconst FETCH_NEW_TITLE = 'FETCH_NEW_TITLE';\n\nexport const editorTitlesSagas = createSagas([\n\t[FETCH_GET_PART_TITLES, getPartTitlesSaga],\n\t[FETCH_NEW_TITLE, newTitleSaga]\n]);\n\nexport const {sagaGetPartTitles, sagaNewTitle} = createActions({\n\tsagaGetPartTitles: FETCH_GET_PART_TITLES,\n\tsagaNewTitle: FETCH_NEW_TITLE\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorEditors = createSlice({\n\tname: 'guestEditors',\n\tinitialState: {\n\t\t//editors: [],\n\t\tpartEditors: [],\n\t\tloadEditors: false\n\t},\n\treducers: {\n\t\tgetEditors(state, action) {\n\t\t\t//state.editors = [...state.editors, ...action.payload];\n\t\t\tstate.partEditors = [...action.payload];\n\t\t},\n\t\tstartLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = true;\n\t\t},\n\t\tendLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = false;\n\t\t}\n\t}\n});\n\nexport const {getEditors, startLoadEditors, endLoadEditors} = storeEditorEditors.actions;\n\nexport default storeEditorEditors.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getEditors, startLoadEditors, endLoadEditors} from \"../guest.editors.js\";\n\nfunction* getPartEditorsSaga({payload = {}}) {\n\tyield put(startLoadEditors());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/editor-short-part/`,\n\t\tparams: {page: payload.page},\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getEditors(res.data));\n\tyield put(endLoadEditors());\n}\n\nconst FETCH_GET_PART_EDITORS = 'FETCH_GET_PART_EDITORS';\n\nexport const guestEditorsSagas = createSagas([\n\t[FETCH_GET_PART_EDITORS, getPartEditorsSaga],\n]);\n\nexport const {sagaGetPartEditors} = createActions({\n\tsagaGetPartEditors: FETCH_GET_PART_EDITORS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeCustomFilter = createSlice({\n\tname: 'customFilter',\n\tinitialState: {\n\t\tfilter: {},\n\t\teditorFilter: {}\n\t},\n\treducers: {\n\t\tsetFilterData(state, action) {\n\t\t\tstate.filter = action.payload;\n\t\t},\n\t\tsetEditorFilterData(state, action) {\n\t\t\tstate.editorFilter = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setFilterData, setEditorFilterData} = storeCustomFilter.actions;\n\nexport default storeCustomFilter.reducer;\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar, Popover, OverlayTrigger} from 'react-bootstrap';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport {useForm, useController, Controller} from 'react-hook-form';\nimport AsyncSelect from 'react-select/async';\nimport {AsyncPaginate} from 'react-select-async-paginate';\nimport {useSearchParams, useNavigate} from \"react-router-dom\";\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport {useTranslation} from \"react-i18next\";\n\nimport {unique} from '../helpers/unique.js';\n\nimport {sagaGetPartTags} from '../redux/saga/editor.tags.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartEditors} from '../redux/saga/guest.editors.js';\n\nimport {setFilterData, setEditorFilterData} from '../redux/custom.filter.js';\n\n// prop with authors, sortField, typeFilter(user|editor)\n export default function PopoverFilterReviews(props) {\n\tconst {t} = useTranslation('components/PopoverFilterReviews');\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\tconst {register, handleSubmit, setValue, control, reset, formState: {errors}} = useForm(/*{resolver: yupResolver(validationSchema)}*/);\n\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\tconst editorFilter = useSelector((state) => state.customFilter.editorFilter);\n\tconst filter = useSelector((state) => state.customFilter.filter);\n\n\tconst filterData = props.typeFilter === 'editor'?editorFilter:filter;\n\n\tconst [callbackGroupSelect, setCallbackGroupSelect] = useState(null);\n\tconst [callbackEditorSelect, setCallbackEditorSelect] = useState(null);\n\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\n\t//const editors = useSelector((state) => state.guestEditors.editors);\n\tconst partEditors = useSelector((state) => state.guestEditors.partEditors);\n\tconst loadEditors = useSelector((state) => state.guestEditors.loadEditors);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(groups && groups.length > 0 && callbackGroupSelect) {\n\t\t\tcallbackGroupSelect.callback(groups.map((entry) => ({value: entry.id,  label: entry.group})));\n\t\t}\n\t}, [groups]);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(partEditors && callbackEditorSelect) {\n\t\t\tif(partEditors.length > 0) {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: partEditors.map((entry) => {\n\t\t\t\t\t\tlet userName = (entry.user && entry.social_id)?entry.user+'/'+entry.social_id:(\n\t\t\t\t\t\t\tentry.user?entry.user:(entry.social_id?entry.social_id:'UNKNOWN')\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif(entry.userInfo) userName += `(${entry.userInfo.first_name} ${entry.userInfo.last_name})`;\n\t\t\t\t\t\treturn {value: entry.id,  label: userName};\n\t\t\t\t\t}),\n\t\t\t\t\thasMore: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: [],\n\t\t\t\t\thasMore: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [partEditors]);\n\n\treturn (\n\t\t<OverlayTrigger rootClose={true} delay={0} trigger=\"click\" /*key={placement}*/ placement=\"bottom\" overlay={\n\t\t\t<Popover id=\"popover-filter-reviews\" style={{minWidth: '550px'}} >\n\t\t\t\t<Popover.Header as=\"h3\">{t('Filter Selected Reviews')}</Popover.Header>\n\t\t\t\t<Popover.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tlet query = Object.keys(data).reduce((acc, key) => {\n\t\t\t\t\t\t\tif(data[key]) {\n\t\t\t\t\t\t\t\tif(key === 'tags' || key === 'titles') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.id));\n\t\t\t\t\t\t\t\t} else if(key === 'authors' || key === 'groups') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.value));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tacc[key] = data[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tif(props.typeFilter === 'editor') {\n\t\t\t\t\t\t\tdispatch(setEditorFilterData(data))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdispatch(setFilterData(data))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnavigate((props.typeFilter === 'editor'?'/my-reviews':'/reviews')+'?'+queryString.stringify(query, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\tdocument.body.click();\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"3\">{t('Tags')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"9\">\n\t\t\t\t\t\t\t\t<Controller name=\"tags\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tags = searchParams.getAll(\"tags[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(tags) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tags = tags.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTags = filterData.tags || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn tags.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTags.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, tag: 'tag_id_'+entry}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={tags} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.tags?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formGroups\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"3\">{t('Groups')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"9\">\n\t\t\t\t\t\t\t\t<Controller name=\"groups\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet groups = searchParams.getAll(\"groups[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(groups) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//groups = groups.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterGroups = filterData.groups || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn groups.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterGroups.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'group_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncSelect //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackGroupSelect({callback});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetAllGroups());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassNamePrefix=\"form-select\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//onInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.groups?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTitles\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"3\">{t('Titles')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"9\">\n\t\t\t\t\t\t\t\t<Controller name=\"titles\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet titles = searchParams.getAll(\"titles[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(titles) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//titles = titles.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTitles = filterData.titles || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn titles.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTitles.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, title: 'title_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-titles\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={titles} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.tags?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{props.withAuthors?<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthos\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"3\">{t('Authors')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"9\">\n\t\t\t\t\t\t\t\t<Controller name=\"authors\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet authors = searchParams.getAll(\"authors[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(authors) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//authors = authors.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterAuthors = filterData.authos || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn authors.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterAuthors.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'author_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncPaginate   //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={async (search, loadedOptions, {page}) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetPartEditors({page}));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst res = await new Promise((res, rej) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackEditorSelect({callback: (o) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\to.additional = {page: page + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres(o);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadditional={{page: 1}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.groups?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>:null}\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"3\">{t('Sorting')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"4\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortField\")} defaultValue={searchParams.get(\"sortField\")} isInvalid={!!errors.sortField} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>{t('Chose field')}</option>\n\t\t\t\t\t\t\t\t\t{props.sortFields.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry}>{t(entry)}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.sortField?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('type')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortType\")} defaultValue={searchParams.get(\"sortType\")} isInvalid={!!errors.sortType} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>{t('Chose type')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ASC\" >{t('ASC')}</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DESC\">{t('DESC')}</option>\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.sortType?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-danger\" type=\"button\" onClick={() => {\n\t\t\t\t\t\t\t\t\tnavigate('?');\n\t\t\t\t\t\t\t\t\tsetValue('groups', []);\n\t\t\t\t\t\t\t\t\tsetValue('authors', []);\n\t\t\t\t\t\t\t\t\tsetValue('tags', []);\n\t\t\t\t\t\t\t\t\tsetValue('titles', []);\n\t\t\t\t\t\t\t\t\tsetValue('sortField', null);\n\t\t\t\t\t\t\t\t\tsetValue('sortType', null);\n\t\t\t\t\t\t\t\t}}>{t('reset')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-success\" type=\"submit\">{t('filter')}</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Popover.Body>\n\t\t\t</Popover>\n\t\t} >\n\t\t\t<Button variant=\"outline-primary\">{t('Filters')}</Button>\n\t\t</OverlayTrigger>\n\t)\n}\n","export default class Paginator {\n\t#countRows = 0;\n\t#currentPage = 1;\n\t#lastAddCountRow = 0;\n\n\t#appands = 0;\n\n\tconstructor(defaultCountRows) {\n\t\tthis.#countRows = defaultCountRows * 1;\n\t}\n\n\treplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tthis.#currentPage = 1;\n\t\tstate[stateName] = [...data];\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\n\tremove(state, stateName, fn) {\n\t\tif(typeof fn !== 'function') throw new Error('Third argument must be Function');\n\t\tconst limit = state[stateName].length - this.#lastAddCountRow;\n\t\tlet appended = 0;\n\t\tstate[stateName] = state[stateName].filter((entry, index, array) => {\n\t\t\tconst res =  fn(entry, index, array);\n\t\t\tif(res) {\n\t\t\t\tif(entry.__append__) appended++;\n\t\t\t\tthis.#lastAddCountRow--;\n\t\t\t\tif(this.#lastAddCountRow < 0) {\n\t\t\t\t\tthis.#lastAddCountRow = this.#countRows - 1;\n\t\t\t\t\tthis.#currentPage--;\n\t\t\t\t\tif(this.#currentPage < 1) this.#currentPage = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\t\tthis.#appands -= appended;\n\t}\n\n\tappend(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tlet appended = 0;\n\t\tstate[stateName] = [...(data.map((entry) => {\n\t\t\tif(entry) {\n\t\t\t\tentry.__append__ = true;\n\t\t\t\tappended++;\n\t\t\t}\n\t\t\treturn entry;\n\t\t})), ...state[stateName]];\n\t\tthis.#appands += appended;\n\t}\n\n\taddWithReplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tif(this.#lastAddCountRow === 0) {\n\t\t\tstate[stateName] = [...state[stateName], ...data];\n\t\t} else {\n\t\t\tconst end = state[stateName].length - this.#lastAddCountRow;\n\t\t\tstate[stateName] = [...state[stateName].slice(0, end<0?0:end), ...data];\n\t\t}\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\t/*\n\taddToEnd(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...state[stateName], ...data];\n\t\tthis.#lastAddCountRow += data.length;\n\t\tif(this.#lastAddCountRow >= this.#countRows) {\n\t\t\tthis.#currentPage += Math.floor(this.#lastAddCountRow/this.#countRows);\n\t\t\tthis.#lastAddCountRow = this.#lastAddCountRow % this.#countRows;\n\t\t}\n\t}\n\t*/\n\tgetPageForQuery() {\n\t\treturn this.#currentPage;\n\t}\n\n\tgetDefaultCountRows() {\n\t\treturn this.#countRows;\n\t}\n\n\tgetCountRowsWithoutAppends() {\n\t\treturn this.#countRows - this.#appands;\n\t}\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeUserReviews = createSlice({\n\tname: 'userReviews',\n\tinitialState: {\n\t\tpaginator: new Paginator(10),\n\n\t\tcurrentReview: null,\n\n\t\tdata: [],\n\t\tdataLoading: false,\n\t\tdataMoreLoading: false,\n\n\t\tdataItem: null,\n\t\tdataItemLoading: false,\n\n\t\totherData: [],\n\t\totherDataLoading: false\n\t},\n\treducers: {\n\t\tsetCurrentReview(state, action) {\n\t\t\tstate.currentReview = action.payload || null;\n\t\t},\n\n\t\tmoreReviews(state, action) {\n\t\t\tstate.paginator.addWithReplace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = true;\n\t\t},\n\t\tendLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = false;\n\t\t},\n\n\t\tgetReviews(state, action) {\n\t\t\tstate.paginator.replace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = true;\n\t\t},\n\t\tendLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = false;\n\t\t},\n\n\t\tgetReviewItem(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t},\n\t\tstartLoadGetReviewItem(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tendLoadGetReviewItem(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\n\t\tgetOtherReviews(state, action) {\n\t\t\tstate.otherData = action.payload;\n\t\t},\n\t\tstartLoadGetOtherReviews(state, action) {\n\t\t\tstate.otherDataLoading = true;\n\t\t},\n\t\tendLoadGetOtherReviews(state, action) {\n\t\t\tstate.otherDataLoading = false;\n\t\t},\n\t}\n});\n\nexport const {  setCurrentReview,\n\t\t\t\tmoreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\t\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\t\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem,\n\t\t\t\tgetOtherReviews, startLoadGetOtherReviews, endLoadGetOtherReviews} = storeUserReviews.actions;\n\nexport default storeUserReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem,\n\t\tgetOtherReviews, startLoadGetOtherReviews, endLoadGetOtherReviews} from \"../user.reviews.js\";\n\nfunction* getReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nfunction* getReviewSaga({payload = {}}) {\n\tyield put(startLoadGetReviewItem());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/review/${payload.id}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviewItem(res.data));\n\tyield put(endLoadGetReviewItem());\n}\n\nfunction* getOtherReviewSaga({payload = {}}) {\n\tyield put(startLoadGetOtherReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/other-short-reviews/${payload.id}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getOtherReviews(res.data));\n\tyield put(endLoadGetOtherReviews());\n}\n\nconst FETCH_MORE_REVIEWS = 'FETCH_MORE_REVIEWS';\nconst FETCH_GET_REVIEWS = 'FETCH_GET_REVIEWS';\nconst FETCH_GET_REVIEW = 'FETCH_GET_REVIEW';\nconst FETCH_OTHER_REVIEWS = 'FETCH_OTHER_REVIEWS';\n\nexport const userReviewsSagas = createSagas([\n\t[FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[FETCH_GET_REVIEWS, getReviewsSaga],\n\t[FETCH_GET_REVIEW, getReviewSaga],\n\t[FETCH_OTHER_REVIEWS, getOtherReviewSaga]\n]);\n\nexport const {sagaMoreReviews, sagaGetReviews, sagaGetReview, sagaOtherReviews} = createActions({\n\tsagaMoreReviews: FETCH_MORE_REVIEWS,\n\tsagaGetReviews: FETCH_GET_REVIEWS,\n\tsagaGetReview: FETCH_GET_REVIEW,\n\tsagaOtherReviews: FETCH_OTHER_REVIEWS\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport {useTranslation} from \"react-i18next\";\n\nimport ReviewItem from './ReviewItem';\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport Filler from './Filler';\n\nimport {sagaGetReviews, sagaMoreReviews} from '../redux/saga/user.reviews.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'updatedAt'\n];\n\nexport default function ReviewLists() {\n\tconst {t} = useTranslation('components/ReviewLists');\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst reviews = useSelector((state) => state.userReviews.data);\n\tconst reviewsLoading = useSelector((state) => state.userReviews.dataLoading);\n\tconst reviewsMoreLoading = useSelector((state) => state.userReviews.dataMoreLoading);\n\tconst reviewPaginator = useSelector((state) => state.userReviews.paginator);\n\tconst dispatch = useDispatch();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetReviews({params: searchParams, isUser: isUser(cookies.Roles)}));\n\t}, [searchParams]);\n\n\tconst moreFn = useCallback(() => {\n\t\tdispatch(sagaMoreReviews({params: new URLSearchParams(searchParams.toString()+'&page='+reviewPaginator.getPageForQuery()), isUser: isUser(cookies.Roles)}));\n\t}, [searchParams]);\n\n\treturn (\n\t\t<div>\n\t\t\t<Row><Col>\n\t\t\t\t<Container className=\"border border-primary rounded mt-1\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md=\"auto\" className=\"mt-3 mb-3\">\n\t\t\t\t\t\t<PopoverFilterReviews withAuthors={true} sortFields={sortFields} typeFilter=\"guest\" />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</Col></Row>\n\t\t\t{reviewsLoading?<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='4rem' />\n\t\t\t\t\t\t<Row><Col style={{minHeight: '100px'}}></Col></Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Col>\n\t\t\t</Row>:<Row><Col>\n\t\t\t\t<InfiniteScroll dataLength={reviews.length}\n\t\t\t\t\t\t\t\tnext={moreFn}\n\t\t\t\t\t\t\t\tscrollThreshold={0.99}\n\t\t\t\t\t\t\t\tloader={<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center justify-content-center mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t{reviewsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>}\n\t\t\t\t\t\t\t\tendMessage={<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center justify-content-center mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t{reviewsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>}\n\t\t\t\t\t\t\t\thasMore={(() => {\n\t\t\t\t\t\t\t\t\tif(reviews.length < reviewPaginator.getDefaultCountRows()) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn !(reviews.length % reviewPaginator.getDefaultCountRows())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()}>\n\t\t\t\t\t{reviews.map((entry) => {\n\t\t\t\t\t\treturn <ReviewItem  key={entry.id}\n\t\t\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\t\t\ttitle={entry.groupTitle?.title?.title}\n\t\t\t\t\t\t\t\t\t\t\tgroup={entry.groupTitle?.group?.group}\n\t\t\t\t\t\t\t\t\t\t\tgroupId={entry.groupTitle?.group?.id}\n\t\t\t\t\t\t\t\t\t\t\tratings={entry.ratings || []}\n\t\t\t\t\t\t\t\t\t\t\tlikes={entry.likes || []}\n\t\t\t\t\t\t\t\t\t\t\tdescription={entry.description}\n\t\t\t\t\t\t\t\t\t\t\tdate={entry.createdAt}\n\t\t\t\t\t\t\t\t\t\t\tauthorRating={entry.authorRating}\n\t\t\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || t('Unknown'), entry.user?.userInfo?.last_name || t('Unknown')]}/>\n\t\t\t\t\t})}\n\t\t\t\t</InfiniteScroll>\n\t\t\t</Col></Row>}\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserTags = createSlice({\n\tname: 'userTags',\n\tinitialState: {\n\t\tdata: [],\n\t\tloadTags: false\n\t},\n\treducers: {\n\t\tgetAllTags(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t},\n\t\tstartLoadTags(state, action) {\n\t\t\tstate.loadTags = true;\n\t\t},\n\t\tendLoadTags(state, action) {\n\t\t\tstate.loadTags = false;\n\t\t}\n\t}\n});\n\nexport const {getAllTags, startLoadTags, endLoadTags} = storeUserTags.actions;\n\nexport default storeUserTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getAllTags, startLoadTags, endLoadTags} from \"../user.tags.js\";\n\nfunction* getAllTagsSaga({payload = {}}) {\n\tyield put(startLoadTags());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/tags${payload.order?'/order-true':''}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getAllTags(res.data));\n\tyield put(endLoadTags());\n}\n\nconst FETCH_GET_ALL_TAGS = 'FETCH_GET_ALL_TAGS';\n\nexport const userTagsSagas = createSagas([\n\t[FETCH_GET_ALL_TAGS, getAllTagsSaga]\n]);\n\nexport const {sagaGetAllTags} = createActions({\n\tsagaGetAllTags: FETCH_GET_ALL_TAGS,\n});\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport ReactWordcloud from 'react-wordcloud';\n\nimport {sagaGetAllTags} from '../redux/saga/user.tags.js';\n\nimport Filler from './Filler';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst tags = useSelector((state) => state.userTags.data);\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\n\tconst loadTags = useSelector((state) => state.userTags.loadTags);\n\n\tconst wordIndexs = {};\n\tconst words = tags.map((entry) => {wordIndexs[entry.tag] = entry.id; return {value: entry.countReview, text: entry.tag}})\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetAllTags({order: true}));\n\t}, []);\n\n\treturn (\n\t\t<div style={{minHeight: '300px', minWidth: '300px'}} className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t{loadTags?<Filler ignorePadding={false} size='4.5rem' />:null}\n\t\t\t<ReactWordcloud words={words}\n\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\trotations: 2,\n\t\t\t\t\t\t\t\trotationAngles: [0, 0],\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcallbacks={{\n\t\t\t\t\t\t\t\tgetWordTooltip: (word) => {return '';/*`Matches found for tag ${word.text} - ${word.value}`*/},\n\t\t\t\t\t\t\t\tonWordClick: (word, event) => {\n\t\t\t\t\t\t\t\t\tnavigate('/reviews'+'?'+queryString.stringify({tags: [wordIndexs[word.text]]}, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonWordMouseOut: (word, event) => {\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) / 2) + 'px');\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'none');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonWordMouseOver: (word, event) => {\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) * 2) + 'px');\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'underline');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={[300, 300]} />\n\t\t</div>\n\t)\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal, Form, Alert, ListGroup} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaOtherReviews} from '../redux/saga/user.reviews.js';\n\nimport Filler from './Filler';\n\nexport default function OtherAuthorReviews(props) {\n\tconst {t} = useTranslation('components/OtherAuthorReviews');\n\tconst dispatch = useDispatch();\n\n\tconst review = useSelector((state) => state.userReviews.currentReview);\n\n\tconst otherData = useSelector((state) => state.userReviews.otherData);\n\tconst otherDataLoading = useSelector((state) => state.userReviews.otherDataLoading);\n\n\tconst firstUpdate = useRef(true);\n\tuseEffect(() => {\n\t\tif(review) {\n\t\t\tdispatch(sagaOtherReviews({id: review.titleGroupId}));\n\t\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t\t}\n\t}, [review]);\n\n\treturn (review?<div style={{width: '302px'}} className=\"border border-primary rounded mb-1\">\n\t\t\t{(otherDataLoading)?<Filler ignorePadding={true} size='3rem' />:null}\n\t\t\t<Row className=\"justify-content-center mb-2 mt-2\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<span className=\"h6\">{t('Other')} (<span className=\"h6\">{review?.groupTitle?.group?.group || t('Unknown')}</span>\n\t\t\t\t\t<span className=\"h6\"> / </span>\n\t\t\t\t\t<span className=\"h6\">{review?.groupTitle?.title?.title || t('Unknown')}</span>) {t('Reviews')}</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row><Col>\n\t\t\t\t<ListGroup>{otherData.map((entry, index) => {\n\t\t\t\t\treturn <ListGroup.Item style={{border: '0px', borderTopLeftRadius: '0px', borderTopRightRadius: '0px'}} key={index} active={review.id == entry.id}>\n\t\t\t\t\t\t{review.id != entry.id?<Link to={'/review/'+entry.id}>\n\t\t\t\t\t\t\t<span>{entry.groupTitle?.group?.group || t('Unknown')} / {entry.groupTitle?.title?.title || t('Unknown')}({entry.user?.userInfo?.first_name} {entry.user?.userInfo?.last_name})</span>\n\t\t\t\t\t\t</Link>:<>\n\t\t\t\t\t\t\t<span>{entry.groupTitle?.group?.group || t('Unknown')} / {entry.groupTitle?.title?.title || t('Unknown')}({entry.user?.userInfo?.first_name} {entry.user?.userInfo?.last_name})</span>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t})}</ListGroup>\n\t\t\t</Col></Row>\n\t\t</div>:<div style={{width: '302px'}} className=\"border border-primary rounded mt-1 mb-1 pt-3 pb-3\">\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\"><span className=\"h5\">{t('Other Reviews NOT FOUND!!!')}</span></Col>\n\t\t\t</Row>\n\t\t</div>);\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewLists from '../components/ReviewLists';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\nimport OtherAuthorReviews from '../components/OtherAuthorReviews';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<ReviewLists />} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeEditorReviews = createSlice({\n\tname: 'editorReviews',\n\tinitialState: {\n\t\tpaginator: new Paginator(10),\n\n\t\tdata: [],\n\t\tdataLoading: false,\n\t\tdataMoreLoading: false,\n\t\tdataItem: {},\n\t\tdataItemLoading: false,\n\t\tdataItemSetLoading: false,\n\t\tdataItemError: false,\n\t\tdataItemNewLoading: false,\n\n\t\tdataItemRemoveLoading: false,\n\t\tdataItemRemoveError: false,\n\n\t\tnewReview: false,\n\t\tdataNewError: false\n\t},\n\treducers: {\n\t\tmoreReviews(state, action) {\n\t\t\t//state.data = [...state.data, ...action.payload];\n\t\t\tstate.paginator.addWithReplace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = true;\n\t\t},\n\t\tendLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = false;\n\t\t},\n\n\t\tgetReviews(state, action) {\n\t\t\t//state.data = [...action.payload];\n\t\t\tstate.paginator.replace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = true;\n\t\t},\n\t\tendLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = false;\n\t\t},\n\n\t\tgetReview(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t},\n\t\tstartLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tendLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\t\tstartLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = true;\n\t\t},\n\t\tendLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = false;\n\t\t},\n\t\terrorSetReview(state, action) {\n\t\t\tstate.dataItemError = action.payload;\n\t\t},\n\n\t\tstartLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = true;\n\t\t},\n\t\tendLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = false;\n\t\t},\n\t\tnewReview(state, action) {\n\t\t\tstate.newReview = action.payload;\n\t\t},\n\t\terrorNewReview(state, action) {\n\t\t\tstate.dataNewError = action.payload;\n\t\t},\n\n\t\tstartLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = true;\n\t\t},\n\t\tendLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = false;\n\t\t},\n\t\terrorRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveError = action.payload;\n\t\t},\n\t\tremoveReview(state, action) {\n\t\t\t//state.data = state.data.filter((entry) => entry.id !== action.payload.id);\n\t\t\tstate.paginator.remove(state, 'data', (entry) => entry.id != action.payload.id);\n\t\t}\n\t}\n});\n\nexport const {\tmoreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\t\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\t\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\t\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} = storeEditorReviews.actions;\n\nexport default storeEditorReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} from \"../editor.reviews.js\";\n\n\nfunction* getReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nfunction* getReviewSaga({payload = {}}) {\n\tyield put(startLoadGetReview());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/review/`+payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReview(res.data));\n\tyield put(endLoadGetReview());\n}\n\nfunction* editReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-edit`,\n\t\t\tdata: {\tid: payload.id, groupId: payload.group, titleId: payload.title, description: payload.description || '', text: payload.text || '',\n\t\t\t\t\ttags: payload.tags || [], authorRating: payload.authorRating || 0, draft: payload.draft},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorSetReview(e));\n\t} finally {\n\t\tyield put(endLoadSetReview());\n\t}\n}\n\nfunction* newReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-new`,\n\t\t\tdata: {groupId: payload.group, titleId: payload.title, description: payload.description || '', text: payload.text || '',\n\t\t\t\t\ttags: payload.tags || [], authorRating: payload.authorRating || 0, draft: payload.draft},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewReview(e));\n\t} finally {\n\t\tyield put(endLoadNewReview());\n\t}\n}\n\nfunction* removeReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRemoveReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-remove`,\n\t\t\tdata: {id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(removeReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRemoveReview(e));\n\t} finally {\n\t\tyield put(endLoadRemoveReview());\n\t}\n}\n\nconst EDITOR_FETCH_REVIEWS = 'EDITOR_FETCH_REVIEWS';\nconst EDITOR_FETCH_MORE_REVIEWS = 'EDITOR_FETCH_MORE_REVIEWS';\nconst EDITOR_FETCH_REVIEW = 'EDITOR_FETCH_REVIEW';\nconst EDITOR_FETCH_NEW_REVIEW = 'EDITOR_FETCH_NEW_REVIEW';\nconst EDITOR_FETCH_EDIT_REVIEW = 'EDITOR_FETCH_EDIT_REVIEW';\nconst EDITOR_REMOVE_REVIEW = 'EDITOR_REMOVE_REVIEW';\n\nexport const editorReviewsSagas = createSagas([\n\t[EDITOR_FETCH_REVIEWS, getReviewsSaga],\n\t[EDITOR_FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[EDITOR_FETCH_REVIEW, getReviewSaga],\n\t[EDITOR_FETCH_NEW_REVIEW, newReviewSaga],\n\t[EDITOR_FETCH_EDIT_REVIEW, editReviewSaga],\n\t[EDITOR_REMOVE_REVIEW, removeReviewSaga]\n]);\n\nexport const {sagaGetReviews, sagaMoreReviews, sagaGetReview, sagaNewReview, sagaEditReview, sagaRemoveReview} = createActions({\n\tsagaGetReviews: EDITOR_FETCH_REVIEWS,\n\tsagaMoreReviews: EDITOR_FETCH_MORE_REVIEWS,\n\tsagaGetReview: EDITOR_FETCH_REVIEW,\n\tsagaNewReview: EDITOR_FETCH_NEW_REVIEW,\n\tsagaEditReview: EDITOR_FETCH_EDIT_REVIEW,\n\tsagaRemoveReview: EDITOR_REMOVE_REVIEW\n});\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\n//import {setReviewId} from '../redux/user.comments.js';\nimport {getReviewItem, setCurrentReview} from '../redux/user.reviews.js';\n\nimport {sagaGetReview} from '../redux/saga/user.reviews.js';\nimport {sagaGetReview as sagaGetReviewEditor} from '../redux/saga/editor.reviews.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\nimport Filler from './Filler';\n\nexport default function ReviewFull(props) {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst {t} = useTranslation('components/ReviewFull');\n\tconst userReview = useSelector((state) => state.userReviews.dataItem);\n\tconst userReviewLoading = useSelector((state) => state.userReviews.dataItemLoading);\n\tconst editorReview = useSelector((state) => state.editorReviews.dataItem);\n\tconst editorReviewLoading = useSelector((state) => state.editorReviews.dataItemLoading);\n\n\tconst review = props.mode==='editor'?editorReview:userReview;\n\tconst reviewLoading = props.mode==='editor'?editorReviewLoading:userReviewLoading;\n\n\tconst dispatch = useDispatch();\n\tlet params = useParams();\n\t//let [firstRender, setFirstRender] = useState(true);\n\n\tconst firstRender = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(props.mode==='editor') {\n\t\t\tdispatch(sagaGetReviewEditor(params.id));\n\t\t} else {\n\t\t\tdispatch(sagaGetReview({id: params.id, isUser: isUser(cookies.Roles)}));\n\t\t}\n\t\tfirstRender.current = false;\n\t\t//setFirstRender(false);\n\t}, [params]);\n\n\tuseEffect(() => {\n\t\tif(review && review.id) {\n\t\t\tdispatch(setCurrentReview(review));\n\t\t}\n\t}, [userReview, editorReview]);\n\n\tuseLayoutEffect(() => () => {\n\t\tdispatch(getReviewItem(null));\n\t\tdispatch(setCurrentReview(null));\n\t}, [params]);\n\n\t//useLayoutEffect(() => () => {}, []);\n\n\treturn (<>\n\t\t{(reviewLoading || firstRender.current)?<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='6rem' />\n\t\t\t<Row><Col style={{minHeight: '200px'}}></Col></Row>\n\t\t</Container>:(review?<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t{review.blocked?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\t<h4>{t('This review has been banned and cannot be published!')}</h4>\n\t\t\t\t\t\t<h4>{t('Please contact the Moderator for details!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{review.draft?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t\t<h4>{t('This review is marked as a draft and has not been published!')}</h4>\n\t\t\t\t\t\t<h4>{t('You can change this by specifying the appropriate options!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col className=\"text-center\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={review.ratings || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col><Col sm=\"auto\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={review.likes || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.group?.group || t('Unknown')}</span>\n\t\t\t\t\t<span className=\"h2\"> / </span>\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.title?.title || t('Unknown')}</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-bottom border-top border-primary pt-1 pb-1 mt-3 mb-3\">\n\t\t\t\t<Col><ReactMarkdown>{review.groupTitle?.title?.description || t('Unknown')}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t<Col><span className=\"h1 text-info\">{review.authorRating || 0}</span></Col>\n\t\t\t\t<Col>\n\t\t\t\t\t{review.user?<Link to={'/reviews'+'?'+queryString.stringify({authors: [review.userId]}, {arrayFormat: 'bracket'})}>\n\t\t\t\t\t\t<span>{review.user?.userInfo?.first_name || t('Unknown')} {review.user?.userInfo?.last_name || t('Unknown')}</span>\n\t\t\t\t\t</Link>:<>\n\t\t\t\t\t\t<span className=\"text-secondary\">{review.user?.userInfo?.first_name || t('Unknown')} {review.user?.userInfo?.last_name || t('Unknown')}</span>\n\t\t\t\t\t</>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col><ReactMarkdown>{review.text}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-success\">\n\t\t\t\t\t\t\t\t<Col><h1>{review.averageEditorRating || 0}</h1></Col>\n\t\t\t\t\t\t\t\t<Col><strong>{t('Average Editors rating')}</strong></Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-danger\">\n\t\t\t\t\t\t\t\t<Col><h1>{review.averageUserRating || 0}</h1></Col>\n\t\t\t\t\t\t\t\t<Col><strong>{t('Average Users rating')}</strong></Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>{(review.tags || []).map((entry, index) => {\n\t\t\t\t\treturn <span key={index} className=\"m-2\"><Link to={'/reviews'+'?'+queryString.stringify({tags: [entry.id]}, {arrayFormat: 'bracket'})}>{entry.tag}</Link></span>\n\t\t\t\t})}</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"text-end\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(review.createdAt)})}</span></Col>\n\t\t\t</Row>\n\t\t\t{review.draft?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"warning\">\n\t\t\t\t\t\t<h4>{t('This review is marked as a draft and has not been published!')}</h4>\n\t\t\t\t\t\t<h4>{t('You can change this by specifying the appropriate options!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{review.blocked?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\t<h4>{t('This review has been banned and cannot be published!')}</h4>\n\t\t\t\t\t\t<h4>{t('Please contact the Moderator for details!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t</Container>:<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Row className=\"mt-3 mb-3\">\n\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t<span className=\"h3\">{t('Review')} \"{params.id}\" {t('NOT FOUND!!!')}</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>)}\n\t</>);\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeUserComments = createSlice({\n\tname: 'userComments',\n\tinitialState: {\n\t\tpaginator: new Paginator(10),\n\n\t\tcomments: [],\n\t\tcommentsLoading: false,\n\t\tcommentsMoreLoading: false,\n\t\tcommentsAutoUpdateLoading: false,\n\n\t\tnewComment: false,\n\t\tnewCommentLoading: false,\n\t\tnewCommentError: false,\n\n\t\tcommentProcessing: [],\n\n\t\teditCommentError: false,\n\t},\n\treducers: {\n\t\tmoreComments(state, action) {\n\t\t\t//state.data = [...state.data, ...action.payload];\n\t\t\tstate.paginator.addWithReplace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = true;\n\t\t},\n\t\tendLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = false;\n\t\t},\n\n\t\tgetComments(state, action) {\n\t\t\t//state.data = [...action.payload];\n\t\t\tstate.paginator.replace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = true;\n\t\t},\n\t\tendLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = false;\n\t\t},\n\n\t\tstartLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = true;\n\t\t},\n\t\tendLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = false;\n\t\t},\n\t\tnewComment(state, action) {\n\t\t\tstate.newComment = action.payload;\n\t\t\tstate.paginator.append(state, 'comments', [action.payload]);\n\t\t},\n\t\terrorNewComment(state, action) {\n\t\t\tstate.newCommentError = action.payload;\n\t\t},\n\n\t\tautoUpdateComments(state, action) {\n\t\t\tstate.paginator.append(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = true;\n\t\t},\n\t\tendLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = false;\n\t\t},\n\n\t\tstartLoadRemoveComment(state, action) {\n\t\t\tstate.commentProcessing = [...state.commentProcessing, action.payload];\n\t\t},\n\t\tremoveComment(state, action) {\n\t\t\tstate.paginator.remove(state, 'comments', (entry) => entry.id != action.payload.id);\n\t\t},\n\t\terrorRemoveComment(state, action) {\n\t\t\tconsole.log(action.payload);\n\t\t},\n\t\tendLoadRemoveComment(state, action) {\n\t\t\tstate.commentProcessing = state.commentProcessing.filter((entry) => entry.id == action.payload);\n\t\t},\n\n\t\tstartLoadEditComment(state, action) {\n\t\t\tstate.commentProcessing = [...state.commentProcessing, action.payload];\n\t\t},\n\t\tendLoadEditComment(state, action) {\n\t\t\tstate.commentProcessing = state.commentProcessing.filter((entry) => entry.id == action.payload);\n\t\t},\n\t\terrorLoadEditComment(state, action) {\n\t\t\tstate.editCommentError = action.payload;\n\t\t},\n\t\teditComment(state, action) {\n\t\t\tstate.comments = state.comments.map((entry) => {\n\t\t\t\treturn entry.id == action.payload.id?action.payload:entry;\n\t\t\t});\n\t\t},\n\n\t}\n});\n\nexport const {\tmoreComments, startLoadMoreComments, endLoadMoreComments,\n\t\t\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\t\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\t\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment,\n\t\t\t\tstartLoadRemoveComment, removeComment, errorRemoveComment, endLoadRemoveComment,\n\t\t\t\tstartLoadEditComment, endLoadEditComment, errorLoadEditComment, editComment,\n\t\t\t\tsetReviewId} = storeUserComments.actions;\n\nexport default storeUserComments.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreComments, startLoadMoreComments, endLoadMoreComments,\n\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment,\n\t\tstartLoadRemoveComment, removeComment, errorRemoveComment, endLoadRemoveComment,\n\t\tstartLoadEditComment, endLoadEditComment, errorLoadEditComment, editComment} from \"../user.comments.js\";\n\n\nfunction* getCommentsSaga({payload = {}}) {\n\tyield put(startLoadGetComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getComments(res.data));\n\tyield put(endLoadGetComments());\n}\n\nfunction* moreCommentsSaga({payload = {}}) {\n\tyield put(startLoadMoreComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreComments(res.data));\n\tyield put(endLoadMoreComments());\n}\n\nfunction* autoUpdateCommentsSaga({payload = {}}) {\n\tyield put(startLoadAutoUpdateComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/auto-update-comments`,\n\t\tparams: {time: payload.time, reviewId: payload.reviewId},\n\t\t...defaultRequestSettings\n\t});\n\tyield put(autoUpdateComments(res.data));\n\tyield put(endLoadAutoUpdateComments());\n}\n\nfunction* newCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewComment());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/new-comment`,\n\t\t\tdata: {comment: payload.comment, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewComment(e));\n\t} finally {\n\t\tyield put(endLoadNewComment());\n\t}\n}\n\nfunction* removeCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRemoveComment(payload.id));\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/remove-comment`,\n\t\t\tdata: {id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(removeComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRemoveComment(e));\n\t} finally {\n\t\tyield put(endLoadRemoveComment(payload.id));\n\t}\n}\n\nfunction* editCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadEditComment(payload.id));\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/edit-comment`,\n\t\t\tdata: {comment: payload.comment, reviewId: payload.reviewId, id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(editComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorLoadEditComment(e));\n\t} finally {\n\t\tyield put(endLoadEditComment(payload.id));\n\t}\n}\n\nconst FETCH_COMMENTS = 'FETCH_COMMENTS';\nconst FETCH_MORE_COMMENTS = 'FETCH_MORE_COMMENTS';\nconst FETCH_AUTO_UPDATE_COMMENTS = 'FETCH_AUTO_UPDATE_COMMENTS';\nconst FETCH_NEW_COMMENT = 'FETCH_NEW_COMMENT';\nconst FETCH_REMOVE_COMMENT = 'FETCH_REMOVE_COMMENT';\nconst FETCH_EDIT_COMMENT = 'FETCH_EDIT_COMMENT';\n\nexport const userCommentsSagas = createSagas([\n\t[FETCH_COMMENTS, getCommentsSaga],\n\t[FETCH_MORE_COMMENTS, moreCommentsSaga],\n\t[FETCH_AUTO_UPDATE_COMMENTS, autoUpdateCommentsSaga],\n\t[FETCH_NEW_COMMENT, newCommentSaga],\n\t[FETCH_REMOVE_COMMENT, removeCommentSaga],\n\t[FETCH_EDIT_COMMENT, editCommentSaga]\n]);\n\nexport const {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment, sagaRemoveComment, sagaEditComment} = createActions({\n\tsagaGetComments: FETCH_COMMENTS,\n\tsagaMoreComments: FETCH_MORE_COMMENTS,\n\tsagaAutoUpdateComments: FETCH_AUTO_UPDATE_COMMENTS,\n\tsagaNewComment: FETCH_NEW_COMMENT,\n\tsagaRemoveComment: FETCH_REMOVE_COMMENT,\n\tsagaEditComment: FETCH_EDIT_COMMENT\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaRemoveComment} from '../redux/saga/user.comments.js'\n\nexport default function ReviewCommentRemove(props) {\n\tconst {t} = useTranslation('components/ReviewCommentRemove');\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = useCallback(() => {\n\t\t//dispatch(errorNewComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\t//resetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst handleOKClose = useCallback(() => {\n\t\tdispatch(sagaRemoveComment({id: props.id}));\n\t\tsetShow(false);\n\t}, [props]);\n\n\treturn (<>\n\t\t<Button variant=\"danger\" size=\"sm\" onClick={handleShow}>{t('Remove')}</Button>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t('Modal Confirm Removing Comment')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>{t('Are you sure you want to remove comment id: {} ?', {id: props.id})}</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>{t('Close')}</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleOKClose}>{t('Remove Comment')}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form, Alert} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {sagaEditComment} from '../redux/saga/user.comments.js';\nimport {errorLoadEditComment} from '../redux/user.comments.js';\n\nimport Filler from './Filler';\n\nconst validationSchemaModal = Yup.object().shape({\n\tcomment: Yup.string().required('Comment is required').min(10, 'Commeent must be at least 10 characters').max(3000, 'Comment must be maximum 3000 characters')\n});\n\nexport default function ReviewCommentEdit(props) {\n\tconst {t} = useTranslation('components/ReviewCommentEdit');\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\tconst commentProcessing = useSelector((state) => state.userComments.commentProcessing);\n\tconst editCommentError = useSelector((state) => state.userComments.editCommentError);\n\n\tconst handleClose = useCallback(() => {\n\t\tdispatch(errorLoadEditComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\t//resetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\treset: resetModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst comments = useSelector((state) => state.userComments.comments);\n\n\tuseEffect(() => {\n\t\tif(commentProcessing.includes(props.id)) setShow(false);\n\t}, [comments]);\n\n\tuseLayoutEffect(() => {\n\t\tsetValueModal('comment', props.comment);\n\t}, [props]);\n\n\treturn (<>\n\t\t<Button variant=\"primary\" size=\"sm\" onClick={handleShow}>{t('Edit')}</Button>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t('Modal Edit Comment')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{(commentProcessing.includes(props.id))?<Filler size='6rem' />:null}\n\t\t\t\t<div>\n\t\t\t\t\t{editCommentError?<Alert variant=\"danger\" onClose={() => {dispatch(errorLoadEditComment(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{editCommentError.data.reason || editCommentError.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</div>\n\t\t\t\t<Form id=\"comment-edit-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaEditComment({id: props.id, reviewId: props.reviewId, comment: data.comment}));\n\t\t\t\t\t//setShow(false);\n\t\t\t\t})}>\n\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicComment\">\n\t\t\t\t\t<Form.Label column sm=\"2\">{t('comment')}</Form.Label>\n\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"comment\")} rows={5} placeholder={t('Enter comment')} isInvalid={!!errorsModal.comment} />\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t{t(errorsModal.comment?.message)}\n\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t</Col>\n\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>{t('Close')}</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"comment-edit-modal-form\">{t('Save Comment')}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\n\nimport ReviewCommentRemove from './ReviewCommentRemove';\nimport ReviewCommentEdit from './ReviewCommentEdit';\nimport Filler from './Filler';\n\nexport default function ReviewCommentItem(props) {\n\tconst {t} = useTranslation('components/ReviewCommentItem');\n\n\tconst user = useSelector((state) => state.userUser.user);\n\n\tconst commentProcessing = useSelector((state) => state.userComments.commentProcessing);\n\n\treturn (<Row className=\"border border-primary rounded mt-1 mb-1 pt-2 pb-2\">\n\t\t{(commentProcessing.includes(props.id))?<Filler ignorePadding={true} size='4.5rem' />:null}\n\t\t<Col><span className=\"text-secondary\">{props.author[0]} {props.author[1]}</span></Col>\n\t\t<Col sm=\"auto\">\n\t\t\t{(user.id == props.authorId)?<ReviewCommentEdit id={props.id} comment={props.comment} reviewId={props.reviewId} />:null}\n\t\t</Col>\n\t\t<Col sm=\"auto\">\n\t\t\t{(user.id == props.authorId)?<ReviewCommentRemove id={props.id} />:null}\n\t\t</Col>\n\t\t<Col sm=\"12\"><span>{props.comment}</span></Col>\n\t\t<Col sm=\"12\"><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t</Row>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form, Alert} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaAutoUpdateComments} from '../redux/saga/user.comments.js';\n\nexport default function ReviewCommentAutoUpdate(props) {\n\tconst {t} = useTranslation('components/ReviewCommentAutoUpdate');\n\tconst timeout = props.timeout * 1;\n\tconst dispatch = useDispatch();\n\tconst [timeOut, setTimeOut] = useState(0);\n\n\tconst commentsAutoUpdateLoading = useSelector((state) => state.userComments.commentsAutoUpdateLoading);\n\tconst comments = useSelector((state) => state.userComments.comments);\n\n\tconst requestTime = useRef(0);\n\tconst descInterval = useRef(null);\n\tconst currentTimeout = useRef(0);\n\tuseLayoutEffect(() => {\n\t\tclearInterval(descInterval.current);\n\t\trequestTime.current = Date.now();\n\t\tcurrentTimeout.current = 0;\n\t\tsetTimeOut(currentTimeout.current);\n\t\tdescInterval.current = setInterval(() => {\n\t\t\tcurrentTimeout.current++;\n\t\t\tif(currentTimeout.current >= props.timeout) {\n\t\t\t\tdispatch(sagaAutoUpdateComments({time: requestTime.current, reviewId: props.reviewId}));\n\t\t\t\tclearInterval(descInterval.current);\n\t\t\t\tcurrentTimeout.current = 0;\n\t\t\t\tsetTimeOut(currentTimeout.current);\n\t\t\t} else {\n\t\t\t\tsetTimeOut(currentTimeout.current);\n\t\t\t}\n\t\t}, 1000);\n\t}, [comments]);\n\n\tuseLayoutEffect(() => () => {clearInterval(descInterval.current);}, []);\n\n\treturn (<div>\n\t\t{!commentsAutoUpdateLoading?<>\n\t\t\t<span className=\"h6 text-success\">{t('update through ')}</span><span className=\"h6 text-success\">{Math.round(props.timeout-timeOut)}</span>\n\t\t</>:<>\n\t\t\t<span className=\"h6 text-warning\">{t('autoupdate...')}</span>\n\t\t</>}\n\t</div>);\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal, Form, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport {errorNewComment} from '../redux/user.comments.js';\nimport {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment} from '../redux/saga/user.comments.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewCommentItem from './ReviewCommentItem';\nimport ReviewCommentAutoUpdate from './ReviewCommentAutoUpdate';\nimport Filler from './Filler';\n\nconst validationSchemaModal = Yup.object().shape({\n\tcomment: Yup.string().required('Comment is required').min(10, 'Commeent must be at least 10 characters').max(3000, 'Comment must be maximum 3000 characters')\n});\n\nexport default function ReviewComments(props) {\n\tconst {t} = useTranslation('components/ReviewComments');\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\t//const reviewId = useSelector((state) => state.userComments.reviewId);\n\tconst review = useSelector((state) => state.userReviews.currentReview);\n\n\tconst comments = useSelector((state) => state.userComments.comments);\n\tconst commentsLoading = useSelector((state) => state.userComments.commentsLoading);\n\tconst commentsMoreLoading = useSelector((state) => state.userComments.commentsMoreLoading);\n\tconst commentPaginator = useSelector((state) => state.userComments.paginator);\n\n\tconst newCommentLoading = useSelector((state) => state.userComments.newCommentLoading);\n\tconst newCommentError = useSelector((state) => state.userComments.newCommentError);\n\tconst newComment = useSelector((state) => state.userComments.newComment);\n\n\tconst handleClose = useCallback(() => {\n\t\tdispatch(errorNewComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\tresetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\treset: resetModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(review) {\n\t\t\tdispatch(sagaGetComments({reviewId: review.id}));\n\t\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t\t}\n\t}, [review]);\n\n\tconst moreFn = useCallback(() => {\n\t\tdispatch(sagaMoreComments({page: commentPaginator.getPageForQuery(), reviewId: review.id}));\n\t}, [review]);\n\n\tuseEffect(() => {\n\t\tif(newComment && show) handleClose();\n\t}, [newComment]);\n\n\treturn (review?<>\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t{(commentsLoading)?<Filler ignorePadding={true} size='4.5rem' />:null}\n\t\t\t<Row className=\"mb-3 mt-3\"><Col><span className=\"h4\">{t('Comments')}:</span></Col></Row>\n\t\t\t{(!commentsLoading && !firstUpdate.current)?<Row className=\"justify-content-end\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<ReviewCommentAutoUpdate timeout={10} reviewId={review.id} />\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{comments.length<=0?(<Row className=\"justify-content-center\"><Col sm=\"auto\"><span className=\"h4\">{t('Not Found')}</span></Col></Row>):(<Row><Col>\n\t\t\t\t<InfiniteScroll dataLength={comments.length}\n\t\t\t\t\t\t\t\tnext={moreFn}\n\t\t\t\t\t\t\t\tscrollThreshold={0.99}\n\t\t\t\t\t\t\t\tstyle={{overflow: 'inherit'}}\n\t\t\t\t\t\t\t\tloader={<Row className=\"border border-primary rounded mt-1 mb-1 pt-2 pb-2\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t{commentsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>}\n\t\t\t\t\t\t\t\tendMessage={<Row className=\"border border-primary rounded mt-1 mb-1 pt-2 pb-2\">\n\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t{commentsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>}\n\t\t\t\t\t\t\t\thasMore={(() => {\n\t\t\t\t\t\t\t\t\tconst length = commentPaginator.getCountRowsWithoutAppends();\n\t\t\t\t\t\t\t\t\tif(comments.length < length) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn !(comments.length % length)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()}>\n\t\t\t\t\t{comments.map((entry, index) => {\n\t\t\t\t\t\treturn <ReviewCommentItem   key={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomment={entry.comment}\n\t\t\t\t\t\t\t\t\t\t\t\t\treviewId={review.id}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdate={entry.updatedAt}\n\t\t\t\t\t\t\t\t\t\t\t\t\tauthorId={entry.userId}\n\t\t\t\t\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || t('Unknown'), entry.user?.userInfo?.last_name || t('Unknown')]} />\n\t\t\t\t\t})}\n\t\t\t\t</InfiniteScroll>\n\n\t\t\t</Col></Row>)}\n\t\t\t<Row className=\"mb-3 mt-3 justify-content-end\"><Col sm='auto'>\n\t\t\t\t<Button variant=\"outline-primary\" disabled={newCommentLoading} onClick={handleShow}>{t('Create Comment')}</Button>\n\t\t\t</Col></Row>\n\t\t</Container>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t('Modal Create New Comment')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{newCommentLoading?<Filler ignorePadding={true} size='6rem' />:null}\n\t\t\t\t<div>\n\t\t\t\t\t{newCommentError?<Alert variant=\"danger\" onClose={() => {dispatch(errorNewComment(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{newCommentError.data.reason || newCommentError.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</div>\n\t\t\t\t<Form id=\"comments-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaNewComment({comment: data.comment, reviewId: review.id}));\n\t\t\t\t})}>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicComment\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('comment')}</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"comment\")} rows={5} placeholder={t('Enter comment')} isInvalid={!!errorsModal.comment} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{t(errorsModal.comment?.message)}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>{t('Close')}</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"comments-modal-form\">{t('Add Comment')}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>:<Container className=\"border border-primary rounded mt-1 mb-1 pt-3 pb-3\">\n\t\t<Row className=\"justify-content-center\">\n\t\t\t<Col sm=\"auto\"><span className=\"h3\">{t('Comments NOT FOUND!!!')}</span></Col>\n\t\t</Row>\n\t</Container>);\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewFull from '../components/ReviewFull';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\nimport ReviewComments from '../components/ReviewComments';\nimport OtherAuthorReviews from '../components/OtherAuthorReviews';\n\nexport default function PageReview() {\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent \tcontent={<ReviewFull />}\n\t\t\t\t\t\t\taddContent={isUser(cookies.Roles)?<ReviewComments />:null}\n\t\t\t\t\t\t\trightbar={<RightBar />}\n\t\t\t\t\t\t\taddRightBar={<OtherAuthorReviews />} />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaRemoveReview} from '../redux/saga/editor.reviews.js';\n\nexport default function MyReviewRow(props) {\n\tconst {t} = useTranslation('components/MyReviewRow');\n\tconst dispatch = useDispatch();\n\n\tconst entry = props.entry;\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = useCallback(() => setShow(false), []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\tconst handleOKClose = useCallback(() => {\n\t\tdispatch(sagaRemoveReview(entry));\n\t\tsetShow(false);\n\t}, [entry]);\n\n\treturn (\n\t\t<>\n\t\t\t<tr>\n\t\t\t\t<td>{props.index+1}</td>\n\t\t\t\t<td>{entry.id}</td>\n\t\t\t\t<td>{entry.groupTitle?.group?.group}</td>\n\t\t\t\t<td>{entry.groupTitle?.title?.title}</td>\n\t\t\t\t<td>{entry.authorRating}</td>\n\t\t\t\t<td>{entry.averageEditorRating}</td>\n\t\t\t\t<td>{entry.averageUserRating}</td>\n\t\t\t\t<td>{entry.countComments}</td>\n\t\t\t\t<td>{entry.tags.map((entry) => entry.tag).join(', ')}</td>\n\t\t\t\t<td>{entry.description}</td>\n\t\t\t\t<td>{entry.draft+''}</td>\n\t\t\t\t<td>{entry.blocked+''}</td>\n\t\t\t\t<td><Link to={\"/my-review-view/\"+entry.id} className=\"btn btn-outline-info btn-sm\" role=\"button\" aria-pressed=\"true\">{t('V')}</Link></td>\n\t\t\t\t<td><Link to={\"/my-review-edit/\"+entry.id} className=\"btn btn-outline-primary btn-sm\" role=\"button\" aria-pressed=\"true\">{t('E')}</Link></td>\n\t\t\t\t<td><Button variant=\"outline-danger\" size=\"sm\" onClick={handleShow}>{t('R')}</Button></td>\n\t\t\t</tr>\n\t\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>{t('Modal Confirm Removing Review')}</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>{t('Are you sure you want to remove review id: {} {}/{}?', {id: entry.id, group: entry.groupTitle?.group?.group, title: entry.groupTitle?.title?.title})}</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>{t('Close')}</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleOKClose}>{t('Remove Review')}</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useNavigate, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Table, Popover, OverlayTrigger} from 'react-bootstrap';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport {useTranslation} from \"react-i18next\";\n\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport MyReviewRow from './MyReviewRow';\nimport Filler from './Filler';\n\nimport {sagaGetReviews, sagaMoreReviews} from '../redux/saga/editor.reviews.js';\nimport {newReview as newReviewAC} from '../redux/editor.reviews.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'draft',\n\t'updatedAt'\n];\n\nexport default function MyReviewLists() {\n\tconst {t} = useTranslation('components/MyReviewLists');\n\tconst reviews = useSelector((state) => state.editorReviews.data);\n\tconst loadReviews = useSelector((state) => state.editorReviews.dataLoading);\n\tconst reviewsMoreLoading = useSelector((state) => state.editorReviews.dataMoreLoading);\n\tconst reviewPaginator = useSelector((state) => state.editorReviews.paginator);\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\tconst navigate = useNavigate();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetReviews({params: searchParams}));\n\t}, [searchParams]);\n\n\tconst moreFn = useCallback(() => {\n\t\tdispatch(sagaMoreReviews({params: new URLSearchParams(searchParams.toString()+'&page='+reviewPaginator.getPageForQuery())}));\n\t}, [searchParams]);\n\n\treturn (\n\t\t<div className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t<Table striped bordered hover className=\"rounded mb-0\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colSpan=\"12\">\n\t\t\t\t\t\t\t<PopoverFilterReviews withAuthors={false} sortFields={sortFields} typeFilter=\"editor\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"text-center\" colSpan=\"3\">\n\t\t\t\t\t\t\t<Link to=\"/my-review-new\" className=\"btn btn-outline-success\">{t('Create')}</Link>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"text-center\">{t('#')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('id')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('Group')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('Title')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('AR')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('AAR')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('AUR')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('comms')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('tags')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('description')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('draft')}</th>\n\t\t\t\t\t\t<th className=\"text-center\">{t('ban')}</th>\n\t\t\t\t\t\t<th className=\"text-center\" colSpan=\"3\">{t('actions')}</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{loadReviews?<tr><td colSpan=\"15\"><div style={{minHeight: '300px'}}>\n\t\t\t\t\t\t<Filler ignorePadding={true} size=\"6rem\" />\n\t\t\t\t\t</div></td></tr>:reviews.map((entry, index) => {\n\t\t\t\t\t\treturn <MyReviewRow entry={entry} index={index} key={index} />\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t\t<tfoot>\n\t\t\t\t\t<tr><td colSpan=\"15\"><div>\n\t\t\t\t\t\t{reviewsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t</div></td></tr>\n\t\t\t\t</tfoot>\n\t\t\t</Table>\n\t\t</div>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewLists from '../components/MyReviewLists';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewLists />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeEditorImages = createSlice({\n\tname: 'editorImages',\n\tinitialState: {\n\t\tpaginator: new Paginator(20),\n\t\tmodalImages: false,\n\t\turlImageToInsert: false,\n\t\timages: [],\n\t\tloadImages: false,\n\t\tloadMoreImages: false,\n\t\tloadNewImage: false,\n\t\terrorNewImage: false,\n\t\tnewImage: false,\n\t\tprogressLoadNewImage: 0,\n\t\tselectedImageInsert: null,\n\t\tselectedImageUpload: null\n\t},\n\treducers: {\n\t\tshowModalImage(state, action) {\n\t\t\tstate.modalImages = true;\n\t\t},\n\t\thideModalImage(state, action) {\n\t\t\tstate.modalImages = false;\n\t\t},\n\t\tsetURLImageToInsert(state, action) {\n\t\t\tstate.urlImageToInsert = action.payload;\n\t\t},\n\t\tgetImages(state, action) {\n\t\t\t//state.images = [...action.payload];\n\t\t\tstate.paginator.replace(state, 'images', action.payload);\n\t\t},\n\t\tstartLoadImages(state, action) {\n\t\t\tstate.loadImages = true;\n\t\t},\n\t\tendLoadImages(state, action) {\n\t\t\tstate.loadImages = false;\n\t\t},\n\t\tmoreImages(state, action) {\n\t\t\t//state.images = [...state.images, ...action.payload];\n\t\t\tstate.paginator.addWithReplace(state, 'images', action.payload);\n\t\t},\n\t\tstartLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = true;\n\t\t},\n\t\tendLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = false;\n\t\t},\n\t\tstartLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = true;\n\t\t},\n\t\tendLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = false;\n\t\t},\n\t\tprogressLoadNewImageAC(state, action) {\n\t\t\tstate.progressLoadNewImage = action.payload;\n\t\t},\n\t\terrorNewImageAC(state, action) {\n\t\t\tstate.errorNewImage = action.payload;\n\t\t},\n\t\tnewImageAC(state, action) {\n\t\t\t//state.images = [...action.payload, ...state.images];\n\t\t\tstate.paginator.append(state, 'images', action.payload);\n\t\t\tstate.newImage = action.payload;\n\t\t},\n\t\tselectedImageInsertAC(state, action) {\n\t\t\tstate.selectedImageInsert = action.payload;\n\t\t},\n\t\tselectedImageUploadAC(state, action) {\n\t\t\tstate.selectedImageUpload = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tshowModalImage, hideModalImage, setURLImageToInsert,\n\t\t\t\tgetImages, startLoadImages, endLoadImages,\n\t\t\t\tmoreImages, startLoadMoreImages, endLoadMoreImages,\n\t\t\t\tselectedImageInsertAC, selectedImageUploadAC,\n\t\t\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC, progressLoadNewImageAC} = storeEditorImages.actions;\n\nexport default storeEditorImages.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getImages, startLoadImages, endLoadImages, moreImages, startLoadMoreImages, endLoadMoreImages,\n\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC} from \"../editor.images.js\";\n\nfunction* getPartImagesSaga({payload = {}}) {\n\tyield put(startLoadImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getImages(res.data));\n\tyield put(endLoadImages());\n}\n\nfunction* morePartImagesSaga({payload = {}}) {\n\tyield put(startLoadMoreImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\tparams: {page: payload.page},\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreImages(res.data));\n\tyield put(endLoadMoreImages());\n}\n\nfunction* newImageSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewImage());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/image-new`,\n\t\t\tdata: payload.data,\n\t\t\tonUploadProgress: payload.progress,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newImageAC(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewImageAC(e));\n\t} finally {\n\t\tyield put(endLoadNewImage());\n\t}\n}\n\nconst FETCH_GET_PART_IMAGES = 'FETCH_GET_PART_IMAGES';\nconst FETCH_NEW_IMAGE = 'FETCH_NEW_IMAGE';\nconst FETCH_MORE_PART_IMAGES = 'FETCH_MORE_PART_IMAGES';\n\nexport const editorImagesSagas = createSagas([\n\t[FETCH_GET_PART_IMAGES, getPartImagesSaga],\n\t[FETCH_MORE_PART_IMAGES, morePartImagesSaga],\n\t[FETCH_NEW_IMAGE, newImageSaga]\n]);\n\nexport const {sagaGetPartImages, sagaMorePartImages, sagaNewImage} = createActions({\n\tsagaGetPartImages: FETCH_GET_PART_IMAGES,\n\tsagaMorePartImages: FETCH_MORE_PART_IMAGES,\n\tsagaNewImage: FETCH_NEW_IMAGE\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Dropzone from 'react-dropzone'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaNewImage} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nexport default function ImageUpload() {\n\tconst {t} = useTranslation('image/ImageUpload');\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst errorNewImage = useSelector(state => state.editorImages.errorNewImage);\n\tconst progressLoadNewImage = useSelector(state => state.editorImages.progressLoadNewImage);\n\tconst loadNewImage = useSelector(state => state.editorImages.loadNewImage);\n\tconst newImage = useSelector(state => state.editorImages.newImage);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(newImage.length > 0 && selectedImageUpload) {\n\t\t\tdispatch(selectedImageInsertAC(newImage[0]));\n\t\t}\n\t}, [newImage]);\n\n\t//useEffect(() => {\n\t//\tdispatch(progressLoadNewImageAC(0));\n\t//}, [errorNewImage]);\n\n\tconst uploadFn = useCallback(() => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"images[]\", selectedImageUpload);\n\t\tdispatch(sagaNewImage({data: formData, progress: (e) => {\n\t\t\tdispatch(progressLoadNewImageAC(Math.round((100 * e.loaded) / e.total)));\n\t\t}}));\n\t\tdispatch(progressLoadNewImageAC(0));\n\t})\n\n\treturn selectedImageUpload?(<div>\n\t\t\t<Row>\n\t\t\t\t<Col>{errorNewImage?<Alert variant=\"danger\" onClose={() => dispatch(errorNewImageAC(false))} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{errorNewImage.data.message || errorNewImage.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\"><Image src={URL.createObjectURL(selectedImageUpload)} style={{height: '250px'}} fluid /></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-center\" style={{height: '50px'}}>\n\t\t\t\t{loadNewImage?<Col>\n\t\t\t\t\t<ProgressBar animated variant=\"info\" now={progressLoadNewImage} />\n\t\t\t\t</Col>:(!selectedImageInsert?<Col sm=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-info\" onClick={uploadFn}>{t('Upload')}</Button>\n\t\t\t\t</Col>:<Col sm=\"auto\">\n\t\t\t\t\t<h2>{t('Upload complete')}</h2>\n\t\t\t\t</Col>)}\n\t\t\t</Row>\n\t\t</div>):(<Dropzone onDrop={acceptedFiles => {\n\t\t\tdispatch(selectedImageUploadAC(acceptedFiles[0]));\n\t\t}}>\n\t\t\t{({getRootProps, getInputProps}) => (\n\t\t\t\t<section>\n\t\t\t\t\t<div {...getRootProps({})}>\n\t\t\t\t\t\t<input {...getInputProps({multiple: false, accept: 'image/*'})} />\n\t\t\t\t\t\t<Row className=\"justify-content-center align-items-center border border-secondary border-1 bg-info rounded\" style={{cursor: 'pointer', height: '300px'}}>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<span className=\"h3 text-light\">{t('Drag \\'n\\' drop some files here, or click to select files')}</span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</Dropzone>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Filler from '../components/Filler';\n\nimport {sagaGetPartImages, sagaMorePartImages} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nconst PAGE_IMAGES = 20;\n\nexport default function ImageLists() {\n\tconst {t} = useTranslation('image/ImageLists');\n\tconst images = useSelector(state => state.editorImages.images);\n\tconst loadImages = useSelector(state => state.editorImages.loadImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst loadMoreImages = useSelector(state => state.editorImages.loadMoreImages);\n\tconst imagePaginator = useSelector((state) => state.editorImages.paginator);\n\tconst dispatch = useDispatch();\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetPartImages());\n\t}, []);\n\n\treturn (\n\t\t<Container>\n\t\t\t{loadImages?<Filler size=\"3.25rem\" />:null}\n\t\t\t<Row className=\"align-items-center\">\n\t\t\t\t{images.map((image, index) => {\n\t\t\t\t\tlet selClasses = '';\n\t\t\t\t\tlet selStyles = {}\n\n\t\t\t\t\tif(selectedImageInsert && image.url === selectedImageInsert.url) {\n\t\t\t\t\t\tselClasses = 'border border-warning border-5 bg-warning bg-gradient';\n\t\t\t\t\t\tselStyles = {maxWidth: '181px', maxHeight: '181px'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Col key={index} sm=\"auto\" className={\"text-center\"+\" \"+selClasses} style={{width: '191px', height: '191px', padding: '0px'}}>\n\t\t\t\t\t\t<span><Image src={image.url} style={{...{maxWidth: '191px', maxHeight: '191px'}, ...selStyles}} onClick={() => {\n\t\t\t\t\t\t\tif(selectedImageInsert && selectedImageInsert.url !== image.url) dispatch(selectedImageUploadAC(null));\n\t\t\t\t\t\t\tdispatch(selectedImageInsertAC(image));\n\t\t\t\t\t\t}} thumbnail /></span>\n\t\t\t\t\t</Col>\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t\t<Row className=\"mt-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t{loadMoreImages?<Filler size=\"1.5rem\" />:null}\n\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={() => {\n\t\t\t\t\t\tdispatch(sagaMorePartImages({page: imagePaginator.getPageForQuery()}));\n\t\t\t\t\t}}>{t('more images')}</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert, selectedImageUploadAC, selectedImageInsertAC} from '../redux/editor.images.js';\n\nimport ImageUpload from './ImageUpload';\nimport ImageLists from './ImageLists';\n\nexport default function ModalImages() {\n\tconst {t} = useTranslation('image/ModalImages');\n\tconst [key, setKey] = useState('UploadImage');\n\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\treturn (<>\n\t\t<Modal show={modalImages} onHide={() => {dispatch(hideModalImage())}} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t('Modal Image Manager')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Tabs activeKey={key} onSelect={(k) => setKey(k)} id=\"uncontrolled-tab\" className=\"mb-3\">\n\t\t\t\t\t<Tab eventKey=\"ImageLists\" title={t('ImageLists')}>\n\t\t\t\t\t\t<ImageLists />\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"UploadImage\" title={t('UploadImage')}>\n\t\t\t\t\t\t<ImageUpload />\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={() => {dispatch(hideModalImage())}}>{t('Close')}</Button>\n\t\t\t\t<Button variant=\"outline-danger\" disabled={!selectedImageInsert && !selectedImageUpload} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t}}>{t('Reset')}</Button>\n\t\t\t\t<Button variant=\"outline-primary\" disabled={!selectedImageInsert} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t\tdispatch(setURLImageToInsert({key: urlImageToInsert.key, url: selectedImageInsert.url}));\n\t\t\t\t}}>{t('Insert Image')}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {PluginProps} from 'react-markdown-editor-lite';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert} from '../redux/editor.images.js';\n\nexport default function MarkdownImages(props) {\n\t//const [num, setNum] = React.useState(props.config.start);\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(urlImageToInsert && urlImageToInsert.url && urlImageToInsert.key === props.editor) {\n\t\t\tprops.editor.insertText(`![This is an image](${urlImageToInsert.url})`);\n\t\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\t\tdispatch(hideModalImage())\n\t\t}\n\t}, [urlImageToInsert]);\n\n\tuseEffect(() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t}, []);\n\n\treturn (<span className=\"button\" title=\"Custom Images\" onClick={() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\tdispatch(showModalImage());\n\t}}>images</span>);\n}\n// Define default config if required\nMarkdownImages.defaultConfig = {}\nMarkdownImages.align = 'left';\nMarkdownImages.pluginName = 'custom extends images';\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\n//import ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm, Controller} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {sagaGetPartTitles, sagaNewTitle} from '../redux/saga/editor.titles.js';\nimport {errorNewTitle as errorNewTitleAC} from '../redux/editor.titles.js';\n\nimport Filler from './Filler';\nimport ModalImage from '../image/ModalImages';\n\n// markdown\nimport ReactMarkdown from 'react-markdown'\n//import MarkdownIt from 'markdown-it';\nimport MdEditor, { Plugins } from 'react-markdown-editor-lite';\nimport MarkdownImages from '../helpers/markdown.image.jsx';\n// import style manually\nimport 'react-markdown-editor-lite/lib/index.css';\n\n//const mdParser = new MarkdownIt(/* Markdown-it options */);\n\nMdEditor.unuse(Plugins.Image);\nMdEditor.use(MarkdownImages);\n\nconst validationSchemaModal = Yup.object().shape({\n\ttitle: Yup.string().required('Title is required')\n\t\t\t\t\t\t.min(3, 'Title must be minimum 3 characters')\n\t\t\t\t\t\t.max(255, 'Title must be maximum 255 characters'),\n\tdescription: Yup.string().required('Description is required')\n\t\t\t\t\t\t\t\t.min(10, 'Description must be at least 10 characters')\n\t\t\t\t\t\t\t\t.max(3000, 'Description must be maximum 3000 characters')\n});\n\n// title, closed, successed\nexport default function ModalNewTitle(props) {\n\tconst {t} = useTranslation('components/ModalNewTitle');\n\tconst dispatch = useDispatch();\n\n\tconst newTitle = useSelector((state) => state.editorTitles.newTitle);\n\tconst loadNewTitle = useSelector((state) => state.editorTitles.loadNewTitle);\n\tconst errorNewTitle = useSelector((state) => state.editorTitles.errorNewTitle);\n\n\tconst {\tregister, handleSubmit, setValue, control, formState: {errors}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst countRender = useRef(0);\n\tuseLayoutEffect(() => {\n\t\tcountRender.current++;\n\t\tif(typeof props.successed === 'function' && countRender.current > 1) {\n\t\t\tprops.successed.call(null, newTitle);\n\t\t}\n\t}, [newTitle]);\n\n\tuseLayoutEffect(() => () => {dispatch(errorNewTitleAC(false))}, []);\n\n\treturn (<>\n\t\t<Modal show={true} onHide={props.closed || null} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>{t('Modal Create New Title')}</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<ModalImage />\n\t\t\t\t{loadNewTitle?<Filler size='6rem' />:null}\n\t\t\t\t{errorNewTitle?<Alert variant=\"danger\" onClose={() => {dispatch(errorNewTitleAC(false))}} dismissible>\n\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t<p>{errorNewTitle.data.reason || errorNewTitle.data.message}</p>\n\t\t\t\t</Alert>:null}\n\t\t\t\t<Form id=\"hook-modal-form\" onSubmit={handleSubmit((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaNewTitle(data));\n\t\t\t\t})}>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleTitle\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Title')}</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control {...register(\"title\")} type=\"text\" defaultValue={props.title} placeholder={t('Enter title')} isInvalid={!!errors.title} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{t(errors.title?.message)}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleDescription\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Description')}</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Controller name=\"description\"\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.description}\n\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <MdEditor \tref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '500px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '.25rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(error?{borderColor: '#dc3545'}:{})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderHTML={text => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, text);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value} />\n\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\" style={errors.description?{display: 'block'}:{}}>\n\t\t\t\t\t\t\t\t{t(errors.description?.message)}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={props.closed || null}>{t('Close')}</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"hook-modal-form\">{t('Create Title')}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useNavigate, useSearchParams} from \"react-router-dom\";\n//import ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm, Controller} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport AsyncSelect from 'react-select/async';\nimport {AsyncPaginate} from 'react-select-async-paginate';\n\nimport ModalImage from '../image/ModalImages';\n\nimport {sagaGetReview, sagaNewReview, sagaEditReview} from '../redux/saga/editor.reviews.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles, sagaNewTitle} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartTags, sagaNewTag} from '../redux/saga/editor.tags.js';\n\nimport {errorSetReview, errorNewReview} from '../redux/editor.reviews.js';\n\nimport Filler from './Filler';\nimport ModalNewTitle from './ModalNewTitle';\n\n// markdown\nimport ReactMarkdown from 'react-markdown'\n//import MarkdownIt from 'markdown-it';\nimport MdEditor, { Plugins } from 'react-markdown-editor-lite';\nimport MarkdownImages from '../helpers/markdown.image.jsx';\n// import style manually\nimport 'react-markdown-editor-lite/lib/index.css';\n\n//const mdParser = new MarkdownIt(/* Markdown-it options */);\n\nMdEditor.unuse(Plugins.Image);\nMdEditor.use(MarkdownImages);\n\n\nconst validationSchema = Yup.object().shape({\n\tgroup: Yup.object({\n\t\tvalue: Yup.number().required('Group is required').positive().integer()\n\t}),\n\ttitle: Yup.array().length(1, 'Title is required').of(Yup.object({\n\t\tid: Yup.number().positive().integer()\n\t})),\n\tdescription: Yup.string()\n\t\t\t\t\t.required('Description is required')\n\t\t\t\t\t.min(10, 'Description must be at least 10 characters')\n\t\t\t\t\t.max(3000, 'Description must be maximum 3000 characters'),\n\ttext: \tYup\t.string()\n\t\t\t\t.required('Text is required')\n\t\t\t\t.min(10, 'Text must be at least 10 characters')\n\t\t\t\t.max(65000, 'Description must be maximum 65000 characters'),\n\ttags: Yup.array().of(Yup.object({\n\t\tid: Yup.number().positive().integer()\n\t})),\n\tauthorRating: Yup\t.number()\n\t\t\t\t\t\t.required()\n\t\t\t\t\t\t.min(1, 'Author Rating is required')\n\t\t\t\t\t\t.max(10),\n\tdraft: Yup.boolean().required()\n});\n\n\n\n// groupId, titleId, description, text, tags, authorRating, draft, blocked\nexport default function MyReviewFullForm(props) {\n\tconst {t} = useTranslation('components/MyReviewFullForm');\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\tconst {register, handleSubmit, setValue, control, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\tconst navigate = useNavigate();\n\n\t// title\n\tconst refNewTitle = useRef('');\n\tconst refTitleTypeAHead = useRef(null);\n\tconst refTitleHelper = useRef(0);\n\tconst [showModalNewTitle, setShowModalNewTitle] = useState(false);\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\tconst loadNewTitle = useSelector((state) => state.editorTitles.loadNewTitle);\n\n\t// group\n\tconst [callbackGroupSelect, setCallbackGroupSelect] = useState(null);\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\tuseLayoutEffect(() => {\n\t\tif(groups && groups.length > 0 && callbackGroupSelect) {\n\t\t\tcallbackGroupSelect.callback(groups.map((entry) => ({value: entry.id,  label: entry.group})));\n\t\t}\n\t}, [groups]);\n\n\t// tags\n\tconst refTagsTypeAHead = useRef(null);\n\tconst refSelectedTags = useRef([]);\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\tconst newTag = useSelector((state) => state.editorTags.newTag);\n\tconst loadNewTag = useSelector((state) => state.editorTags.loadNewTag);\n\tuseEffect(() => {\n\t\tif(newTag) {\n\t\t\tsetValue('tags', [...refSelectedTags.current, newTag]);\n\t\t}\n\t}, [newTag]);\n\n\tuseLayoutEffect(() => () => {\n\t\tdispatch(errorSetReview(false));\n\t\tdispatch(errorNewReview(false));\n\t}, []);\n\n\tconst errorSet = useSelector((state) => state.editorReviews.dataItemError);\n\tconst setReviewLoading = useSelector((state) => state.editorReviews.dataItemSetLoading);\n\tconst errorNew = useSelector((state) => state.editorReviews.dataNewError);\n\tconst newReviewLoading = useSelector((state) => state.editorReviews.dataItemNewLoading);\n\n\tconst newReview = useSelector((state) => state.editorReviews.newReview);\n\tconst review = useSelector((state) => state.editorReviews.dataItem);\n\n\tconst firstRenderNewReview = useRef(true);\n\tuseEffect(() => {\n\t\tif(!firstRenderNewReview.current && newReview) {\n\t\t\tnavigate('/my-review-edit/'+newReview.id);\n\t\t}\n\t\tfirstRenderNewReview.current = false;\n\t}, [newReview]);\n\n\tconst [saveSuccessed, setSaveSuccessed] = useState(false);\n\tconst firstRenderSetReview = useRef(true);\n\tuseEffect(() => {\n\t\tlet timeout;\n\t\tif(!firstRenderSetReview.current) {\n\t\t\tsetSaveSuccessed(true);\n\t\t\ttimeout = setTimeout(() => {setSaveSuccessed(false);}, 5000);\n\t\t}\n\t\tfirstRenderSetReview.current = false;\n\t\treturn () => {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t}, [review]);\n\n\treturn(\n\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t{setReviewLoading?<Filler size=\"6rem\" />:null}\n\t\t\t{newReviewLoading?<Filler size=\"6rem\" />:null}\n\t\t\t<ModalImage />\n\t\t\t{showModalNewTitle?<ModalNewTitle \ttitle={refNewTitle.current}\n\t\t\t\t\t\t\t\t\t\t\t\tclosed={() => {setShowModalNewTitle(false)}}\n\t\t\t\t\t\t\t\t\t\t\t\tsuccessed={(newTitle) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(refTitleTypeAHead.current) refTitleTypeAHead.current.blur();\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowModalNewTitle(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('title', [newTitle], {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldValidate: true,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshouldDirty: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}} />:null}\n\t\t\t<Row className=\"justify-content-center mt-2 mb-2\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t{(props.id)?<h4>{t('Edit Review \"{} => {}/{}\"', {id: props.id, group: props.group?.group, title: props.title?.title})}</h4>:<h4>{t('Create New Review')}</h4>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{props.blocked?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\t<h4>{t('This review has been banned and cannot be published!')}</h4>\n\t\t\t\t\t\t<h4>{t('Please contact the Moderator for details!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{errorSet?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\" onClose={() => {dispatch(errorSetReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{errorSet.data.reason || errorSet.data.message}</p>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{errorNew?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\" onClose={() => {dispatch(errorNewReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{errorNew.data.reason || errorNew.data.message}</p>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{saveSuccessed?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"success\" onClose={() => {dispatch(setSaveSuccessed(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('You Review Save Success')}</Alert.Heading>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t<Row className=\"mb-2 mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form id=\"hook-create-edit-review-form\" onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tconst queryData = {\n\t\t\t\t\t\t\tgroup: data.group.value,\n\t\t\t\t\t\t\ttitle: data.title[0].id,\n\t\t\t\t\t\t\tdescription: data.description,\n\t\t\t\t\t\t\ttext: data.text,\n\t\t\t\t\t\t\ttags: data.tags.map((entry) => entry.id),\n\t\t\t\t\t\t\tauthorRating: data.authorRating,\n\t\t\t\t\t\t\tdraft: data.draft\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif(props.id) {\n\t\t\t\t\t\t\tdispatch(sagaEditReview({id: props.id, ...queryData}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdispatch(sagaNewReview(queryData));\n\t\t\t\t\t\t}\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicGroup\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Group')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"group\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.group}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={{value: props.group?.id, label: props.group?.group}}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncSelect //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackGroupSelect({callback});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetAllGroups());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles={{control: (styles, state) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...styles,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(error?{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"&:hover\": {borderColor: '#dc3545'},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: '#dc3545',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxShadow: state.isFocused?'0 0 0 0.25rem rgb(220 53 69 / 25%)':'none'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}:{})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//onInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\" style={errors.group?{display: 'block'}:{}}>\n\t\t\t\t\t\t\t\t\t{t(errors.group?.value?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitle\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Title')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{loadNewTitle?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t<Controller name=\"title\"\n\t\t\t\t\t\t\t\t\t\t\tref={refTitleTypeAHead}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.title}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={props.title?[props.title]:[]}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"async-autocomplete-title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!error}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewSelectionPrefix={<span className=\"text-danger\">{t('New Title: ')}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectHintOnEnter={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected[0].customOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trefNewTitle.current = selected[0].title;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowModalNewTitle(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, selected);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, []);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => {refTitleHelper.current = 0;}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInputChange={(query) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(refTitleHelper.current < 1 && query.length >= 3) dispatch(sagaGetPartTitles(query));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trefTitleHelper.current++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {console.log(query);dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={titles.length>0?titles:(props.title?[props.title]:[])} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\" style={errors.title?{display: 'block'}:{}}>\n\t\t\t\t\t\t\t\t\t{t(errors.title?.message || errors.title?.id?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicDescription\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Description')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"description\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.description}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={props.description || ''}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <MdEditor \tref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '500px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '.25rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(error?{borderColor: '#dc3545'}:{})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderHTML={text => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, text);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\" style={errors.description?{display: 'block'}:{}}>\n\t\t\t\t\t\t\t\t\t{t(errors.description?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicText\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Review')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Controller name=\"text\"\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.text}\n\t\t\t\t\t\t\t\t\t\tdefaultValue={props.text || ''}\n\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\treturn <MdEditor \tref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '500px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '.25rem',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(error?{borderColor: '#dc3545'}:{})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderHTML={text => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, text);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value} />\n\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\" style={errors.text?{display: 'block'}:{}}>\n\t\t\t\t\t\t\t\t\t{t(errors.text?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Tags')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{loadNewTag?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t<Controller name=\"tags\"\n\t\t\t\t\t\t\t\t\t\t\tref={refTagsTypeAHead}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.tags}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={props.tags?props.tags:[]}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref}, fieldState: {error} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!error}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewSelectionPrefix={<span className=\"text-danger\">{t('New Tag: ')}</span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectHintOnEnter={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!selected.every((entry) => !entry.customOption)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trefSelectedTags.current = selected.filter((entry) => !entry.customOption);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaNewTag(selected.filter((entry) => entry.customOption)[0].tag));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, selected);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, []);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={tags.length>0?tags:(Array.isArray(props.tags)?props.tags:[])} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.tags?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthorRating\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Author rating')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Select \t{...register(\"authorRating\")}\n\t\t\t\t\t\t\t\t\t\t\t\t{...(props.authorRating?{defaultValue: props.authorRating}:{})}\n\t\t\t\t\t\t\t\t\t\t\t\tisInvalid={!!errors.authorRating} >\n\t\t\t\t\t\t\t\t\t<option disabled selected value=\"0\">{t('Chose ratings')}</option>\n\t\t\t\t\t\t\t\t\t{[1,2,3,4,5,6,7,8,9,10].map((value, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={value}>{value}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.authorRating?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formIsDraft\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">{t('Is Draft')}</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Check type=\"checkbox\" style={{width: '2rem', height: '2rem'}} {...register(\"draft\")} defaultChecked={props.hasOwnProperty('draft')?!!props.draft:true} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{t(errors.draft?.message)}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{errorSet?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\" onClose={() => {dispatch(errorSetReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{errorSet.data.reason || errorSet.data.message}</p>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{errorNew?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\" onClose={() => {dispatch(errorNewReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('Server Error Message')}</Alert.Heading>\n\t\t\t\t\t\t<p>{errorNew.data.reason || errorNew.data.message}</p>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{saveSuccessed?<Row className=\"mt-2 mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"success\" onClose={() => {dispatch(setSaveSuccessed(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>{t('You Review Save Success')}</Alert.Heading>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{props.blocked?<Row className=\"justify-content-center mt-2 text-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Alert variant=\"danger\">\n\t\t\t\t\t\t<h4>{t('This review has been banned and cannot be published!')}</h4>\n\t\t\t\t\t\t<h4>{t('Please contact the Moderator for details!')}</h4>\n\t\t\t\t\t</Alert>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t<Row className=\"justify-content-center mt-2 mb-2\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Link to=\"/my-reviews\" className=\"btn btn-outline-secondary\">{t('My Reviews')}</Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-danger\" type=\"button\" onClick={() => {\n\t\t\t\t\t\tsetValue('group', {value: undefined});\n\t\t\t\t\t\tsetValue('title', []);\n\t\t\t\t\t\tsetValue('description', '');\n\t\t\t\t\t\tsetValue('text', '');\n\t\t\t\t\t\tsetValue('tags', []);\n\t\t\t\t\t\tsetValue('authorRating', 0);\n\t\t\t\t\t\tsetValue('draft', true);\n\t\t\t\t\t}}>{t('Reset')}</Button>\n\t\t\t\t</Col>\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\" form=\"hook-create-edit-review-form\">{props.id?t('Save'):t('Create')}</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaGetReview} from '../redux/saga/editor.reviews.js';\n\nimport Filler from './Filler';\nimport MyReviewFullForm from './MyReviewFullForm';\n\nexport default function MyReviewFullNew(props) {\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\n\tconst review = useSelector((state) => state.editorReviews.dataItem);\n\tconst reviewLoading = useSelector((state) => state.editorReviews.dataItemLoading);\n\n\tconst firstRender = useRef(true);\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReview(params.id));\n\t\tfirstRender.current = false;\n\t}, []);\n\n\treturn (reviewLoading || firstRender.current)?<Container className=\"border border-primary rounded bg-light mt-1 mb-1\" style={{minHeight: '300px'}}>\n\t\t<Filler ignorePadding={true} size=\"6rem\" />\n\t</Container>:<MyReviewFullForm \tid={review?.id}\n\t\t\t\t\t\t\t\t\tgroupId={review?.groupTitle?.group?.id}\n\t\t\t\t\t\t\t\t\tgroup={review?.groupTitle?.group}\n\t\t\t\t\t\t\t\t\ttitleId={review?.groupTitle?.title?.id}\n\t\t\t\t\t\t\t\t\ttitle={review?.groupTitle?.title}\n\t\t\t\t\t\t\t\t\tdescription={review?.description}\n\t\t\t\t\t\t\t\t\ttext={review?.text}\n\t\t\t\t\t\t\t\t\ttags={review?.tags || []}\n\t\t\t\t\t\t\t\t\tauthorRating={review?.authorRating}\n\t\t\t\t\t\t\t\t\tdraft={review?.draft}\n\t\t\t\t\t\t\t\t\tblocked={review?.blocked} />\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewFullEdit from '../components/MyReviewFullEdit';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageMyReviewEdit() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewFullEdit />\n\t\t</Container>\n\t)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem} from \"../user.reviews.js\";\n\nfunction* getSearchReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/search/${payload.query}`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreSearchReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/search/${payload.query}`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nconst FETCH_MORE_SEARCH_REVIEWS = 'FETCH_MORE_SEARCH_REVIEWS';\nconst FETCH_GET_SEARCH_REVIEWS = 'FETCH_GET_SEARCH_REVIEWS';\n\nexport const userSearchReviewsSagas = createSagas([\n\t[FETCH_MORE_SEARCH_REVIEWS, moreSearchReviewsSaga],\n\t[FETCH_GET_SEARCH_REVIEWS, getSearchReviewsSaga],\n]);\n\nexport const {sagaMoreSearchReviews, sagaGetSearchReviews} = createActions({\n\tsagaMoreSearchReviews: FETCH_MORE_SEARCH_REVIEWS,\n\tsagaGetSearchReviews: FETCH_GET_SEARCH_REVIEWS\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useCallback} from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport {useTranslation} from \"react-i18next\";\n\nimport ReviewItem from './ReviewItem';\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport Filler from './Filler';\n\nimport {sagaGetSearchReviews, sagaMoreSearchReviews} from '../redux/saga/user.search.reviews.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nexport default function ReviewLists() {\n\tconst {t} = useTranslation('components/ReviewLists');\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst reviews = useSelector((state) => state.userReviews.data);\n\tconst reviewsLoading = useSelector((state) => state.userReviews.dataLoading);\n\tconst reviewsMoreLoading = useSelector((state) => state.userReviews.dataMoreLoading);\n\tconst reviewPaginator = useSelector((state) => state.userReviews.paginator);\n\tconst dispatch = useDispatch();\n\n\tconst [searchParams] = useSearchParams();\n\tconst params = useParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetSearchReviews({params: searchParams, query: params.query, isUser: isUser(cookies.Roles)}));\n\t}, [params, searchParams]);\n\n\tconst moreFn = useCallback(() => {\n\t\tdispatch(sagaMoreSearchReviews({\n\t\t\tparams: new URLSearchParams(searchParams.toString()+'&page='+reviewPaginator.getPageForQuery()),\n\t\t\tquery: params.query,\n\t\t\tisUser: isUser(cookies.Roles)\n\t\t}));\n\t}, [params, searchParams]);\n\n\treturn (\n\t\t<div>\n\t\t\t{reviewsLoading?<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='4rem' />\n\t\t\t\t\t\t<Row><Col style={{minHeight: '100px'}}></Col></Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Col>\n\t\t\t</Row>:<Row><Col>\n\t\t\t\t<InfiniteScroll dataLength={reviews.length}\n\t\t\t\t\t\t\t\tnext={moreFn}\n\t\t\t\t\t\t\t\tscrollThreshold={0.99}\n\t\t\t\t\t\t\t\tloader={<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center justify-content-center mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t{reviewsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>}\n\t\t\t\t\t\t\t\tendMessage={<Container className=\"border border-primary rounded mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center justify-content-center mt-1 mb-1\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t{reviewsMoreLoading?<Filler size=\"2rem\" />:null}\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline-info\" style={{width: '100%'}} onClick={moreFn}>{t('more')}</Button>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>}\n\t\t\t\t\t\t\t\thasMore={(() => {\n\t\t\t\t\t\t\t\t\tif(reviews.length < reviewPaginator.getDefaultCountRows()) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn !(reviews.length % reviewPaginator.getDefaultCountRows())\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})()}>\n\t\t\t\t\t{reviews.map((entry) => {\n\t\t\t\t\t\treturn <ReviewItem  key={entry.id}\n\t\t\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\t\t\ttitle={entry.groupTitle?.title?.title}\n\t\t\t\t\t\t\t\t\t\t\tgroup={entry.groupTitle?.group?.group}\n\t\t\t\t\t\t\t\t\t\t\tgroupId={entry.groupTitle?.group?.id}\n\t\t\t\t\t\t\t\t\t\t\tratings={entry.ratings || []}\n\t\t\t\t\t\t\t\t\t\t\tlikes={entry.likes || []}\n\t\t\t\t\t\t\t\t\t\t\tdescription={entry.description}\n\t\t\t\t\t\t\t\t\t\t\tdate={entry.createdAt}\n\t\t\t\t\t\t\t\t\t\t\tauthorRating={entry.authorRating}\n\t\t\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || t('Unknown'), entry.user?.userInfo?.last_name || t('Unknown')]}/>\n\t\t\t\t\t})}\n\t\t\t\t</InfiniteScroll>\n\t\t\t</Col></Row>}\n\t\t</div>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport SearchReviewLists from '../components/SearchReviewLists';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<SearchReviewLists />} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport MyReviewFullForm from './MyReviewFullForm';\n\nexport default function MyReviewFullNew(props) {\n\n\treturn <MyReviewFullForm  />\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewFullNew from '../components/MyReviewFullNew';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageMyReviewNew() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewFullNew />\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewFull from '../components/ReviewFull';\nimport SearchBar from '../components/SearchBar';\nimport ReviewComments from '../components/ReviewComments';\n\nexport default function PageReview() {\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent \tcontent={<ReviewFull mode=\"editor\" />}\n\t\t\t\t\t\t\taddContent={<ReviewComments />}/>\n\t\t</Container>\n\t)\n}\n","import React, {useLayoutEffect} from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {useCookies} from 'react-cookie';\nimport i18n from 'i18next';\nimport {changeTheme} from './themes';\n\nimport PageLogin from './pages/PageLogin';\nimport PageRegistration from './pages/PageRegistration';\nimport PageUser from './pages/PageUser';\nimport PageReviews from './pages/PageReviews';\nimport PageReview from './pages/PageReview';\nimport PageMyReviews from './pages/PageMyReviews';\nimport PageMyReviewEdit from './pages/PageMyReviewEdit';\nimport PageSearchReviews from './pages/PageSearchReviews';\nimport PageMyReviewNew from './pages/PageMyReviewNew';\nimport PageMyReviewView from './pages/PageMyReviewView';\n\nexport default function App() {\n\tconst [cookies] = useCookies();\n\n\tuseLayoutEffect(() => {\n\t\ti18n.changeLanguage(cookies['Lang']);\n\t\tchangeTheme(cookies['Theme']);\n\t}, [cookies]);\n\n\treturn (\n\t\t<div>\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"user\" element={<PageUser />} />\n\t\t\t\t<Route path=\"registration\" element={<PageRegistration />} />\n\t\t\t\t<Route path=\"login\" element={<PageLogin />} />\n\n\t\t\t\t<Route path=\"search/:query\" element={<PageSearchReviews />} />\n\n\t\t\t\t<Route path=\"reviews\" element={<PageReviews />} />\n\n\t\t\t\t<Route path=\"review/:id\" element={<PageReview />} />\n\n\t\t\t\t<Route path=\"my-reviews\" element={<PageMyReviews />} />\n\t\t\t\t<Route path=\"my-review-view/:id\" element={<PageMyReviewView />} />\n\t\t\t\t<Route path=\"my-review-new\" element={<PageMyReviewNew />} />\n\t\t\t\t<Route path=\"my-review-edit/:id\" element={<PageMyReviewEdit />} />\n\t\t\t\t<Route path=\"/\" element={<PageReviews />} />\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n","import { call, takeEvery, put, all, spawn, take, cancel } from 'redux-saga/effects';\n\nimport {userReviewsSagas} from './user.reviews.js';\nimport {userTagsSagas} from './user.tags.js';\nimport {userUserSagas} from './user.user.js';\nimport {userLangsSagas} from './user.langs.js';\nimport {userThemesSagas} from './user.themes.js';\nimport {editorReviewsSagas} from './editor.reviews.js';\nimport {editorGroupsSagas} from './editor.groups.js';\nimport {editorTitlesSagas} from './editor.titles.js';\nimport {editorTagsSagas} from './editor.tags.js';\nimport {editorImagesSagas} from './editor.images.js';\nimport {guestEditorsSagas} from './guest.editors.js';\nimport {userRatingsSagas} from './user.ratings.js';\nimport {userLikesSagas} from './user.likes.js';\nimport {userCommentsSagas} from './user.comments.js';\nimport {userSearchReviewsSagas} from './user.search.reviews.js';\n\n// takeLatest\n// takeLatest\nexport default function* rootSaga() {\n\t//yield fork(socketFetchSaga);\n\tconst sagas = [\n\t\t...userReviewsSagas,\n\t\t...userTagsSagas,\n\t\t...userUserSagas,\n\t\t...userLangsSagas,\n\t\t...userThemesSagas,\n\t\t...editorReviewsSagas,\n\t\t...editorGroupsSagas,\n\t\t...editorTitlesSagas,\n\t\t...editorTagsSagas,\n\t\t...editorImagesSagas,\n\t\t...guestEditorsSagas,\n\t\t...userRatingsSagas,\n\t\t...userLikesSagas,\n\t\t...userCommentsSagas,\n\t\t...userSearchReviewsSagas\n\t];\n\n\tyield all(sagas.map((o) => {\n\t\treturn spawn(function *() {\n\t\t\twhile(true) {\n\t\t\t\ttry {\n\t\t\t\t\tif(o.pattern) {\n\t\t\t\t\t\tlet lastTask\n\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\tconst action = yield take(o.pattern);\n\t\t\t\t\t\t\t// cancel is no-op if the task has already terminated\n\t\t\t\t\t\t\tif(lastTask) yield cancel(lastTask);\n\t\t\t\t\t\t\t//lastTask = yield fork(saga, ...args.concat(action));\n\t\t\t\t\t\t\tlastTask = yield call(o.saga, action);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tyield call(o);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} catch(e) {\n\t\t\t\t\t// error\n\t\t\t\t\t//console.error(e);\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}));\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport createSagaMiddleware from \"redux-saga\";\n\nimport userReviewsReduser from './user.reviews.js';\nimport userTagsReduser from './user.tags.js';\nimport userUserReduser from './user.user.js';\nimport userLikesReduser from './user.likes.js';\nimport userLangsReduser from './user.langs.js';\nimport userThemesReduser from './user.themes.js';\nimport editorReviewsReduser from './editor.reviews.js';\nimport editorGroupsReduser from './editor.groups.js';\nimport editorTitlesReduser from './editor.titles.js';\nimport editorTagsReduser from './editor.tags.js';\nimport editorImagesReduser from './editor.images.js';\nimport guestEditorsReduser from './guest.editors.js';\nimport customFilterReduser from './custom.filter.js';\nimport userRatingsReduser from './user.ratings.js';\nimport userCommentsReduser from './user.comments.js';\n\nimport saga from \"./saga/saga.js\";\n\nlet sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n\treducer: {\n\t\tuserReviews: userReviewsReduser,\n\t\tuserTags: userTagsReduser,\n\t\tuserUser: userUserReduser,\n\t\tuserLikes: userLikesReduser,\n\t\tuserLangs: userLangsReduser,\n\t\tuserThemes: userThemesReduser,\n\t\teditorReviews: editorReviewsReduser,\n\t\teditorGroups: editorGroupsReduser,\n\t\teditorTitles: editorTitlesReduser,\n\t\teditorTags: editorTagsReduser,\n\t\teditorImages: editorImagesReduser,\n\t\tguestEditors: guestEditorsReduser,\n\t\tcustomFilter: customFilterReduser,\n\t\tuserRatings: userRatingsReduser,\n\t\tuserComments: userCommentsReduser\n\t},\n\tmiddleware: [...getDefaultMiddleware({ thunk: false, serializableCheck: false }), sagaMiddleware]\n});\n\nsagaMiddleware.run(saga);\n\nexport default store;\n","import i18n from 'i18next';\nimport {initReactI18next} from 'react-i18next';\nimport Cookies from 'js-cookie';\n\n//import Backend from 'i18next-http-backend';\n//import LanguageDetector from 'i18next-browser-languagedetector';\n\nimport en_TopNavBar from './locale/en/components/TopNavBar.json';\nimport en_UserSettings from './locale/en/components/UserSettings.json';\nimport en_Login from './locale/en/components/Login.json';\nimport en_Registration from './locale/en/components/Registration.json';\nimport en_SearchBar from './locale/en/components/SearchBar.json';\nimport en_PopoverFilterReviews from './locale/en/components/PopoverFilterReviews.json';\nimport en_OtherAuthorReviews from './locale/en/components/OtherAuthorReviews.json';\nimport en_ReviewFull from './locale/en/components/ReviewFull.json';\nimport en_ReviewLists from './locale/en/components/ReviewLists.json';\nimport en_ReviewItem from './locale/en/components/ReviewItem.json';\nimport en_ReviewComments from './locale/en/components/ReviewComments.json';\nimport en_ReviewCommentRemove from './locale/en/components/ReviewCommentRemove.json';\nimport en_ReviewCommentEdit from './locale/en/components/ReviewCommentEdit.json';\nimport en_ReviewCommentAutoUpdate from './locale/en/components/ReviewCommentAutoUpdate.json';\nimport en_ReviewCommentItem from './locale/en/components/ReviewCommentItem.json';\nimport en_ReviewLike from './locale/en/components/ReviewLike.json';\nimport en_MyReviewLists from './locale/en/components/MyReviewLists.json';\nimport en_MyReviewRow from './locale/en/components/MyReviewRow.json';\nimport en_ModalNewTitle from './locale/en/components/ModalNewTitle.json';\nimport en_MyReviewFullForm from './locale/en/components/MyReviewFullForm.json';\nimport en_ImageLists from './locale/en/image/ImageLists.json';\nimport en_ImageUpload from './locale/en/image/ImageUpload.json';\nimport en_ModalImages from './locale/en/image/ModalImages.json';\n\nimport ru_TopNavBar from './locale/ru/components/TopNavBar.json';\nimport ru_UserSettings from './locale/ru/components/UserSettings.json';\nimport ru_Login from './locale/ru/components/Login.json';\nimport ru_Registration from './locale/ru/components/Registration.json';\nimport ru_SearchBar from './locale/ru/components/SearchBar.json';\nimport ru_PopoverFilterReviews from './locale/ru/components/PopoverFilterReviews.json';\nimport ru_OtherAuthorReviews from './locale/ru/components/OtherAuthorReviews.json';\nimport ru_ReviewFull from './locale/ru/components/ReviewFull.json';\nimport ru_ReviewLists from './locale/ru/components/ReviewLists.json';\nimport ru_ReviewItem from './locale/ru/components/ReviewItem.json';\nimport ru_ReviewComments from './locale/ru/components/ReviewComments.json';\nimport ru_ReviewCommentRemove from './locale/ru/components/ReviewCommentRemove.json';\nimport ru_ReviewCommentEdit from './locale/ru/components/ReviewCommentEdit.json';\nimport ru_ReviewCommentAutoUpdate from './locale/ru/components/ReviewCommentAutoUpdate.json';\nimport ru_ReviewCommentItem from './locale/ru/components/ReviewCommentItem.json';\nimport ru_ReviewLike from './locale/ru/components/ReviewLike.json';\nimport ru_MyReviewLists from './locale/ru/components/MyReviewLists.json';\nimport ru_MyReviewRow from './locale/ru/components/MyReviewRow.json';\nimport ru_ModalNewTitle from './locale/ru/components/ModalNewTitle.json';\nimport ru_MyReviewFullForm from './locale/ru/components/MyReviewFullForm.json';\nimport ru_ImageLists from './locale/ru/image/ImageLists.json';\nimport ru_ImageUpload from './locale/ru/image/ImageUpload.json';\nimport ru_ModalImages from './locale/ru/image/ModalImages.json';\n\n// ReviewItem\n\ni18n\n\t//.use(Backend)\n\t//.use()\n\t.use(initReactI18next)\n\t.init({\n\t\tresources: {\n\t\t\ten: {\n\t\t\t\t\"components/TopNavBar\": en_TopNavBar,\n\t\t\t\t\"components/UserSettings\": en_UserSettings,\n\t\t\t\t\"components/Login\": en_Login,\n\t\t\t\t\"components/Registration\": en_Registration,\n\t\t\t\t\"components/SearchBar\": en_SearchBar,\n\t\t\t\t\"components/PopoverFilterReviews\": en_PopoverFilterReviews,\n\t\t\t\t\"components/OtherAuthorReviews\": en_OtherAuthorReviews,\n\t\t\t\t\"components/ReviewFull\": en_ReviewFull,\n\t\t\t\t\"components/ReviewLists\": en_ReviewLists,\n\t\t\t\t\"components/ReviewItem\": en_ReviewItem,\n\t\t\t\t\"components/ReviewComments\": en_ReviewComments,\n\t\t\t\t\"components/ReviewCommentRemove\": en_ReviewCommentRemove,\n\t\t\t\t\"components/ReviewCommentEdit\": en_ReviewCommentEdit,\n\t\t\t\t\"components/ReviewCommentAutoUpdate\": en_ReviewCommentAutoUpdate,\n\t\t\t\t\"components/ReviewCommentItem\": en_ReviewCommentItem,\n\t\t\t\t\"components/ReviewLike\": en_ReviewLike,\n\t\t\t\t\"components/MyReviewLists\": en_MyReviewLists,\n\t\t\t\t\"components/MyReviewRow\": en_MyReviewRow,\n\t\t\t\t\"components/ModalNewTitle\": en_ModalNewTitle,\n\t\t\t\t\"components/MyReviewFullForm\": en_MyReviewFullForm,\n\t\t\t\t\"image/ImageLists\": en_ImageLists,\n\t\t\t\t\"image/ImageUpload\": en_ImageUpload,\n\t\t\t\t\"image/ModalImages\": en_ModalImages,\n\t\t\t},\n\t\t\tru: {\n\t\t\t\t\"components/TopNavBar\": ru_TopNavBar,\n\t\t\t\t\"components/UserSettings\": ru_UserSettings,\n\t\t\t\t\"components/Login\": ru_Login,\n\t\t\t\t\"components/Registration\": ru_Registration,\n\t\t\t\t\"components/SearchBar\": ru_SearchBar,\n\t\t\t\t\"components/PopoverFilterReviews\": ru_PopoverFilterReviews,\n\t\t\t\t\"components/OtherAuthorReviews\": ru_OtherAuthorReviews,\n\t\t\t\t\"components/ReviewFull\": ru_ReviewFull,\n\t\t\t\t\"components/ReviewLists\": ru_ReviewLists,\n\t\t\t\t\"components/ReviewItem\": ru_ReviewItem,\n\t\t\t\t\"components/ReviewComments\": ru_ReviewComments,\n\t\t\t\t\"components/ReviewCommentRemove\": ru_ReviewCommentRemove,\n\t\t\t\t\"components/ReviewCommentEdit\": ru_ReviewCommentEdit,\n\t\t\t\t\"components/ReviewCommentAutoUpdate\": ru_ReviewCommentAutoUpdate,\n\t\t\t\t\"components/ReviewCommentItem\": ru_ReviewCommentItem,\n\t\t\t\t\"components/ReviewLike\": ru_ReviewLike,\n\t\t\t\t\"components/MyReviewLists\": ru_MyReviewLists,\n\t\t\t\t\"components/MyReviewRow\": ru_MyReviewRow,\n\t\t\t\t\"components/ModalNewTitle\": ru_ModalNewTitle,\n\t\t\t\t\"components/MyReviewFullForm\": ru_MyReviewFullForm,\n\t\t\t\t\"image/ImageLists\": ru_ImageLists,\n\t\t\t\t\"image/ImageUpload\": ru_ImageUpload,\n\t\t\t\t\"image/ModalImages\": ru_ModalImages,\n\t\t\t}\n\t\t},\n\t\tlng: Cookies.get('Lang'),\n\t\tfallbackLng: 'en',\n\t\t//debug: true,\n\t\tinterpolation: {\n\t\t\tescapeValue: false, // not needed for react as it escapes by default\n\t\t}\n\t});\n\nexport default i18n;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './redux/store.js'\nimport {BrowserRouter} from \"react-router-dom\";\nimport {CookiesProvider} from 'react-cookie';\n//import {ThemeSwitcherProvider} from 'react-css-theme-switcher';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\n\nimport './i18n.js';\n\n//import {setDefaultTheme} from './themes.js';\n\n//setDefaultTheme();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<CookiesProvider>\n\t\t\t{/*<ThemeSwitcherProvider defaultTheme={defaultTheme} themeMap={themeMap}>*/}\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Provider store={store}>\n\t\t\t\t\t\t<App />\n\t\t\t\t\t</Provider>\n\t\t\t\t</BrowserRouter>\n\t\t\t{/*</ThemeSwitcherProvider>*/}\n\t\t</CookiesProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}