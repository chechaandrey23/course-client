{"version":3,"sources":["helpers/roles.js","redux/saga/helpers/helper.request.js","redux/saga/helpers/helper.default.request.settings.js","redux/saga/helpers/helper.saga.js","redux/user.user.js","redux/user.likes.js","redux/saga/user.user.js","components/TopNavBar.jsx","components/LogIn.jsx","components/SearchBar.jsx","pages/PageLogin.jsx","components/Registration.jsx","pages/PageRegistration.jsx","components/Filler.jsx","redux/user.langs.js","redux/saga/user.langs.js","redux/user.themes.js","redux/saga/user.themes.js","components/UserSettings.jsx","pages/PageUser.jsx","components/BodyContent.jsx","redux/user.ratings.js","redux/saga/user.ratings.js","components/ReviewRating.jsx","redux/saga/user.likes.js","components/ReviewLike.jsx","components/ReviewItem.jsx","helpers/unique.js","redux/editor.tags.js","redux/saga/editor.tags.js","redux/editor.groups.js","redux/saga/editor.groups.js","redux/editor.titles.js","redux/saga/editor.titles.js","redux/guest.editors.js","redux/saga/guest.editors.js","redux/custom.filter.js","components/PopoverFilterReviews.jsx","redux/helpers/Paginator.js","redux/user.reviews.js","redux/saga/user.reviews.js","components/ReviewLists.jsx","redux/user.tags.js","redux/saga/user.tags.js","components/RightBar.jsx","components/OtherAuthorReviews.jsx","pages/PageReviews.jsx","components/ReviewFull.jsx","redux/user.comments.js","redux/saga/user.comments.js","components/ReviewCommentRemove.jsx","components/ReviewCommentEdit.jsx","components/ReviewCommentItem.jsx","components/ReviewComments.jsx","pages/PageReview.jsx","redux/editor.reviews.js","redux/saga/editor.reviews.js","components/MyReviewRow.jsx","components/MyReviewLists.jsx","pages/PageMyReviews.jsx","redux/editor.images.js","redux/saga/editor.images.js","image/ImageUpload.jsx","image/ImageLists.jsx","image/ModalImages.jsx","components/ModalNewTitle.jsx","helpers/markdown.image.jsx","components/MyReviewFullForm.jsx","components/MyReviewFullEdit.jsx","pages/PageMyReviewEdit.jsx","redux/saga/user.search.reviews.js","components/SearchReviewLists.jsx","pages/PageSearchReviews.jsx","components/MyReviewFullNew.jsx","pages/PageMyReviewNew.jsx","App.js","redux/saga/saga.js","redux/store.js","index.js"],"names":["isUser","role","Array","isArray","includes","isEditor","isAdmin","request","opts","Promise","res","rej","axios","then","response","catch","e","status","JWTRefreshUpdate","method","JWTRefreshUpdateMethod","url","JWTRefreshUpdateURL","getError","data","defaultRequestSettings","responseType","createActions","obj","Object","keys","reduce","acc","key","constName","type","payload","createSagas","arr","value","push","pattern","saga","storeUserUser","createSlice","name","initialState","login","loadLogin","errorLogin","logout","loadLogout","errorLogout","registration","loadRegistration","errorRegistration","user","loadGetUser","loadSetUser","errorSetUser","reducers","state","action","startLoadLogin","endLoadLogin","startLoadLogout","endLoadLogout","startLoadRegistration","endLoadRegistration","userInfo","newUser","startLoadGetUser","endLoadGetUser","startLoadSetUser","endLoadSetUser","actions","storeUserLikes","likes","like","loadNewLike","setCountLikes","newLike","startLoadNewLike","endLoadNewLike","errorNewLike","loginSaga","logoutSaga","registrationSaga","getUserSaga","setUserSaga","put","call","username","password","password2","email","first_name","last_name","config","countUserLike","id","langId","themeId","FETCH_LOGIN","FETCH_LOGOUT","FETCH_REGISTRATION","FETCH_GET_USER","FETCH_SET_USER","userUserSagas","sagaLogin","sagaLogout","sagaRegistration","sagaGetUser","sagaSetUser","TopNavBar","useCookies","cookies","removeCookie","navigate","useNavigate","dispatch","useLocation","useDispatch","useSelector","userUser","userLikes","logOutFn","useCallback","useEffect","logoutAC","Roles","length","substring","Navbar","bg","variant","expand","className","Container","Brand","href","Toggle","aria-controls","Collapse","Nav","Item","to","Link","Badge","Button","onClick","validationSchema","Yup","shape","required","min","max","LogIn","props","useTranslation","t","error","loginAC","useForm","resolver","yupResolver","register","handleSubmit","errors","watch","formState","Row","Col","Alert","onClose","dismissible","Heading","message","reason","sm","Form","onSubmit","Group","as","controlId","Label","column","Control","placeholder","isInvalid","Feedback","md","class","aria-pressed","ReviewLists","setValue","control","reset","params","useParams","strictUriEncode","search","defaultValue","query","PageReview","oneOf","registrationAC","Filler","element","useRef","parent","current","parentNode","parentStyles","window","getComputedStyle","oldPosition","position","style","width","parseInt","ignorePadding","paddingRight","paddingLeft","height","paddingTop","paddingBottom","left","top","blur","document","createElement","display","appendChild","zIndex","opacity","backgroundColor","classList","add","split","spinner","removeChild","ref","toString","Spinner","animation","size","storeUserLangs","langs","loadLangs","getLangs","startLoadLangs","endLoadLangs","getAllLangsSaga","FETCH_GET_ALL_LANGS","userLangsSagas","sagaGetAllLangs","storeUserThemes","themes","loadThemes","getThemes","startLoadThemes","endLoadThemes","getAllThemesSaga","FETCH_GET_ALL_THEMES","userThemesSagas","sagaGetAllThemes","UserSettings","useState","firstRender","setFirstRender","userLangs","userThemes","useLayoutEffect","Select","lang","map","entry","index","title","theme","BodyContent","content","addContent","rightbar","addRightBar","storeUserRatings","rating","loadNewRating","setRating","newRating","userRating","startLoadNewRating","endLoadNewRating","errorNewRating","newRatingSaga","reviewId","FETCH_NEW_RATING","userRatingsSagas","sagaNewRating","ReviewRating","setNewRating","userRatings","currentEvent","firstUpdate","defValue","isDisabled","readonly","initialRating","onChange","newLikeSaga","FETCH_NEW_LIKE","userLikesSagas","sagaNewLike","ReviewLike","setNewLike","disabled","ReviewItem","queryString","stringify","groups","groupId","arrayFormat","group","ratings","marginRight","authorRating","author","description","val","Date","date","unique","array","filter","onlyUnique","self","lastIndexOf","storeEditorTags","tags","loadTags","loadNewTag","errorNewTag","newTag","getTags","startLoadTags","endLoadTags","startLoadNewTag","endLoadNewTag","getPartTagsSaga","newTagSaga","encodeURIComponent","tag","FETCH_GET_PART_TAGS","FETCH_NEW_TAG","editorTagsSagas","sagaGetPartTags","sagaNewTag","storeEditorGroups","loadGroups","getGroups","startLoadGroups","endLoadGroups","getAllGroupsSaga","FETCH_GET_ALL_GROUPS","editorGroupsSagas","sagaGetAllGroups","storeEditorTitles","titles","loadTitles","loadNewTitle","errorNewTitle","newTitle","getTitles","startLoadTitles","endLoadTitles","startLoadNewTitle","endLoadNewTitle","getPartTitlesSaga","newTitleSaga","FETCH_GET_PART_TITLES","FETCH_NEW_TITLE","editorTitlesSagas","sagaGetPartTitles","sagaNewTitle","storeEditorEditors","partEditors","loadEditors","getEditors","startLoadEditors","loadTiltes","endLoadEditors","getPartEditorsSaga","page","FETCH_GET_PART_EDITORS","guestEditorsSagas","sagaGetPartEditors","storeCustomFilter","editorFilter","setFilterData","setEditorFilterData","PopoverFilterReviews","useSearchParams","searchParams","customFilter","filterData","typeFilter","callbackGroupSelect","setCallbackGroupSelect","callbackEditorSelect","setCallbackEditorSelect","editorTags","editorGroups","editorTitles","guestEditors","callback","label","options","userName","social_id","hasMore","OverlayTrigger","rootClose","delay","trigger","placement","overlay","Popover","minWidth","Header","Body","body","click","getAll","filterTags","items","item","at","render","field","onBlur","minLength","useCache","labelKey","multiple","isLoading","clearButton","selected","onSearch","filterGroups","loadOptions","inputValue","isMulti","isSearchable","defaultOptions","filterTitles","withAuthors","authors","filterAuthors","authos","loadedOptions","a","o","additional","get","sortField","sortFields","sortType","Paginator","defaultCountRows","this","stateName","Error","fn","end","slice","Math","floor","storeUserReviews","paginator","currentReview","dataLoading","dataMoreLoading","dataItem","dataItemLoading","otherData","otherDataLoading","setCurrentReview","moreReviews","addWithReplace","startLoadMoreReviews","endLoadMoreReviews","getReviews","replace","startLoadGetReviews","endLoadGetReviews","getReviewItem","startLoadGetReviewItem","endLoadGetReviewItem","getOtherReviews","startLoadGetOtherReviews","endLoadGetOtherReviews","getReviewsSaga","moreReviewsSaga","getReviewSaga","getOtherReviewSaga","FETCH_MORE_REVIEWS","FETCH_GET_REVIEWS","FETCH_GET_REVIEW","FETCH_OTHER_REVIEWS","userReviewsSagas","sagaMoreReviews","sagaGetReviews","sagaGetReview","sagaOtherReviews","reviews","userReviews","reviewsLoading","minHeight","groupTitle","createdAt","storeUserTags","getAllTags","getAllTagsSaga","order","FETCH_GET_ALL_TAGS","userTagsSagas","sagaGetAllTags","userTags","wordIndexs","words","countReview","text","rotations","rotationAngles","callbacks","getWordTooltip","word","onWordClick","event","onWordMouseOut","target","setAttribute","Number","getAttribute","onWordMouseOver","OtherAuthorReviews","review","titleGroupId","ListGroup","border","borderTopLeftRadius","borderTopRightRadius","active","PageReviews","ReviewFull","reviewLoading","userId","averageEditorRating","averageUserRating","storeUserComments","comments","commentsLoading","commentsMoreLoading","commentsAutoUpdateLoading","newComment","newCommentLoading","newCommentError","commentProcessing","editCommentError","moreComments","startLoadMoreComments","endLoadMoreComments","getComments","startLoadGetComments","endLoadGetComments","startLoadNewComment","endLoadNewComment","append","errorNewComment","autoUpdateComments","startLoadAutoUpdateComments","endLoadAutoUpdateComments","startLoadRemoveComment","removeComment","remove","errorRemoveComment","console","log","endLoadRemoveComment","startLoadEditComment","endLoadEditComment","errorLoadEditComment","editComment","setReviewId","getCommentsSaga","moreCommentsSaga","autoUpdateCommentsSaga","newCommentSaga","removeCommentSaga","editCommentSaga","time","comment","FETCH_COMMENTS","FETCH_MORE_COMMENTS","FETCH_AUTO_UPDATE_COMMENTS","FETCH_NEW_COMMENT","FETCH_REMOVE_COMMENT","FETCH_EDIT_COMMENT","userCommentsSagas","sagaGetComments","sagaMoreComments","sagaAutoUpdateComments","sagaNewComment","sagaRemoveComment","sagaEditComment","ReviewCommentRemove","show","setShow","handleClose","handleShow","handleOKClose","Modal","onHide","centered","closeButton","Title","Footer","validationSchemaModal","ReviewCommentEdit","userComments","registerModal","handleSubmitModal","setValueModal","errorsModal","rows","form","ReviewCommentItem","authorId","ReviewComments","resetModal","updatedAt","storeEditorReviews","dataItemSetLoading","dataItemError","dataItemNewLoading","dataItemRemoveLoading","dataItemRemoveError","newReview","getReview","startLoadGetReview","endLoadGetReview","startLoadSetReview","endLoadSetReview","errorSetReview","startLoadNewReview","endLoadNewReview","startLoadRemoveReview","endLoadRemoveReview","errorRemoveReview","removeReview","errorNewReview","editReviewSaga","removeReviewSaga","titleId","draft","FETCH_REVIEWS","FETCH_REVIEW","FETCH_EDIT_REVIEW","REMOVE_REVIEW","editorReviewsSagas","sagaEditReview","sagaRemoveReview","countComments","join","MyReviewLists","editorReviews","newReviewAC","Table","striped","bordered","hover","colSpan","imdex","storeEditorImages","modalImages","urlImageToInsert","images","loadImages","loadMoreImages","loadNewImage","errorNewImage","newImage","progressLoadNewImage","selectedImageInsert","selectedImageUpload","showModalImage","hideModalImage","setURLImageToInsert","getImages","startLoadImages","endLoadImages","moreImages","startLoadMoreImages","endLoadMoreImages","startLoadNewImage","endLoadNewImage","progressLoadNewImageAC","errorNewImageAC","newImageAC","selectedImageInsertAC","selectedImageUploadAC","getPartImagesSaga","morePartImagesSaga","newImageSaga","onUploadProgress","progress","FETCH_GET_PART_IMAGES","FETCH_NEW_IMAGE","FETCH_MORE_PART_IMAGES","editorImagesSagas","sagaGetPartImages","sagaMorePartImages","sagaNewImage","ImageUpload","editorImages","uploadFn","formData","FormData","round","loaded","total","Image","src","URL","createObjectURL","fluid","ProgressBar","animated","now","onDrop","acceptedFiles","getRootProps","getInputProps","accept","cursor","ImageLists","setPage","image","selClasses","selStyles","maxWidth","maxHeight","padding","thumbnail","ModalImages","setKey","Tabs","activeKey","onSelect","k","Tab","eventKey","ModalNewTitle","countRender","successed","errorNewTitleAC","closed","MarkdownImages","editor","insertText","defaultConfig","align","pluginName","MdEditor","unuse","Plugins","use","MyReviewFullEdit","aref","selectedTags","setSelectedTags","refNewTitle","refTitleTypeAHead","refTitleHelper","showModalNewTitle","setShowModalNewTitle","allowNew","newSelectionPrefix","selectHintOnEnter","customOption","onFocus","onInputChange","renderHTML","html","defaultSelected","findIndex","Check","defaultChecked","MyReviewFullNew","blocked","PageMyReviewEdit","getSearchReviewsSaga","moreSearchReviewsSaga","FETCH_MORE_SEARCH_REVIEWS","FETCH_GET_SEARCH_REVIEWS","userSearchReviewsSagas","sagaMoreSearchReviews","sagaGetSearchReviews","PageMyReviewNew","App","path","rootSaga","sagas","all","spawn","lastTask","take","cancel","sagaMiddleware","createSagaMiddleware","store","configureStore","reducer","userReviewsReduser","userTagsReduser","userUserReduser","userLikesReduser","userLangsReduser","userThemesReduser","editorReviewsReduser","editorGroupsReduser","editorTitlesReduser","editorTagsReduser","editorImagesReduser","guestEditorsReduser","customFilterReduser","userRatingsReduser","userCommentsReduser","middleware","getDefaultMiddleware","thunk","serializableCheck","run","ReactDOM","StrictMode","CookiesProvider","getElementById"],"mappings":"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","file":"static/js/main.bb029524.chunk.js","sourcesContent":["export function isUser(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(1);\n}\n\nexport function isGuest(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(0);\n}\n\nexport function isEditor(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(2);\n}\n\nexport function isAdmin(role) {\n\trole = Array.isArray(role)?role:[role];\n\treturn role.includes(3);\n}\n","import axios from 'axios';\n\nexport function request(opts) {\n\topts = opts || {};\n\treturn new Promise((res, rej) => {\n\t\taxios(opts).then((response) => {\n\t\t\tres(response);\n\t\t}).catch((e) => {\n\t\t\tif(e.response && e.response.status === 401 && opts.JWTRefreshUpdate) {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: opts.JWTRefreshUpdateMethod || 'GET',\n\t\t\t\t\turl: opts.JWTRefreshUpdateURL\n\t\t\t\t}).then((response) => {\n\t\t\t\t\taxios(opts).then((response) => {\n\t\t\t\t\t\tres(response);\n\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\trej(getError(e))\n\t\t\t\t\t});\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\trej(getError(e));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\trej(getError(e))\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction getError(e) {\n\tif(e.response) {\n\t\tif(!e.response.data) e.response.data = e;\n\t\treturn e.response;\n\t} else if(e.request) {\n\t\tif(!e.request.data) e.request.data = e;\n\t\treturn e.request;\n\t} else {\n\t\tif(!e.data) e.data = e;\n\t\treturn e;\n\t}\n}\n","export const defaultRequestSettings = {\n\t//timeout: 5000,\n\tresponseType: 'json',\n\tJWTRefreshUpdate: true,\n\tJWTRefreshUpdateMethod: 'POST',\n\tJWTRefreshUpdateURL: '/auth/api/refresh'\n}\n","//{expName: constName}\nexport function createActions(obj) {\n\treturn Object.keys(obj || {}).reduce((acc, key) => {\n\t\tacc[key] = ((constName) => {\n\t\t\treturn (data) => ({type: constName, payload: data});\n\t\t})(obj[key]);\n\t\t\n\t\treturn acc;\n\t}, {});\n}\n\n// constName, fn | fn\nexport function createSagas(arr) {\n\treturn (Array.isArray(arr)?arr:[]).reduce((acc, value) => {\n\t\tif(typeof value === 'function') {\n\t\t\tacc.push(value);\n\t\t} else if(Array.isArray(value) && typeof value[1] === 'function') {\n\t\t\tacc.push({pattern: value[0]+'', saga: value[1]});\n\t\t}\n\t\t\n\t\treturn acc;\n\t}, []);\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserUser = createSlice({\n\tname: 'userUser',\n\tinitialState: {\n\t\tlogin: false,\n\t\tloadLogin: false,\n\t\terrorLogin: false,\n\t\tlogout: false,\n\t\tloadLogout: false,\n\t\terrorLogout: false,\n\t\tregistration: false,\n\t\tloadRegistration: false,\n\t\terrorRegistration: false,\n\t\tuser: {},\n\t\tloadGetUser: false,\n\t\tloadSetUser: false,\n\t\terrorSetUser: false,\n\t},\n\treducers: {\n\t\tlogin(state, action) {\n\t\t\tstate.login = action.payload;\n\t\t},\n\t\tstartLoadLogin(state, action) {\n\t\t\tstate.loadLogin = true;\n\t\t},\n\t\tendLoadLogin(state, action) {\n\t\t\tstate.loadLogin = false;\n\t\t},\n\t\terrorLogin(state, action) {\n\t\t\tstate.errorLogin = action.payload;\n\t\t},\n\t\tlogout(state, action) {\n\t\t\tstate.logout = action.payload;\n\t\t},\n\t\tstartLoadLogout(state, action) {\n\t\t\tstate.loadLogout = true;\n\t\t},\n\t\tendLoadLogout(state, action) {\n\t\t\tstate.loadLogout = false;\n\t\t},\n\t\terrorLogout(state, action) {\n\t\t\tstate.errorLogout = action.payload;\n\t\t},\n\t\tregistration(state, action) {\n\t\t\tstate.registration = action.payload;\n\t\t},\n\t\tstartLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = true;\n\t\t},\n\t\tendLoadRegistration(state, action) {\n\t\t\tstate.loadRegistration = false;\n\t\t},\n\t\terrorRegistration(state, action) {\n\t\t\tstate.errorRegistration = action.payload;\n\t\t},\n\t\tuser(state, action) {\n\t\t\tstate.user = {...action.payload};\n\t\t},\n\t\tuserInfo(state, action) {\n\t\t\tconst newUser = {...state.user}\n\t\t\tnewUser.userInfo = action.payload;\n\t\t\tstate.user = newUser;\n\t\t},\n\t\tstartLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = true;\n\t\t},\n\t\tendLoadGetUser(state, action) {\n\t\t\tstate.loadGetUser = false;\n\t\t},\n\t\tstartLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = true;\n\t\t},\n\t\tendLoadSetUser(state, action) {\n\t\t\tstate.loadSetUser = false;\n\t\t},\n\t\terrorSetUser(state, action) {\n\t\t\tstate.errorSetUser = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tlogin, startLoadLogin, endLoadLogin, errorLogin, \n\t\t\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\t\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\t\t\tuserInfo, user, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} = storeUserUser.actions;\n\nexport default storeUserUser.reducer;\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLikes = createSlice({\n\tname: 'userLikes',\n\tinitialState: {\n\t\tlikes: 0,\n\t\tlike: null,\n\t\tloadNewLike: false\n\t},\n\treducers: {\n\t\tsetCountLikes(state, action) {\n\t\t\tstate.likes = action.payload * 1;\n\t\t},\n\t\tnewLike(state, action) {\n\t\t\tstate.like = action.payload;\n\t\t\tstate.likes = state.likes + 1;\n\t\t},\n\t\tstartLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = true;\n\t\t},\n\t\tendLoadNewLike(state, action) {\n\t\t\tstate.loadNewLike = false;\n\t\t},\n\t\terrorNewLike(state, action) {\n\t\t\tstate.errorNewLike = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setCountLikes, newLike, startLoadNewLike, endLoadNewLike, errorNewLike} = storeUserLikes.actions;\n\nexport default storeUserLikes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {login, startLoadLogin, endLoadLogin, errorLogin, \n\t\tlogout, startLoadLogout, endLoadLogout, errorLogout, \n\t\tregistration, startLoadRegistration, endLoadRegistration, errorRegistration, \n\t\tuser, userInfo, startLoadGetUser, endLoadGetUser, startLoadSetUser, endLoadSetUser, errorSetUser} from \"../user.user.js\";\nimport {setCountLikes} from \"../user.likes.js\";\n\nfunction* loginSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadLogin());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/login`,\n\t\t\tdata: {username: payload.user, password: payload.password},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(login(true));\n\t} catch(e) {\n\t\tyield put(errorLogin(e));\n\t} finally {\n\t\tyield put(endLoadLogin());\n\t}\n}\n\nfunction* logoutSaga({payload = {}}) {\n\tyield put(startLoadLogout());\n\tconst res = yield call(request, {\n\t\tmethod: 'post',\n\t\turl: `/auth/api/logout`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(logout(true));\n\tyield put(endLoadLogout());\n}\n\nfunction* registrationSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRegistration());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/auth/api/registration`,\n\t\t\tdata: {username: payload.user, password: payload.password, password2: payload.password2, email: payload.email, first_name: payload.first_name, last_name: payload.last_name},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(registration(true));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRegistration(e));\n\t} finally {\n\t\tyield put(endLoadRegistration());\n\t}\n}\n\nfunction* getUserSaga() {\n\tyield put(startLoadGetUser());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/user`,\n\t\t...defaultRequestSettings\n\t});\n\t\n\tyield put(setCountLikes(res.data.countUserLike));\n\tyield put(user(res.data));\n\tyield put(endLoadGetUser());\n}\n\nfunction* setUserSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetUser());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/user-settings`,\n\t\t\tdata: {id: payload.id, first_name: payload.first_name, last_name: payload.last_name, langId: payload.langId, themeId: payload.themeId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(userInfo(res.data));\n\t} catch(e) {\n\t\tyield put(errorSetUser(e));\n\t} finally {\n\t\tyield put(endLoadSetUser());\n\t}\n}\n\nconst FETCH_LOGIN = 'FETCH_LOGIN';\nconst FETCH_LOGOUT = 'FETCH_LOGOUT';\nconst FETCH_REGISTRATION = 'FETCH_REGISTRATION';\nconst FETCH_GET_USER = 'FETCH_GET_USER';\nconst FETCH_SET_USER = 'FETCH_SET_USER';\n\nexport const userUserSagas = createSagas([\n\t[FETCH_LOGIN, loginSaga],\n\t[FETCH_LOGOUT, logoutSaga],\n\t[FETCH_REGISTRATION, registrationSaga],\n\t[FETCH_GET_USER, getUserSaga],\n\t[FETCH_SET_USER, setUserSaga]\n]);\n\nexport const {sagaLogin, sagaLogout, sagaRegistration, sagaSetUser, sagaGetUser} = createActions({\n\tsagaLogin: FETCH_LOGIN,\n\tsagaLogout: FETCH_LOGOUT,\n\tsagaRegistration: FETCH_REGISTRATION,\n\tsagaGetUser: FETCH_GET_USER,\n\tsagaSetUser: FETCH_SET_USER\n});\n","import React, {useCallback, useEffect} from \"react\";\nimport {Routes, Route, Link, useNavigate, useLocation} from \"react-router-dom\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Navbar, Nav, Container, Button, Badge, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport {sagaLogout, sagaGetUser} from '../redux/saga/user.user.js';\nimport {logout as logoutAC} from '../redux/user.user.js';\n\nexport default function TopNavBar() {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst navigate = useNavigate();\n\tconst location = useLocation();\n\tconst dispatch = useDispatch();\n\tconst logout = useSelector((state) => state.userUser.logout);\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst likes = useSelector((state) => state.userLikes.likes);\n\n\tconst logOutFn = useCallback(() => {dispatch(sagaLogout())}, []);\n\n\tuseEffect(() => {\n\t\tif(logout) {\n\t\t\tnavigate('/');\n\t\t\tdispatch(logoutAC());\n\t\t\tremoveCookie('Roles');\n\t\t}\n\t}, [logout]);\n\n\tuseEffect(() => {\n\t\tif(isAdmin(cookies.Roles) || isEditor(cookies.Roles) || isUser(cookies.Roles)) dispatch(sagaGetUser());\n\t}, []);\n\n\tlet name = `${user.userInfo?.first_name+''} ${user.userInfo?.last_name+''}`;\n\tif(name.length > 15) name = name.substring(0, 15)+'...';\n\n\treturn (\n\t\t<Navbar bg=\"light\" variant=\"light\" expand=\"lg\" className=\"border border-primary rounded\">\n\t\t\t<Container>\n\t\t\t\t<Navbar.Brand href=\"/\">What to play? look? read?</Navbar.Brand>\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\n\t\t\t\t\t<Nav className=\"me-auto\">\n\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/reviews\">Reviews</Link></Nav.Item>\n\t\t\t\t\t\t{isEditor(cookies.Roles)?<Nav.Item><Link className=\"nav-link\" to=\"/my-reviews\">MyReviews</Link></Nav.Item>:<></>}\n\t\t\t\t\t</Nav>\n\t\t\t\t\t<Nav>\n\t\t\t\t\t\t{isAdmin(cookies.Roles)?<Nav.Item><Nav.Link href=\"/admin\">ADMIN-PANEL</Nav.Link></Nav.Item>:<></>}\n\t\t\t\t\t\t{(!isAdmin(cookies.Roles)&&!isEditor(cookies.Roles)&&!isUser(cookies.Roles))?(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/registration\">Registration</Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/login\">Login</Link></Nav.Item>\n\t\t\t\t\t\t</>):(<>\n\t\t\t\t\t\t\t<Nav.Item><Link className=\"nav-link\" to=\"/user\">[{name}]<Badge bg=\"success\">{likes} Likes</Badge></Link></Nav.Item>\n\t\t\t\t\t\t\t<Nav.Item><Button variant=\"outline-danger\" onClick={logOutFn}>LogOut</Button></Nav.Item>\n\t\t\t\t\t\t</>)}\n\t\t\t\t\t</Nav>\n\t\t\t\t</Navbar.Collapse>\n\t\t\t</Container>\n\t\t</Navbar>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useNavigate, Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Nav} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorLogin, login as loginAC} from '../redux/user.user.js';\nimport {sagaLogin} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters')\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation();\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorLogin);\n\tconst login = useSelector((state) => state.userUser.login);\n\tconst user = useSelector((state) => state.userUser.user);\n\n\tuseEffect(() => {\n\t\tif(login) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(loginAC(false));\n\t\t}\n\t}, [login]);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseEffect(() => () => {dispatch(errorLogin(false))}, [user]);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorLogin(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.message || error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Authorization</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaLogin(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">User login</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder=\"Enter login\" isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.user?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder=\"Password\" isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">LogIn</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-top border-primary mt-2 mb-2\"></Row>\n\t\t\t<Row className=\"mb-2 justify-content-center\">\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/github\" class=\"btn btn-outline-success\" role=\"button\" aria-pressed=\"true\">logIn with GitHub</a>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/facebook\" class=\"btn btn-outline-primary\" role=\"button\" aria-pressed=\"true\">logIn with FaceBook</a>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<a href=\"/auth/api/google\" class=\"btn btn-outline-warning\" role=\"button\" aria-pressed=\"true\">logIn with Google</a>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import queryString from 'query-string';\nimport strictUriEncode from 'strict-uri-encode';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Form} from 'react-bootstrap';\nimport {useForm, useController, Controller} from 'react-hook-form';\nimport {useSearchParams, useNavigate, useParams} from \"react-router-dom\";\n\nexport default function ReviewLists() {\n\tconst navigate = useNavigate();\n\tconst {register, handleSubmit, setValue, control, reset, formState: {errors}} = useForm(/*{resolver: yupResolver(validationSchema)}*/);\n\n\tconst params = useParams();\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1\">\n\t\t\t<Row>\n\t\t\t\t<Col className=\"mt-3 mb-3\">\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tnavigate('/search/'+strictUriEncode(data.search));\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row}>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"search\")} defaultValue={params.query} type=\"text\" placeholder=\"Search\" isInvalid={!!errors.search} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.search?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Search</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport LogIn from '../components/LogIn';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<LogIn />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport {errorRegistration, registration as registrationAC} from '../redux/user.user.js';\nimport {sagaRegistration} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tuser: Yup.string().required('Username is required')\n\t\t.min(4, 'Username must be at least 4 characters')\n\t\t.max(20, 'Username must not exceed 20 characters'),\n\tpassword: Yup.string().required('Password is required')\n\t\t.min(6, 'Password must be at least 6 characters')\n\t\t.max(40, 'Password must not exceed 40 characters'),\n\tpassword2: Yup.string().required('Password2 is required')\n\t\t.min(6, 'Password2 must be at least 6 characters')\n\t\t.max(40, 'Password2 must not exceed 40 characters')\n\t\t.oneOf([Yup.ref('password'), null], 'Passwords must match'),\n\temail: Yup.string().required('Email is required')\n\t\t.min(6, 'Email must be at least 6 characters')\n\t\t.max(40, 'Email must not exceed 40 characters')\n\t\t.email('Invalid Email'),\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n});\n\nexport default function LogIn(props) {\n\tconst {t} = useTranslation();\n\tconst navigate = useNavigate();\n\tconst dispatch = useDispatch();\n\tconst error = useSelector((state) => state.userUser.errorRegistration);\n\tconst registration = useSelector((state) => state.userUser.registration);\n\t\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\t\n\tuseEffect(() => {\n\t\tif(registration) {\n\t\t\tnavigate('/user');\n\t\t\tdispatch(registrationAC(false));\n\t\t}\n\t}, [registration]);\n\t\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorRegistration(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Registration</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaRegistration(data))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFullName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"first_name\")} type=\"text\" placeholder=\"First name\" isInvalid={!!errors.first_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.first_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"last_name\")} type=\"text\" placeholder=\"Last name\" isInvalid={!!errors.last_name} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.last_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicUsername\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">User login</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"user\")} type=\"text\" placeholder=\"Enter login\" isInvalid={!!errors.user} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.user?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicEmail\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Email</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"email\")} type=\"email\" placeholder=\"email@email\" isInvalid={!!errors.email} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.email?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Password</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password\")} type=\"password\" placeholder=\"Password\" isInvalid={!!errors.password} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"password2\")} type=\"password\" placeholder=\"Password 2\" isInvalid={!!errors.password2} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.password2?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Registration</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport Registration from '../components/Registration';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<Registration />\n\t\t</Container>\n\t)\n}\n","import React, {useRef, useEffect} from \"react\";\nimport {Navbar, Nav, Container, Button, Row, Col, Spinner} from 'react-bootstrap';\n\n// props size(width|height), variant, className, ignorePadding\nexport default function Filler(props) {\n\tconst element = useRef(null);\n\t\n\tuseEffect(() => {\n\t\tlet parent = element.current.parentNode;\n\t\t\n\t\tlet parentStyles = window.getComputedStyle(parent);\n\t\tlet oldPosition = parentStyles.position;\n\t\tparent.style.position = 'relative';\n\t\t\n\t\tlet width = (parseInt(parentStyles.width) - (props.ignorePadding?0:(parseInt(parentStyles.paddingRight) + parseInt(parentStyles.paddingLeft))))+'px';\n\t\tlet height = (parseInt(parentStyles.height) - (props.ignorePadding?0:(parseInt(parentStyles.paddingTop) + parseInt(parentStyles.paddingBottom))))+'px';\n\t\tlet left = props.ignorePadding?'0px':parentStyles.paddingLeft;\n\t\tlet top = props.ignorePadding?'0px':parentStyles.paddingTop;\n\t\t\n\t\tlet blur = document.createElement('div');\n\t\tblur.style.position = 'absolute';\n\t\tblur.style.display = 'block';\n\t\tblur.style.width = width;\n\t\tblur.style.height = height;\n\t\tblur.style.left = left;\n\t\tblur.style.top = top;\n\t\t\n\t\tparent.appendChild(blur);\n\t\tblur.style.zIndex = 10;\n\t\tblur.style.opacity = '0.2';\n\t\tblur.style.backgroundColor = 'orange';\n\t\tblur.classList.add(...(props.className?props.className.split(' '):[]));\n\t\t\n\t\tlet spinner = element.current;\n\t\tspinner.style.position = 'absolute';\n\t\tspinner.style.display = 'block';\n\t\tspinner.style.width = width;\n\t\tspinner.style.height = height;\n\t\tspinner.style.left = left;\n\t\tspinner.style.top = top;\n\t\tspinner.style.zIndex = 11;\n\t\t\n\t\treturn () => {\n\t\t\tparent.style.position = oldPosition;\n\t\t\tparent.removeChild(blur);\n\t\t\tspinner.style.display = 'none';\n\t\t}\n\t});\n\t\n\treturn (\n\t\t<div ref={element} style={{display: 'none'}} className={(props.className?props.className.toString():'')}>\n\t\t\t<Row style={{height: '100%'}} className=\"justify-content-center align-items-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<Spinner animation=\"border\" style={{width: props.size || 'auto', height: props.size || 'auto'}} variant={props.variant || 'warning'} />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserLangs = createSlice({\n\tname: 'userLangs',\n\tinitialState: {\n\t\tlangs: [],\n\t\tloadLangs: false\n\t},\n\treducers: {\n\t\tgetLangs(state, action) {\n\t\t\tstate.langs = [...action.payload];\n\t\t},\n\t\tstartLoadLangs(state, action) {\n\t\t\tstate.loadLangs = true;\n\t\t},\n\t\tendLoadLangs(state, action) {\n\t\t\tstate.loadLangs = false;\n\t\t}\n\t}\n});\n\nexport const {getLangs, startLoadLangs, endLoadLangs} = storeUserLangs.actions;\n\nexport default storeUserLangs.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getLangs, startLoadLangs, endLoadLangs} from \"../user.langs.js\";\n\nfunction* getAllLangsSaga({payload = {}}) {\n\tyield put(startLoadLangs());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/langs`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getLangs(res.data));\n\tyield put(endLoadLangs());\n}\n\nconst FETCH_GET_ALL_LANGS = 'FETCH_GET_ALL_LANGS';\n\nexport const userLangsSagas = createSagas([\n\t[FETCH_GET_ALL_LANGS, getAllLangsSaga]\n]);\n\nexport const {sagaGetAllLangs} = createActions({\n\tsagaGetAllLangs: FETCH_GET_ALL_LANGS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserThemes = createSlice({\n\tname: 'userThemes',\n\tinitialState: {\n\t\tthemes: [],\n\t\tloadThemes: false\n\t},\n\treducers: {\n\t\tgetThemes(state, action) {\n\t\t\tstate.themes = [...action.payload];\n\t\t},\n\t\tstartLoadThemes(state, action) {\n\t\t\tstate.loadThemes = true;\n\t\t},\n\t\tendLoadThemes(state, action) {\n\t\t\tstate.loadThemes = false;\n\t\t}\n\t}\n});\n\nexport const {getThemes, startLoadThemes, endLoadThemes} = storeUserThemes.actions;\n\nexport default storeUserThemes.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getThemes, startLoadThemes, endLoadThemes} from \"../user.themes.js\";\n\nfunction* getAllThemesSaga({payload = {}}) {\n\tyield put(startLoadThemes());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/themes`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getThemes(res.data));\n\tyield put(endLoadThemes());\n}\n\nconst FETCH_GET_ALL_THEMES = 'FETCH_GET_ALL_THEMES';\n\nexport const userThemesSagas = createSagas([\n\t[FETCH_GET_ALL_THEMES, getAllThemesSaga]\n]);\n\nexport const {sagaGetAllThemes} = createActions({\n\tsagaGetAllThemes: FETCH_GET_ALL_THEMES,\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\n\nimport Filler from './Filler';\n\nimport {sagaGetAllLangs} from '../redux/saga/user.langs.js';\nimport {sagaGetAllThemes} from '../redux/saga/user.themes.js';\nimport {errorSetUser} from '../redux/user.user.js';\nimport {sagaSetUser} from '../redux/saga/user.user.js';\n\nconst validationSchema = Yup.object().shape({\n\tfirst_name: Yup.string(),\n\tlast_name: Yup.string(),\n\tlangId: Yup.number().required('lang ID is required'),\n\tthemeId: Yup.number().required('Theme ID is required')\n});\n\nexport default function UserSettings(props) {\n\tconst {t} = useTranslation();\n\tconst [firstRender, setFirstRender] = useState(true);\n\tconst dispatch = useDispatch();\n\tconst user = useSelector((state) => state.userUser.user);\n\tconst loadGetUser = useSelector((state) => state.userUser.loadGetUser);\n\tconst error = useSelector((state) => state.userUser.errorSetUser);\n\tconst loadSetUser = useSelector((state) => state.userUser.loadSetUser);\n\n\tconst langs = useSelector((state) => state.userLangs.langs);\n\tconst loadLangs = useSelector((state) => state.userLangs.loadLangs);\n\tconst themes = useSelector((state) => state.userThemes.themes);\n\tconst loadThemes = useSelector((state) => state.userThemes.loadThemes);\n\n\tconst {register, handleSubmit, watch, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\tuseLayoutEffect(() => {\n\t\tdispatch(sagaGetAllLangs());\n\t\tdispatch(sagaGetAllThemes());\n\t\tsetFirstRender(false);\n\t}, []);\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t{(loadGetUser || !user.userInfo)?<Filler ignorePadding={true} className=\"rounded\" size=\"3.5rem\" />:null}\n\t\t\t{loadSetUser?<Filler ignorePadding={true} className=\"rounded\" size=\"5rem\" />:null}\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorSetUser(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason || error.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>User Settings</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {dispatch(sagaSetUser({id: user.userInfo?.id, ...data}))})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicFirstName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">First name</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"first_name\")} defaultValue={user.userInfo.first_name} type=\"text\" placeholder=\"Enter first name\" isInvalid={!!errors.first_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.first_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLastName\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Last name</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{(!firstRender && !loadGetUser && user.userInfo)?<Form.Control {...register(\"last_name\")} defaultValue={user.userInfo.last_name} type=\"text\" placeholder=\"Enter last name\" isInvalid={!!errors.last_name} />:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.last_name?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicLang\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Language</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadLangs?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadLangs && user.userInfo)?<Form.Select {...register(\"langId\")} defaultValue={user.userInfo.langId} isInvalid={!!errors.lang}>\n\t\t\t\t\t\t\t\t\t{langs.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{entry.title}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.lang?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTheme\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Theme</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"7\">\n\t\t\t\t\t\t\t\t{loadThemes?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t{(!firstRender && !loadThemes && user.userInfo)?<Form.Select {...register(\"themeId\")} defaultValue={user.userInfo.themeId} isInvalid={!!errors.theme}>\n\t\t\t\t\t\t\t\t\t{themes.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry.id}>{entry.title}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>:null}\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.theme?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Save</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport UserSettings from '../components/UserSettings';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReview() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<UserSettings />\n\t\t</Container>\n\t)\n}\n","import React from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport {Navbar, Nav, Container, Button, Row, Col} from 'react-bootstrap';\n\nexport default function BodyContent(props) {\n\n\treturn (\n\t\t<Row>\n\t\t\t<Col style={{paddingRight: '.125rem'}}>{props.content}{props.addContent?props.addContent:null}</Col>\n\t\t\t<Col md=\"auto\" style={{paddingLeft: '.125rem'}}>{props.rightbar}{props.addRightBar?props.addRightBar:null}</Col>\n\t\t</Row>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserRatings = createSlice({\n\tname: 'userRatings',\n\tinitialState: {\n\t\trating: 0,\n\t\tloadNewRating: false\n\t},\n\treducers: {\n\t\tsetRating(state, action) {\n\t\t\tstate.rating = action.payload * 1;\n\t\t},\n\t\tnewRating(state, action) {\n\t\t\tstate.rating = action.payload.userRating;\n\t\t},\n\t\tstartLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = true;\n\t\t},\n\t\tendLoadNewRating(state, action) {\n\t\t\tstate.loadNewRating = false;\n\t\t},\n\t\terrorNewRating(state, action) {\n\t\t\tstate.errorNewRating = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} = storeUserRatings.actions;\n\nexport default storeUserRatings.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {setRating, newRating, startLoadNewRating, endLoadNewRating, errorNewRating} from \"../user.ratings.js\";\n\nfunction* newRatingSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewRating());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/rating-new`,\n\t\t\tdata: {rating: payload.rating, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newRating(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewRating(e));\n\t} finally {\n\t\tyield put(endLoadNewRating());\n\t}\n}\n\nconst FETCH_NEW_RATING = 'FETCH_NEW_RATING';\n\nexport const userRatingsSagas = createSagas([\n\t[FETCH_NEW_RATING, newRatingSaga]\n]);\n\nexport const {sagaNewRating} = createActions({\n\tsagaNewRating: FETCH_NEW_RATING,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Rating from 'react-rating';\n\nimport Filler from './Filler';\n\nimport {sagaNewRating} from '../redux/saga/user.ratings.js';\n\nexport default function ReviewRating(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [newRating, setNewRating] = useState(null);\n\tconst rating = useSelector((state) => state.userRatings.rating);\n\tconst loadNewRating = useSelector((state) => state.userRatings.loadNewRating);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewRating(rating);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [rating]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst defValue = props.data.length > 0?props.data[0].userRating:(newRating !== null?newRating:0);\n\tconst isDisabled = props.data.length > 0 || newRating !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewRating && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Rating readonly={isDisabled} initialRating={defValue} onChange={(value) => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewRating({rating: value, reviewId: props.reviewId}));\n\t\t\t}} />\n\t\t</>\n\t)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {newLike, startLoadNewLike, endLoadNewLike, errorNewLike} from \"../user.likes.js\";\n\nfunction* newLikeSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewLike());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/like-new`,\n\t\t\tdata: {reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newLike(res.data));\n\t} catch(e) {\n\t\tyield put(errorNewLike(e));\n\t} finally {\n\t\tyield put(endLoadNewLike());\n\t}\n}\n\nconst FETCH_NEW_LIKE = 'FETCH_NEW_LIKE';\n\nexport const userLikesSagas = createSagas([\n\t[FETCH_NEW_LIKE, newLikeSaga]\n]);\n\nexport const {sagaNewLike} = createActions({\n\tsagaNewLike: FETCH_NEW_LIKE,\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport Filler from './Filler';\n\nimport {sagaNewLike} from '../redux/saga/user.likes.js';\n\nexport default function ReviewLike(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [newLike, setNewLike] = useState(null);\n\tconst like = useSelector((state) => state.userLikes.like);\n\tconst loadNewLike = useSelector((state) => state.userLikes.loadNewLike);\n\n\tconst currentEvent = useRef(false);\n\n\tuseLayoutEffect(() => {//console.log(like, firstUpdate.current, currentEvent.current)\n\t\tif(!firstUpdate.current && currentEvent.current) {\n\t\t\tsetNewLike(like.like);\n\t\t\tcurrentEvent.current = false;\n\t\t}\n\t}, [like]);\n\n\tconst firstUpdate = useRef(true);\n\tuseLayoutEffect(() => {\n\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t});\n\n\tconst isDisabled = props.data.length > 0 || newLike !== null;\n\n\treturn (\n\t\t<>\n\t\t\t{loadNewLike && currentEvent.current?<Filler size='1.5rem' />:null}\n\t\t\t<Button variant=\"danger\" disabled={isDisabled} size=\"sm\" onClick={() => {\n\t\t\t\tcurrentEvent.current = true;\n\t\t\t\tdispatch(sagaNewLike({reviewId: props.reviewId}));\n\t\t\t}}>Like</Button>\n\t\t</>\n\t)\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Link to={'/reviews'+'?'+queryString.stringify({groups: [props.groupId]}, {arrayFormat: 'bracket'})}><span className=\"h6\">{props.group}</span></Link>\n\t\t\t\t\t<span> / </span>\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">{props.title}</span></Link>\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={props.ratings} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={props.likes} reviewId={props.id} />:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t\t\t<Col className=\"text-info\"><h1>{props.authorRating}</h1></Col>\n\t\t\t\t\t\t<Col><span className=\"text-secondary\">{props.author[0]} {props.author[1]}</span></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col><ReactMarkdown>{props.description}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center mt-1 mb-1\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t<Link to={\"/review/\"+props.id}><span className=\"h6\">full review</span></Link>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t)\n}\n","export function unique(array) {\n\treturn array.filter(onlyUnique);\n}\n\nfunction onlyUnique(value, index, self) {\n\treturn self.lastIndexOf(value) === index;\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTags = createSlice({\n\tname: 'editorTags',\n\tinitialState: {\n\t\ttags: [],\n\t\tloadTags: false,\n\t\tloadNewTag: false,\n\t\terrorNewTag: false,\n\t\tnewTag: false\n\t},\n\treducers: {\n\t\tgetTags(state, action) {\n\t\t\tstate.tags = [...action.payload];\n\t\t},\n\t\tstartLoadTags(state, action) {\n\t\t\tstate.loadTags = true;\n\t\t},\n\t\tendLoadTags(state, action) {\n\t\t\tstate.loadTags = false;\n\t\t},\n\t\tstartLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = true;\n\t\t},\n\t\tendLoadNewTag(state, action) {\n\t\t\tstate.loadNewTag = false;\n\t\t},\n\t\terrorNewTag(state, action) {\n\t\t\tstate.errorNewTag = action.payload;\n\t\t},\n\t\tnewTag(state, action) {\n\t\t\tstate.tags = [action.payload, ...state.tags];\n\t\t\tstate.newTag = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTags, startLoadTags, endLoadTags,\n\t\t\t\tstartLoadNewTag, endLoadNewTag, errorNewTag, newTag} = storeEditorTags.actions;\n\nexport default storeEditorTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTags, startLoadTags, endLoadTags, startLoadNewTag, endLoadNewTag, errorNewTag, newTag} from \"../editor.tags.js\";\n\nfunction* getPartTagsSaga({payload = {}}) {\n\tyield put(startLoadTags());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/part-tags/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTags(res.data));\n\tyield put(endLoadTags());\n}\n\nfunction* newTagSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTag());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/tag-new`,\n\t\t\tdata: {tag: payload},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTag(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTag(e));\n\t} finally {\n\t\tyield put(endLoadNewTag());\n\t}\n}\n\nconst FETCH_GET_PART_TAGS = 'FETCH_GET_PART_TAGS';\nconst FETCH_NEW_TAG = 'FETCH_NEW_TAG';\n\nexport const editorTagsSagas = createSagas([\n\t[FETCH_GET_PART_TAGS, getPartTagsSaga],\n\t[FETCH_NEW_TAG, newTagSaga]\n]);\n\nexport const {sagaGetPartTags, sagaNewTag} = createActions({\n\tsagaGetPartTags: FETCH_GET_PART_TAGS,\n\tsagaNewTag: FETCH_NEW_TAG\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorGroups = createSlice({\n\tname: 'editorGroups',\n\tinitialState: {\n\t\tgroups: [],\n\t\tloadGroups: false\n\t},\n\treducers: {\n\t\tgetGroups(state, action) {\n\t\t\tstate.groups = [...action.payload];\n\t\t},\n\t\tstartLoadGroups(state, action) {\n\t\t\tstate.loadGroups = true;\n\t\t},\n\t\tendLoadGroups(state, action) {\n\t\t\tstate.loadGroups = false;\n\t\t}\n\t}\n});\n\nexport const {getGroups, startLoadGroups, endLoadGroups} = storeEditorGroups.actions;\n\nexport default storeEditorGroups.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getGroups, startLoadGroups, endLoadGroups} from \"../editor.groups.js\";\n\nfunction* getAllGroupsSaga({payload = {}}) {\n\tyield put(startLoadGroups());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/groups`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getGroups(res.data));\n\tyield put(endLoadGroups());\n}\n\nconst FETCH_GET_ALL_GROUPS = 'FETCH_GET_ALL_GROUPS';\n\nexport const editorGroupsSagas = createSagas([\n\t[FETCH_GET_ALL_GROUPS, getAllGroupsSaga]\n]);\n\nexport const {sagaGetAllGroups} = createActions({\n\tsagaGetAllGroups: FETCH_GET_ALL_GROUPS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorTitles = createSlice({\n\tname: 'editorTitles',\n\tinitialState: {\n\t\ttitles: [],\n\t\tloadTitles: false,\n\t\tloadNewTitle: false,\n\t\terrorNewTitle: false,\n\t\tnewTitle: false\n\t},\n\treducers: {\n\t\tgetTitles(state, action) {\n\t\t\tstate.titles = [...action.payload];\n\t\t},\n\t\tstartLoadTitles(state, action) {\n\t\t\tstate.loadTitles = true;\n\t\t},\n\t\tendLoadTitles(state, action) {\n\t\t\tstate.loadTitles = false;\n\t\t},\n\t\t\n\t\tstartLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = true;\n\t\t},\n\t\tendLoadNewTitle(state, action) {\n\t\t\tstate.loadNewTitle = false;\n\t\t},\n\t\terrorNewTitle(state, action) {\n\t\t\tstate.errorNewTitle = action.payload;\n\t\t},\n\t\tnewTitle(state, action) {\n\t\t\tstate.titles = [action.payload, ...state.titles];\n\t\t\tstate.newTitle = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tgetTitles, startLoadTitles, endLoadTitles,\n\t\t\t\tstartLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} = storeEditorTitles.actions;\n\nexport default storeEditorTitles.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getTitles, startLoadTitles, endLoadTitles, startLoadNewTitle, endLoadNewTitle, errorNewTitle, newTitle} from \"../editor.titles.js\";\n\nfunction* getPartTitlesSaga({payload = {}}) {\n\tyield put(startLoadTitles());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/part-titles/`+encodeURIComponent(payload),\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getTitles(res.data));\n\tyield put(endLoadTitles());\n}\n\nfunction* newTitleSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewTitle());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/title-new`,\n\t\t\tdata: {title: payload.title, description: payload.description},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newTitle(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewTitle(e));\n\t} finally {\n\t\tyield put(endLoadNewTitle());\n\t}\n}\n\nconst FETCH_GET_PART_TITLES = 'FETCH_GET_PART_TITLES';\nconst FETCH_NEW_TITLE = 'FETCH_NEW_TITLE';\n\nexport const editorTitlesSagas = createSagas([\n\t[FETCH_GET_PART_TITLES, getPartTitlesSaga],\n\t[FETCH_NEW_TITLE, newTitleSaga]\n]);\n\nexport const {sagaGetPartTitles, sagaNewTitle} = createActions({\n\tsagaGetPartTitles: FETCH_GET_PART_TITLES,\n\tsagaNewTitle: FETCH_NEW_TITLE\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorEditors = createSlice({\n\tname: 'guestEditors',\n\tinitialState: {\n\t\t//editors: [],\n\t\tpartEditors: [],\n\t\tloadEditors: false\n\t},\n\treducers: {\n\t\tgetEditors(state, action) {\n\t\t\t//state.editors = [...state.editors, ...action.payload];\n\t\t\tstate.partEditors = [...action.payload];\n\t\t},\n\t\tstartLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = true;\n\t\t},\n\t\tendLoadEditors(state, action) {\n\t\t\tstate.loadTiltes = false;\n\t\t}\n\t}\n});\n\nexport const {getEditors, startLoadEditors, endLoadEditors} = storeEditorEditors.actions;\n\nexport default storeEditorEditors.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getEditors, startLoadEditors, endLoadEditors} from \"../guest.editors.js\";\n\nfunction* getPartEditorsSaga({payload = {}}) {\n\tyield put(startLoadEditors());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/editor-short-part/`,\n\t\tparams: {page: payload.page},\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getEditors(res.data));\n\tyield put(endLoadEditors());\n}\n\nconst FETCH_GET_PART_EDITORS = 'FETCH_GET_PART_EDITORS';\n\nexport const guestEditorsSagas = createSagas([\n\t[FETCH_GET_PART_EDITORS, getPartEditorsSaga],\n]);\n\nexport const {sagaGetPartEditors} = createActions({\n\tsagaGetPartEditors: FETCH_GET_PART_EDITORS,\n});\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeCustomFilter = createSlice({\n\tname: 'customFilter',\n\tinitialState: {\n\t\tfilter: {},\n\t\teditorFilter: {}\n\t},\n\treducers: {\n\t\tsetFilterData(state, action) {\n\t\t\tstate.filter = action.payload;\n\t\t},\n\t\tsetEditorFilterData(state, action) {\n\t\t\tstate.editorFilter = action.payload;\n\t\t}\n\t}\n});\n\nexport const {setFilterData, setEditorFilterData} = storeCustomFilter.actions;\n\nexport default storeCustomFilter.reducer;\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar, Popover, OverlayTrigger} from 'react-bootstrap';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport {useForm, useController, Controller} from 'react-hook-form';\nimport AsyncSelect from 'react-select/async';\nimport {AsyncPaginate} from 'react-select-async-paginate';\nimport {useSearchParams, useNavigate} from \"react-router-dom\";\n\nimport {unique} from '../helpers/unique.js';\n\nimport {sagaGetPartTags} from '../redux/saga/editor.tags.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartEditors} from '../redux/saga/guest.editors.js';\n\nimport {setFilterData, setEditorFilterData} from '../redux/custom.filter.js';\n\n// prop with authors, sortField, typeFilter(user|editor)\n export default function PopoverFilterReviews(props) {\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\tconst {register, handleSubmit, setValue, control, reset, formState: {errors}} = useForm(/*{resolver: yupResolver(validationSchema)}*/);\n\n\tconst [searchParams, setSearchParams] = useSearchParams();\n\n\tconst editorFilter = useSelector((state) => state.customFilter.editorFilter);\n\tconst filter = useSelector((state) => state.customFilter.filter);\n\n\tconst filterData = props.typeFilter === 'editor'?editorFilter:filter;\n\n\tconst [callbackGroupSelect, setCallbackGroupSelect] = useState(null);\n\tconst [callbackEditorSelect, setCallbackEditorSelect] = useState(null);\n\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\n\t//const editors = useSelector((state) => state.guestEditors.editors);\n\tconst partEditors = useSelector((state) => state.guestEditors.partEditors);\n\tconst loadEditors = useSelector((state) => state.guestEditors.loadEditors);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(groups && groups.length > 0 && callbackGroupSelect) {\n\t\t\tcallbackGroupSelect.callback(groups.map((entry) => ({value: entry.id,  label: entry.group})));\n\t\t}\n\t}, [groups]);\n\n\t// with react-select\n\tuseLayoutEffect(() => {\n\t\tif(partEditors && callbackEditorSelect) {\n\t\t\tif(partEditors.length > 0) {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: partEditors.map((entry) => {\n\t\t\t\t\t\tlet userName = (entry.user && entry.social_id)?entry.user+'/'+entry.social_id:(\n\t\t\t\t\t\t\tentry.user?entry.user:(entry.social_id?entry.social_id:'UNKNOWN')\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif(entry.userInfo) userName += `(${entry.userInfo.first_name} ${entry.userInfo.last_name})`;\n\t\t\t\t\t\treturn {value: entry.id,  label: userName};\n\t\t\t\t\t}),\n\t\t\t\t\thasMore: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallbackEditorSelect.callback({\n\t\t\t\t\toptions: [],\n\t\t\t\t\thasMore: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [partEditors]);\n\n\treturn (\n\t\t<OverlayTrigger rootClose={true} delay={0} trigger=\"click\" /*key={placement}*/ placement=\"bottom\" overlay={\n\t\t\t<Popover id=\"popover-filter-reviews\" style={{minWidth: '500px'}} >\n\t\t\t\t<Popover.Header as=\"h3\">Filter Selected Reviews</Popover.Header>\n\t\t\t\t<Popover.Body>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tlet query = Object.keys(data).reduce((acc, key) => {\n\t\t\t\t\t\t\tif(data[key]) {\n\t\t\t\t\t\t\t\tif(key === 'tags' || key === 'titles') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.id));\n\t\t\t\t\t\t\t\t} else if(key === 'authors' || key === 'groups') {\n\t\t\t\t\t\t\t\t\tacc[key] = unique(data[key].map((entry) => entry.value));\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tacc[key] = data[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tif(props.typeFilter === 'editor') {\n\t\t\t\t\t\t\tdispatch(setEditorFilterData(data))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdispatch(setFilterData(data))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnavigate((props.typeFilter === 'editor'?'/my-reviews':'/reviews')+'?'+queryString.stringify(query, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\tdocument.body.click();\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Tags</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"tags\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet tags = searchParams.getAll(\"tags[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(tags) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//tags = tags.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTags = filterData.tags || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn tags.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTags.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, tag: 'tag_id_'+entry}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={tags} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formGroups\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Groups</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"groups\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet groups = searchParams.getAll(\"groups[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(groups) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//groups = groups.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterGroups = filterData.groups || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn groups.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterGroups.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'group_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncSelect //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackGroupSelect({callback});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetAllGroups());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//onInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.groups?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formTitles\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Titles</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"titles\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet titles = searchParams.getAll(\"titles[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(titles) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//titles = titles.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterTitles = filterData.titles || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn titles.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterTitles.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {id: entry*1, title: 'title_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref} id=\"async-autocomplete-titles\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultSelected={[review.groupTitle.title]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={titles} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t{props.withAuthors?<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthos\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Authors</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"authors\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={(() => {\n\t\t\t\t\t\t\t\t\t\t\t\tlet authors = searchParams.getAll(\"authors[]\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(authors) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//authors = authors.split(',');\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet filterAuthors = filterData.authos || [];\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn authors.map((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst items = filterAuthors.filter((item) => item.id == entry);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(items.length < 1) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn {value: entry*1, label: 'author_id_'+entry};\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn items.at(-1);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncPaginate   //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={async (search, loadedOptions, {page}) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetPartEditors({page}));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst res = await new Promise((res, rej) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackEditorSelect({callback: (o) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\to.additional = {page: page + 1}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres(o);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tadditional={{page: 1}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.groups?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>:null}\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Sorting</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"5\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortField\")} defaultValue={searchParams.get(\"sortField\")} isInvalid={!!errors.sortField} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>Chose field</option>\n\t\t\t\t\t\t\t\t\t{props.sortFields.map((entry, index) => {\n\t\t\t\t\t\t\t\t\t\treturn <option key={index} value={entry}>{entry}</option>\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.sortField?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">type</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"3\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"sortType\")} defaultValue={searchParams.get(\"sortType\")} isInvalid={!!errors.sortType} >\n\t\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>Chose type</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ASC\" >ASC</option>\n\t\t\t\t\t\t\t\t\t<option value=\"DESC\">DESC</option>\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.sortType?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Row className=\"justify-content-end\">\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-danger\" type=\"button\" onClick={() => {\n\t\t\t\t\t\t\t\t\tnavigate('?');\n\t\t\t\t\t\t\t\t\tsetValue('groups', []);\n\t\t\t\t\t\t\t\t\tsetValue('authors', []);\n\t\t\t\t\t\t\t\t\tsetValue('tags', []);\n\t\t\t\t\t\t\t\t\tsetValue('titles', []);\n\t\t\t\t\t\t\t\t\tsetValue('sortField', null);\n\t\t\t\t\t\t\t\t\tsetValue('sortType', null);\n\t\t\t\t\t\t\t\t}}>reset</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-success\" type=\"submit\">filter</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Popover.Body>\n\t\t\t</Popover>\n\t\t} >\n\t\t\t<Button variant=\"outline-primary\">Filters</Button>\n\t\t</OverlayTrigger>\n\t)\n}\n","export default class Paginator {\n\t#countRows = 0;\n\t#currentPage = 1;\n\t#lastAddCountRow = 0;\n\n\tconstructor(defaultCountRows) {\n\t\tthis.#countRows = defaultCountRows * 1;\n\t}\n\n\treplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...data];\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\n\tremove(state, stateName, fn) {\n\t\tif(typeof fn !== 'function') throw new Error('Third argument must be Function');\n\t\tconst limit = state[stateName].length - this.#lastAddCountRow;\n\t\tstate[stateName] = state[stateName].filter((entry, index, array) => {\n\t\t\tconst res =  fn(entry, index, array);\n\t\t\tif(res) {\n\t\t\t\tthis.#lastAddCountRow--;\n\t\t\t\tif(this.#lastAddCountRow < 0) {\n\t\t\t\t\tthis.#lastAddCountRow = this.#countRows - 1;\n\t\t\t\t\tthis.#currentPage--;\n\t\t\t\t\tif(this.#currentPage < 1) this.#currentPage = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t});\n\t}\n\n\tappend(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...data, ...state[stateName]];\n\t}\n\n\taddWithReplace(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tif(this.#lastAddCountRow === 0) {\n\t\t\tstate[stateName] = [...state[stateName], ...data];\n\t\t} else {\n\t\t\tconst end = state[stateName].length - this.#lastAddCountRow;\n\t\t\tstate[stateName] = [state[stateName].slice(0, end<0?state[stateName].length:end), ...data];\n\t\t}\n\t\tif(data.length >= this.#countRows) {\n\t\t\tthis.#currentPage++;// only 1 page\n\t\t\tthis.#lastAddCountRow = 0;\n\t\t} else {\n\t\t\tthis.#lastAddCountRow = data.length;\n\t\t}\n\t}\n\n\taddToEnd(state, stateName, data) {\n\t\tif(!Array.isArray(data)) throw new Error('Third argument must be Array');\n\t\tstate[stateName] = [...state[stateName], ...data];\n\t\tthis.#lastAddCountRow += data.length;\n\t\tif(this.#lastAddCountRow >= this.#countRows) {\n\t\t\tthis.#currentPage += Math.floor(this.#lastAddCountRow/this.#countRows);\n\t\t\tthis.#lastAddCountRow = this.#lastAddCountRow % this.#countRows;\n\t\t}\n\t}\n\n\tgetPageForQuery() {\n\t\treturn this.#currentPage;\n\t}\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeUserReviews = createSlice({\n\tname: 'userReviews',\n\tinitialState: {\n\t\tpaginator: new Paginator(10),\n\n\t\tcurrentReview: null,\n\n\t\tdata: [],\n\t\tdataLoading: false,\n\t\tdataMoreLoading: false,\n\n\t\tdataItem: null,\n\t\tdataItemLoading: false,\n\n\t\totherData: [],\n\t\totherDataLoading: false\n\t},\n\treducers: {\n\t\tsetCurrentReview(state, action) {\n\t\t\tstate.currentReview = action.payload || null;\n\t\t},\n\n\t\tmoreReviews(state, action) {\n\t\t\tstate.paginator.addWithReplace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = true;\n\t\t},\n\t\tendLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = false;\n\t\t},\n\n\t\tgetReviews(state, action) {\n\t\t\tstate.paginator.replace(state, 'data', action.payload);\n\t\t},\n\t\tstartLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = true;\n\t\t},\n\t\tendLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = false;\n\t\t},\n\n\t\tgetReviewItem(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t},\n\t\tstartLoadGetReviewItem(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tendLoadGetReviewItem(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\n\t\tgetOtherReviews(state, action) {\n\t\t\tstate.otherData = action.payload;\n\t\t},\n\t\tstartLoadGetOtherReviews(state, action) {\n\t\t\tstate.otherDataLoading = true;\n\t\t},\n\t\tendLoadGetOtherReviews(state, action) {\n\t\t\tstate.otherDataLoading = false;\n\t\t},\n\t}\n});\n\nexport const {  setCurrentReview,\n\t\t\t\tmoreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\t\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\t\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem,\n\t\t\t\tgetOtherReviews, startLoadGetOtherReviews, endLoadGetOtherReviews} = storeUserReviews.actions;\n\nexport default storeUserReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem,\n\t\tgetOtherReviews, startLoadGetOtherReviews, endLoadGetOtherReviews} from \"../user.reviews.js\";\n\nfunction* getReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/reviews`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nfunction* getReviewSaga({payload = {}}) {\n\tyield put(startLoadGetReviewItem());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/review/${payload.id}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviewItem(res.data));\n\tyield put(endLoadGetReviewItem());\n}\n\nfunction* getOtherReviewSaga({payload = {}}) {\n\tyield put(startLoadGetOtherReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/other-short-reviews/${payload.id}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getOtherReviews(res.data));\n\tyield put(endLoadGetOtherReviews());\n}\n\nconst FETCH_MORE_REVIEWS = 'FETCH_MORE_REVIEWS';\nconst FETCH_GET_REVIEWS = 'FETCH_GET_REVIEWS';\nconst FETCH_GET_REVIEW = 'FETCH_GET_REVIEW';\nconst FETCH_OTHER_REVIEWS = 'FETCH_OTHER_REVIEWS';\n\nexport const userReviewsSagas = createSagas([\n\t[FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[FETCH_GET_REVIEWS, getReviewsSaga],\n\t[FETCH_GET_REVIEW, getReviewSaga],\n\t[FETCH_OTHER_REVIEWS, getOtherReviewSaga]\n]);\n\nexport const {sagaMoreReviews, sagaGetReviews, sagaGetReview, sagaOtherReviews} = createActions({\n\tsagaMoreReviews: FETCH_MORE_REVIEWS,\n\tsagaGetReviews: FETCH_GET_REVIEWS,\n\tsagaGetReview: FETCH_GET_REVIEW,\n\tsagaOtherReviews: FETCH_OTHER_REVIEWS\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport ReviewItem from './ReviewItem';\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport Filler from './Filler';\n\nimport {sagaGetReviews} from '../redux/saga/user.reviews.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'updatedAt'\n];\n\nexport default function ReviewLists() {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst reviews = useSelector((state) => state.userReviews.data);\n\tconst reviewsLoading = useSelector((state) => state.userReviews.dataLoading);\n\tconst dispatch = useDispatch();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReviews({params: searchParams, isUser: isUser(cookies.Roles)}));\n\t}, [searchParams]);\n\n\treturn (\n\t\t<div>\n\t\t\t<Row><Col>\n\t\t\t\t<Container className=\"border border-primary rounded bg-light mt-1\">\n\t\t\t\t<Row>\n\t\t\t\t\t<Col md=\"auto\" className=\"mt-3 mb-3\">\n\t\t\t\t\t\t<PopoverFilterReviews withAuthors={true} sortFields={sortFields} typeFilter=\"guest\" />\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t</Container>\n\t\t\t</Col></Row>\n\t\t\t{reviewsLoading?<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='4rem' />\n\t\t\t\t\t\t<Row><Col style={{minHeight: '100px'}}></Col></Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t<Row><Col>{reviews.map((entry) => {\n\t\t\t\treturn <ReviewItem  key={entry.id}\n\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\ttitle={entry.groupTitle?.title?.title}\n\t\t\t\t\t\t\t\t\tgroup={entry.groupTitle?.group?.group}\n\t\t\t\t\t\t\t\t\tgroupId={entry.groupTitle?.group?.id}\n\t\t\t\t\t\t\t\t\tratings={entry.ratings || []}\n\t\t\t\t\t\t\t\t\tlikes={entry.likes || []}\n\t\t\t\t\t\t\t\t\tdescription={entry.description}\n\t\t\t\t\t\t\t\t\tdate={entry.createdAt}\n\t\t\t\t\t\t\t\t\tauthorRating={entry.authorRating}\n\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || 'Unknown', entry.user?.userInfo?.last_name || 'Unknown']}/>\n\t\t\t})}</Col></Row>\n\t\t</div>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeUserTags = createSlice({\n\tname: 'userTags',\n\tinitialState: {\n\t\tdata: [],\n\t\tloadTags: false\n\t},\n\treducers: {\n\t\tgetAllTags(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t},\n\t\tstartLoadTags(state, action) {\n\t\t\tstate.loadTags = true;\n\t\t},\n\t\tendLoadTags(state, action) {\n\t\t\tstate.loadTags = false;\n\t\t}\n\t}\n});\n\nexport const {getAllTags, startLoadTags, endLoadTags} = storeUserTags.actions;\n\nexport default storeUserTags.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getAllTags, startLoadTags, endLoadTags} from \"../user.tags.js\";\n\nfunction* getAllTagsSaga({payload = {}}) {\n\tyield put(startLoadTags());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/guest/tags${payload.order?'/order-true':''}`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getAllTags(res.data));\n\tyield put(endLoadTags());\n}\n\nconst FETCH_GET_ALL_TAGS = 'FETCH_GET_ALL_TAGS';\n\nexport const userTagsSagas = createSagas([\n\t[FETCH_GET_ALL_TAGS, getAllTagsSaga]\n]);\n\nexport const {sagaGetAllTags} = createActions({\n\tsagaGetAllTags: FETCH_GET_ALL_TAGS,\n});\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useNavigate} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport ReactWordcloud from 'react-wordcloud';\n\nimport {sagaGetAllTags} from '../redux/saga/user.tags.js';\n\nimport Filler from './Filler';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst tags = useSelector((state) => state.userTags.data);\n\tconst dispatch = useDispatch();\n\tconst navigate = useNavigate();\n\n\tconst loadTags = useSelector((state) => state.userTags.loadTags);\n\n\tconst wordIndexs = {};\n\tconst words = tags.map((entry) => {wordIndexs[entry.tag] = entry.id; return {value: entry.countReview, text: entry.tag}})\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetAllTags({order: true}));\n\t}, []);\n\n\treturn (\n\t\t<div style={{minHeight: '300px', minWidth: '300px'}} className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t{loadTags?<Filler ignorePadding={false} size='4.5rem' />:null}\n\t\t\t<ReactWordcloud words={words}\n\t\t\t\t\t\t\toptions={{\n\t\t\t\t\t\t\t\trotations: 2,\n\t\t\t\t\t\t\t\trotationAngles: [0, 0],\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tcallbacks={{\n\t\t\t\t\t\t\t\tgetWordTooltip: (word) => {return '';/*`Matches found for tag ${word.text} - ${word.value}`*/},\n\t\t\t\t\t\t\t\tonWordClick: (word, event) => {\n\t\t\t\t\t\t\t\t\tnavigate('/reviews'+'?'+queryString.stringify({tags: [wordIndexs[word.text]]}, {arrayFormat: 'bracket'}));\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonWordMouseOut: (word, event) => {\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) / 2) + 'px');\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'none');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonWordMouseOver: (word, event) => {\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('font-size', (Number.parseInt(event.target.getAttribute('font-size')) * 2) + 'px');\n\t\t\t\t\t\t\t\t\tevent.target.setAttribute('text-decoration', 'underline');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsize={[300, 300]} />\n\t\t</div>\n\t)\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal, Form, Alert, ListGroup} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaOtherReviews} from '../redux/saga/user.reviews.js';\n\nimport Filler from './Filler';\n\nexport default function OtherAuthorReviews(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst review = useSelector((state) => state.userReviews.currentReview);\n\n\tconst otherData = useSelector((state) => state.userReviews.otherData);\n\tconst otherDataLoading = useSelector((state) => state.userReviews.otherDataLoading);\n\n\tconst firstUpdate = useRef(true);\n\tuseEffect(() => {\n\t\tif(review) {\n\t\t\tdispatch(sagaOtherReviews({id: review.titleGroupId}));\n\t\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t\t}\n\t}, [review]);\n\n\treturn (review?<div style={{width: '302px'}} className=\"border border-primary rounded bg-light mb-1\">\n\t\t\t{(otherDataLoading)?<Filler ignorePadding={true} size='3rem' />:null}\n\t\t\t<Row className=\"justify-content-center mb-2 mt-2\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<span className=\"h6\">Other (<span className=\"h6\">{review?.groupTitle?.group?.group || 'Unknown'}</span>\n\t\t\t\t\t<span className=\"h6\"> / </span>\n\t\t\t\t\t<span className=\"h6\">{review?.groupTitle?.title?.title || 'Unknown'}</span>) Reviews</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row><Col>\n\t\t\t\t<ListGroup>{otherData.map((entry, index) => {\n\t\t\t\t\treturn <ListGroup.Item style={{border: '0px', borderTopLeftRadius: '0px', borderTopRightRadius: '0px'}} key={index} variant=\"light\" active={review.id == entry.id}>\n\t\t\t\t\t\t{review.id != entry.id?<Link to={'/review/'+entry.id}>\n\t\t\t\t\t\t\t<span>{entry.groupTitle?.group?.group || 'Unknown'} / {entry.groupTitle?.title?.title || 'Unknown'}({entry.user?.userInfo?.first_name} {entry.user?.userInfo?.last_name})</span>\n\t\t\t\t\t\t</Link>:<>\n\t\t\t\t\t\t\t<span>{entry.groupTitle?.group?.group || 'Unknown'} / {entry.groupTitle?.title?.title || 'Unknown'}({entry.user?.userInfo?.first_name} {entry.user?.userInfo?.last_name})</span>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t})}</ListGroup>\n\t\t\t</Col></Row>\n\t\t</div>:<div style={{width: '302px'}} className=\"border border-primary rounded bg-light mt-1 mb-1 pt-3 pb-3\">\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\"><span className=\"h5\">Other Reviews NOT FOUND!!!</span></Col>\n\t\t\t</Row>\n\t\t</div>);\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewLists from '../components/ReviewLists';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\nimport OtherAuthorReviews from '../components/OtherAuthorReviews';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<ReviewLists />} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\n//import {setReviewId} from '../redux/user.comments.js';\nimport {getReviewItem, setCurrentReview} from '../redux/user.reviews.js';\n\nimport {sagaGetReview} from '../redux/saga/user.reviews.js';\n\nimport ReviewRating from './ReviewRating';\nimport ReviewLike from './ReviewLike';\nimport Filler from './Filler';\n\nexport default function ReviewFull(props) {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst {t} = useTranslation();\n\tconst review = useSelector((state) => state.userReviews.dataItem);\n\tconst reviewLoading = useSelector((state) => state.userReviews.dataItemLoading);\n\n\tconst dispatch = useDispatch();\n\tlet params = useParams();\n\tlet [firstRender, setFirstRender] = useState(true);\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReview({id: params.id, isUser: isUser(cookies.Roles)}));\n\t\tsetFirstRender(false);\n\t}, [params]);\n\n\tuseEffect(() => {\n\t\tif(review && review.id) {\n\t\t\tdispatch(setCurrentReview(review));\n\t\t}\n\t}, [review]);\n\n\tuseLayoutEffect(() => () => {\n\t\tdispatch(getReviewItem(null));\n\t\tdispatch(setCurrentReview(null));\n\t}, [params]);\n\n\t//useLayoutEffect(() => () => {}, []);\n\n\treturn (<>\n\t\t{(reviewLoading || firstRender)?<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='6rem' />\n\t\t\t<Row><Col style={{minHeight: '200px'}}></Col></Row>\n\t\t</Container>:(review?<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col className=\"text-center\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewRating data={review.ratings || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col><Col sm=\"auto\"><div>\n\t\t\t\t\t{isUser(cookies.Roles)?<ReviewLike data={review.likes || []} reviewId={review.id} />:null}\n\t\t\t\t</div></Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.group?.group || 'Unknown'}</span>\n\t\t\t\t\t<span className=\"h2\"> / </span>\n\t\t\t\t\t<span className=\"h2\">{review.groupTitle?.title?.title || 'Unknown'}</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"border-bottom border-top border-primary pt-1 pb-1 mt-3 mb-3\">\n\t\t\t\t<Col><ReactMarkdown>{review.groupTitle?.title?.description || 'UNKNOWN'}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center\" style={{marginRight: '5px'}}>\n\t\t\t\t<Col><span className=\"h1 text-info\">{review.authorRating || 0}</span></Col>\n\t\t\t\t<Col>\n\t\t\t\t\t{review.user?<Link to={'/reviews'+'?'+queryString.stringify({authors: [review.userId]}, {arrayFormat: 'bracket'})}>\n\t\t\t\t\t\t<span>{review.user?.userInfo?.first_name || 'Unknown'} {review.user?.userInfo?.last_name || 'Unknown'}</span>\n\t\t\t\t\t</Link>:<>\n\t\t\t\t\t\t<span className=\"text-secondary\">{review.user?.userInfo?.first_name || 'Unknown'} {review.user?.userInfo?.last_name || 'Unknown'}</span>\n\t\t\t\t\t</>}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col><ReactMarkdown>{review.text}</ReactMarkdown></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-success\">\n\t\t\t\t\t\t<Col><h1>{review.averageEditorRating || 0}</h1></Col>\n\t\t\t\t\t\t<Col><strong>Average Editors rating</strong></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<Row className=\"float-start border border-primary rounded row-cols-1 text-center text-danger\">\n\t\t\t\t\t\t<Col><h1>{review.averageUserRating || 0}</h1></Col>\n\t\t\t\t\t\t<Col><strong>Average Users rating</strong></Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<Col>{(review.tags || []).map((entry, index) => {\n\t\t\t\t\treturn <span key={index} className=\"m-2\"><Link to={'/reviews'+'?'+queryString.stringify({tags: [entry.id]}, {arrayFormat: 'bracket'})}>{entry.tag}</Link></span>\n\t\t\t\t})}</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"text-end\">\n\t\t\t\t<Col><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t\t\t</Row>\n\t\t</Container>:<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Row className=\"mt-3 mb-3\">\n\t\t\t\t<Col className=\"text-center\">\n\t\t\t\t\t<span className=\"h3\">Review \"{params.id}\" NOT FOUND!!!</span>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>)}\n\t</>);\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nimport Paginator from './helpers/Paginator.js'\n\nexport const storeUserComments = createSlice({\n\tname: 'userComments',\n\tinitialState: {\n\t\tpaginator: new Paginator(10),\n\n\t\tcomments: [],\n\t\tcommentsLoading: false,\n\t\tcommentsMoreLoading: false,\n\t\tcommentsAutoUpdateLoading: false,\n\n\t\tnewComment: false,\n\t\tnewCommentLoading: false,\n\t\tnewCommentError: false,\n\n\t\tcommentProcessing: [],\n\n\t\teditCommentError: false,\n\t},\n\treducers: {\n\t\tmoreComments(state, action) {\n\t\t\t//state.data = [...state.data, ...action.payload];\n\t\t\tstate.paginator.addWithReplace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = true;\n\t\t},\n\t\tendLoadMoreComments(state, action) {\n\t\t\tstate.commentsMoreLoading = false;\n\t\t},\n\n\t\tgetComments(state, action) {\n\t\t\t//state.data = [...action.payload];\n\t\t\tstate.paginator.replace(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = true;\n\t\t},\n\t\tendLoadGetComments(state, action) {\n\t\t\tstate.commentsLoading = false;\n\t\t},\n\n\t\tstartLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = true;\n\t\t},\n\t\tendLoadNewComment(state, action) {\n\t\t\tstate.newCommentLoading = false;\n\t\t},\n\t\tnewComment(state, action) {\n\t\t\tstate.newComment = action.payload;\n\t\t\tstate.paginator.append(state, 'comments', [action.payload]);\n\t\t},\n\t\terrorNewComment(state, action) {\n\t\t\tstate.newCommentError = action.payload;\n\t\t},\n\n\t\tautoUpdateComments(state, action) {\n\t\t\tstate.paginator.append(state, 'comments', action.payload);\n\t\t},\n\t\tstartLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = true;\n\t\t},\n\t\tendLoadAutoUpdateComments(state, action) {\n\t\t\tstate.commentsAutoUpdateLoading = false;\n\t\t},\n\n\t\tstartLoadRemoveComment(state, action) {\n\t\t\tstate.commentProcessing = [...state.commentProcessing, action.payload];\n\t\t},\n\t\tremoveComment(state, action) {\n\t\t\tstate.paginator.remove(state, 'comments', (entry) => entry.id != action.payload.id);\n\t\t},\n\t\terrorRemoveComment(state, action) {\n\t\t\tconsole.log(action.payload);\n\t\t},\n\t\tendLoadRemoveComment(state, action) {\n\t\t\tstate.commentProcessing = state.commentProcessing.filter((entry) => entry.id == action.payload);\n\t\t},\n\n\t\tstartLoadEditComment(state, action) {\n\t\t\tstate.commentProcessing = [...state.commentProcessing, action.payload];\n\t\t},\n\t\tendLoadEditComment(state, action) {\n\t\t\tstate.commentProcessing = state.commentProcessing.filter((entry) => entry.id == action.payload);\n\t\t},\n\t\terrorLoadEditComment(state, action) {\n\t\t\tstate.editCommentError = action.payload;\n\t\t},\n\t\teditComment(state, action) {\n\t\t\tstate.comments = state.comments.map((entry) => {\n\t\t\t\treturn entry.id == action.payload.id?action.payload:entry;\n\t\t\t});\n\t\t},\n\n\t}\n});\n\nexport const {\tmoreComments, startLoadMoreComments, endLoadMoreComments,\n\t\t\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\t\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\t\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment,\n\t\t\t\tstartLoadRemoveComment, removeComment, errorRemoveComment, endLoadRemoveComment,\n\t\t\t\tstartLoadEditComment, endLoadEditComment, errorLoadEditComment, editComment,\n\t\t\t\tsetReviewId} = storeUserComments.actions;\n\nexport default storeUserComments.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreComments, startLoadMoreComments, endLoadMoreComments,\n\t\tgetComments, startLoadGetComments, endLoadGetComments,\n\t\tautoUpdateComments, startLoadAutoUpdateComments, endLoadAutoUpdateComments,\n\t\tstartLoadNewComment, endLoadNewComment, newComment, errorNewComment,\n\t\tstartLoadRemoveComment, removeComment, errorRemoveComment, endLoadRemoveComment,\n\t\tstartLoadEditComment, endLoadEditComment, errorLoadEditComment, editComment} from \"../user.comments.js\";\n\n\nfunction* getCommentsSaga({payload = {}}) {\n\tyield put(startLoadGetComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getComments(res.data));\n\tyield put(endLoadGetComments());\n}\n\nfunction* moreCommentsSaga({payload = {}}) {\n\tyield put(startLoadMoreComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/comments`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreComments(res.data));\n\tyield put(endLoadMoreComments());\n}\n\nfunction* autoUpdateCommentsSaga({payload = {}}) {\n\tyield put(startLoadAutoUpdateComments());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/user/auto-update-comments`,\n\t\tparams: {time: payload.time, reviewId: payload.reviewId},\n\t\t...defaultRequestSettings\n\t});\n\tyield put(autoUpdateComments(res.data));\n\tyield put(endLoadAutoUpdateComments());\n}\n\nfunction* newCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewComment());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/new-comment`,\n\t\t\tdata: {comment: payload.comment, reviewId: payload.reviewId},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewComment(e));\n\t} finally {\n\t\tyield put(endLoadNewComment());\n\t}\n}\n\nfunction* removeCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRemoveComment(payload.id));\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/remove-comment`,\n\t\t\tdata: {id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(removeComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRemoveComment(e));\n\t} finally {\n\t\tyield put(endLoadRemoveComment(payload.id));\n\t}\n}\n\nfunction* editCommentSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadEditComment(payload.id));\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/user/edit-comment`,\n\t\t\tdata: {comment: payload.comment, reviewId: payload.reviewId, id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(editComment(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorLoadEditComment(e));\n\t} finally {\n\t\tyield put(endLoadEditComment(payload.id));\n\t}\n}\n\nconst FETCH_COMMENTS = 'FETCH_COMMENTS';\nconst FETCH_MORE_COMMENTS = 'FETCH_MORE_COMMENTS';\nconst FETCH_AUTO_UPDATE_COMMENTS = 'FETCH_AUTO_UPDATE_COMMENTS';\nconst FETCH_NEW_COMMENT = 'FETCH_NEW_COMMENT';\nconst FETCH_REMOVE_COMMENT = 'FETCH_REMOVE_COMMENT';\nconst FETCH_EDIT_COMMENT = 'FETCH_EDIT_COMMENT';\n\nexport const userCommentsSagas = createSagas([\n\t[FETCH_COMMENTS, getCommentsSaga],\n\t[FETCH_MORE_COMMENTS, moreCommentsSaga],\n\t[FETCH_AUTO_UPDATE_COMMENTS, autoUpdateCommentsSaga],\n\t[FETCH_NEW_COMMENT, newCommentSaga],\n\t[FETCH_REMOVE_COMMENT, removeCommentSaga],\n\t[FETCH_EDIT_COMMENT, editCommentSaga]\n]);\n\nexport const {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment, sagaRemoveComment, sagaEditComment} = createActions({\n\tsagaGetComments: FETCH_COMMENTS,\n\tsagaMoreComments: FETCH_MORE_COMMENTS,\n\tsagaAutoUpdateComments: FETCH_AUTO_UPDATE_COMMENTS,\n\tsagaNewComment: FETCH_NEW_COMMENT,\n\tsagaRemoveComment: FETCH_REMOVE_COMMENT,\n\tsagaEditComment: FETCH_EDIT_COMMENT\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaRemoveComment} from '../redux/saga/user.comments.js'\n\nexport default function ReviewCommentRemove(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = useCallback(() => {\n\t\t//dispatch(errorNewComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\t//resetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst handleOKClose = useCallback(() => {\n\t\tdispatch(sagaRemoveComment({id: props.id}));\n\t\tsetShow(false);\n\t}, [props]);\n\n\treturn (<>\n\t\t<Button variant=\"danger\" size=\"sm\" onClick={handleShow}>Remove</Button>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"md\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal Confirm Removing Comment</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>Are you sure you want to remove comment id: {props.id} ?</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t<Button variant=\"danger\" onClick={handleOKClose}>Remove Comment</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form, Alert} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {sagaEditComment} from '../redux/saga/user.comments.js';\nimport {errorLoadEditComment} from '../redux/user.comments.js';\n\nimport Filler from './Filler';\n\nconst validationSchemaModal = Yup.object().shape({\n\tcomment: Yup.string().required().max(3000, 'Description must be maximum 3000 characters')\n});\n\nexport default function ReviewCommentEdit(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\tconst commentProcessing = useSelector((state) => state.userComments.commentProcessing);\n\tconst editCommentError = useSelector((state) => state.userComments.editCommentError);\n\n\tconst handleClose = useCallback(() => {\n\t\tdispatch(errorLoadEditComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\t//resetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\treset: resetModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst comments = useSelector((state) => state.userComments.comments);\n\n\tuseEffect(() => {\n\t\tif(commentProcessing.includes(props.id)) setShow(false);\n\t}, [comments]);\n\n\tuseLayoutEffect(() => {\n\t\tsetValueModal('comment', props.comment);\n\t}, [props]);\n\n\treturn (<>\n\t\t<Button variant=\"primary\" size=\"sm\" onClick={handleShow}>Edit</Button>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal Edit Comment</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{(commentProcessing.includes(props.id))?<Filler size='6rem' />:null}\n\t\t\t\t<div>\n\t\t\t\t\t{editCommentError?<Alert variant=\"danger\" onClose={() => {dispatch(errorLoadEditComment(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{editCommentError.data.reason || editCommentError.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</div>\n\t\t\t\t<Form id=\"comment-edit-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaEditComment({id: props.id, reviewId: props.reviewId, comment: data.comment}));\n\t\t\t\t\t//setShow(false);\n\t\t\t\t})}>\n\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicComment\">\n\t\t\t\t\t<Form.Label column sm=\"2\">comment</Form.Label>\n\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"comment\")} rows={5} placeholder=\"Enter comment\" isInvalid={!!errorsModal.comment} />\n\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t{errorsModal.comment?.message}\n\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t</Col>\n\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"comment-edit-modal-form\">Save Comment</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {Container, Row, Col, Button, Modal, Form} from 'react-bootstrap';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {useTranslation} from \"react-i18next\";\n\nimport ReviewCommentRemove from './ReviewCommentRemove';\nimport ReviewCommentEdit from './ReviewCommentEdit';\nimport Filler from './Filler';\n\nexport default function ReviewCommentItem(props) {\n\tconst {t} = useTranslation();\n\n\tconst user = useSelector((state) => state.userUser.user);\n\n\tconst commentProcessing = useSelector((state) => state.userComments.commentProcessing);\n\n\treturn (<Row className=\"border border-primary rounded bg-light mt-1 mb-1 pt-2 pb-2\">\n\t\t{(commentProcessing.includes(props.id))?<Filler ignorePadding={true} size='4.5rem' />:null}\n\t\t<Col><span className=\"text-secondary\">{props.author[0]} {props.author[1]}</span></Col>\n\t\t<Col sm=\"auto\">\n\t\t\t{(user.id == props.authorId)?<ReviewCommentEdit id={props.id} comment={props.comment} reviewId={props.reviewId} />:null}\n\t\t</Col>\n\t\t<Col sm=\"auto\">\n\t\t\t{(user.id == props.authorId)?<ReviewCommentRemove id={props.id} />:null}\n\t\t</Col>\n\t\t<Col sm=\"12\"><span>{props.comment}</span></Col>\n\t\t<Col sm=\"12\"><span className=\"text-secondary\">{t('intlDateTime', {val: new Date(props.date)})}</span></Col>\n\t</Row>);\n}\n","import queryString from 'query-string';\nimport React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal, Form, Alert} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {errorNewComment} from '../redux/user.comments.js';\nimport {sagaGetComments, sagaMoreComments, sagaAutoUpdateComments, sagaNewComment} from '../redux/saga/user.comments.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport ReviewCommentItem from './ReviewCommentItem';\nimport ReviewCommentAutoUpdate from './ReviewCommentAutoUpdate';\nimport Filler from './Filler';\n\nconst validationSchemaModal = Yup.object().shape({\n\tcomment: Yup.string().required().max(3000, 'Description must be maximum 3000 characters')\n});\n\nexport default function ReviewComments(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst [show, setShow] = useState(false);\n\n\t//const reviewId = useSelector((state) => state.userComments.reviewId);\n\tconst review = useSelector((state) => state.userReviews.currentReview);\n\n\tconst comments = useSelector((state) => state.userComments.comments);\n\tconst commentsLoading = useSelector((state) => state.userComments.commentsLoading);\n\n\tconst newCommentLoading = useSelector((state) => state.userComments.newCommentLoading);\n\tconst newCommentError = useSelector((state) => state.userComments.newCommentError);\n\tconst newComment = useSelector((state) => state.userComments.newComment);\n\n\tconst handleClose = useCallback(() => {\n\t\tdispatch(errorNewComment(false));\n\t\tsetShow(false);\n\t}, []);\n\tconst handleShow = useCallback(() => {\n\t\tresetModal();\n\t\tsetShow(true);\n\t}, []);\n\n\tconst {\tregister: registerModal,\n\t\t\thandleSubmit: handleSubmitModal,\n\t\t\tsetValue: setValueModal,\n\t\t\treset: resetModal,\n\t\t\tformState: {errors: errorsModal}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst firstUpdate = useRef(true);\n\tuseEffect(() => {\n\t\tif(review) {\n\t\t\tdispatch(sagaGetComments({reviewId: review.id}));\n\t\t\tif(firstUpdate.current) firstUpdate.current = false;\n\t\t}\n\t}, [review]);\n\n\tuseEffect(() => {\n\t\tif(newComment && show) handleClose();\n\t}, [newComment]);\n\n\treturn (review?<>\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t{(commentsLoading)?<Filler ignorePadding={true} size='4.5rem' />:null}\n\t\t\t<Row className=\"mb-3 mt-3\"><Col><span className=\"h4\">Comments:</span></Col></Row>\n\t\t\t{(!commentsLoading && !firstUpdate.current)?<Row className=\"justify-content-end\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t{/*<ReviewCommentAutoUpdate timeout={10} reviewId={review.id} />*/}\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t{comments.length<=0?(<Row className=\"justify-content-center\"><Col sm=\"auto\"><span className=\"h4\">Not Found</span></Col></Row>):(<Row><Col>\n\t\t\t\t{comments.map((entry, index) => {\n\t\t\t\t\treturn <ReviewCommentItem   key={index}\n\t\t\t\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\t\t\t\tcomment={entry.comment}\n\t\t\t\t\t\t\t\t\t\t\t\treviewId={review.id}\n\t\t\t\t\t\t\t\t\t\t\t\tdate={entry.updatedAt}\n\t\t\t\t\t\t\t\t\t\t\t\tauthorId={entry.userId}\n\t\t\t\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || 'Unknown', entry.user?.userInfo?.last_name || 'Unknown']} />\n\t\t\t\t})}\n\t\t\t</Col></Row>)}\n\t\t\t<Row className=\"mb-3 mt-3 justify-content-end\"><Col sm='auto'>\n\t\t\t\t<Button variant=\"outline-primary\" disabled={newCommentLoading} onClick={handleShow}>Create Comment</Button>\n\t\t\t</Col></Row>\n\t\t</Container>\n\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal Create New Comment</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{newCommentLoading?<Filler ignorePadding={true} size='6rem' />:null}\n\t\t\t\t<div>\n\t\t\t\t\t{newCommentError?<Alert variant=\"danger\" onClose={() => {dispatch(errorNewComment(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{newCommentError.data.reason || newCommentError.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</div>\n\t\t\t\t<Form id=\"comments-modal-form\" onSubmit={handleSubmitModal((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaNewComment({comment: data.comment, reviewId: review.id}));\n\t\t\t\t})}>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicComment\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">comment</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...registerModal(\"comment\")} rows={5} placeholder=\"Enter comment\" isInvalid={!!errorsModal.comment} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{errorsModal.comment?.message}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"comments-modal-form\">Create Comment</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>:<Container className=\"border border-primary rounded bg-light mt-1 mb-1 pt-3 pb-3\">\n\t\t<Row className=\"justify-content-center\">\n\t\t\t<Col sm=\"auto\"><span className=\"h3\">Comments NOT FOUND!!!</span></Col>\n\t\t</Row>\n\t</Container>);\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport ReviewFull from '../components/ReviewFull';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\nimport ReviewComments from '../components/ReviewComments';\nimport OtherAuthorReviews from '../components/OtherAuthorReviews';\n\nexport default function PageReview() {\n\tconst [cookies,, removeCookie] = useCookies();\n\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent \tcontent={<ReviewFull />}\n\t\t\t\t\t\t\taddContent={isUser(cookies.Roles)?<ReviewComments />:null}\n\t\t\t\t\t\t\trightbar={<RightBar />}\n\t\t\t\t\t\t\taddRightBar={<OtherAuthorReviews />} />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorReviews = createSlice({\n\tname: 'editorReviews',\n\tinitialState: {\n\t\tdata: [],\n\t\tdataLoading: false,\n\t\tdataMoreLoading: false,\n\t\tdataItem: {},\n\t\tdataItemLoading: false,\n\t\tdataItemSetLoading: false,\n\t\tdataItemError: false,\n\t\tdataItemNewLoading: false,\n\t\t\n\t\tdataItemRemoveLoading: false,\n\t\tdataItemRemoveError: false,\n\t\t\n\t\tnewReview: false\n\t},\n\treducers: {\n\t\tmoreReviews(state, action) {\n\t\t\tstate.data = [...state.data, ...action.payload];\n\t\t},\n\t\tstartLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = true;\n\t\t},\n\t\tendLoadMoreReviews(state, action) {\n\t\t\tstate.dataMoreLoading = false;\n\t\t},\n\t\t\n\t\tgetReviews(state, action) {\n\t\t\tstate.data = [...action.payload];\n\t\t},\n\t\tstartLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = true;\n\t\t},\n\t\tendLoadGetReviews(state, action) {\n\t\t\tstate.dataLoading = false;\n\t\t},\n\t\t\n\t\tgetReview(state, action) {\n\t\t\tstate.dataItem = action.payload;\n\t\t},\n\t\tstartLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = true;\n\t\t},\n\t\tendLoadGetReview(state, action) {\n\t\t\tstate.dataItemLoading = false;\n\t\t},\n\t\tstartLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = true;\n\t\t},\n\t\tendLoadSetReview(state, action) {\n\t\t\tstate.dataItemSetLoading = false;\n\t\t},\n\t\terrorSetReview(state, action) {\n\t\t\tstate.dataItemError = action.payload;\n\t\t},\n\t\t\n\t\tstartLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = true;\n\t\t},\n\t\tendLoadNewReview(state, action) {\n\t\t\tstate.dataItemNewLoading = false;\n\t\t},\n\t\tnewReview(state, action) {\n\t\t\tstate.newReview = action.payload;\n\t\t},\n\t\t\n\t\tstartLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = true;\n\t\t},\n\t\tendLoadRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveLoading = false;\n\t\t},\n\t\terrorRemoveReview(state, action) {\n\t\t\tstate.dataItemRemoveError = action.payload;\n\t\t},\n\t\tremoveReview(state, action) {\n\t\t\tstate.data = state.data.filter((entry) => entry.id !== action.payload.id);\n\t\t}\n\t}\n});\n\nexport const {\tmoreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\t\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\t\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\t\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} = storeEditorReviews.actions;\n\nexport default storeEditorReviews.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews, getReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tstartLoadNewReview, endLoadNewReview, errorNewReview, newReview,\n\t\tremoveReview, startLoadRemoveReview, endLoadRemoveReview, errorRemoveReview,\n\t\tgetReview, startLoadGetReview, endLoadGetReview, startLoadSetReview, endLoadSetReview, errorSetReview} from \"../editor.reviews.js\";\n\n\nfunction* getReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\tparams: payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/reviews`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nfunction* getReviewSaga({payload = {}}) {\n\tyield put(startLoadGetReview());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/review/`+payload,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReview(res.data));\n\tyield put(endLoadGetReview());\n}\n\nfunction* editReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadSetReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-edit`,\n\t\t\tdata: {\tid: payload.id, groupId: payload.group, titleId: payload.title, description: payload.description || '', text: payload.text || '',\n\t\t\t\t\ttags: payload.tags || [], authorRating: payload.authorRating || 0, draft: payload.draft},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(getReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorSetReview(e));\n\t} finally {\n\t\tyield put(endLoadSetReview());\n\t}\n}\n\n/*\nfunction* newReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-new`,\n\t\t\tdata: {},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewReview(e));\n\t} finally {\n\t\tyield put(endLoadNewReview());\n\t}\n}\n*/\n\nfunction* removeReviewSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadRemoveReview());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/review-remove`,\n\t\t\tdata: {id: payload.id},\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(removeReview(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorRemoveReview(e));\n\t} finally {\n\t\tyield put(endLoadRemoveReview());\n\t}\n}\n\nconst FETCH_REVIEWS = 'FETCH_REVIEWS';\nconst FETCH_MORE_REVIEWS = 'FETCH_MORE_REVIEWS';\nconst FETCH_REVIEW = 'FETCH_REVIEW';\n//const FETCH_NEW_REVIEW = 'FETCH_NEW_REVIEW';\nconst FETCH_EDIT_REVIEW = 'FETCH_EDIT_REVIEW';\nconst REMOVE_REVIEW = 'REMOVE_REVIEW';\n\nexport const editorReviewsSagas = createSagas([\n\t[FETCH_REVIEWS, getReviewsSaga],\n\t[FETCH_MORE_REVIEWS, moreReviewsSaga],\n\t[FETCH_REVIEW, getReviewSaga],\n\t//[FETCH_NEW_REVIEW, newReviewSaga],\n\t[FETCH_EDIT_REVIEW, editReviewSaga],\n\t[REMOVE_REVIEW, removeReviewSaga]\n]);\n\nexport const {sagaGetReviews, sagaMoreReviews, sagaGetReview, /*sagaNewReview, */sagaEditReview, sagaRemoveReview} = createActions({\n\tsagaGetReviews: FETCH_REVIEWS,\n\tsagaMoreReviews: FETCH_MORE_REVIEWS,\n\tsagaGetReview: FETCH_REVIEW,\n\t//sagaNewReview: FETCH_NEW_REVIEW,\n\tsagaEditReview: FETCH_EDIT_REVIEW,\n\tsagaRemoveReview: REMOVE_REVIEW\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaRemoveReview} from '../redux/saga/editor.reviews.js';\n\nexport default function ReviewItem(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst entry = props.entry;\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = useCallback(() => setShow(false), []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\tconst handleOKClose = useCallback(() => {\n\t\tdispatch(sagaRemoveReview(entry));\n\t\tsetShow(false);\n\t}, [entry]);\n\n\treturn (\n\t\t<>\n\t\t\t<tr>\n\t\t\t\t<td>{entry.id}</td>\n\t\t\t\t<td>{entry.groupTitle?.group?.group}</td>\n\t\t\t\t<td>{entry.groupTitle?.title?.title}</td>\n\t\t\t\t<td>{entry.authorRating}</td>\n\t\t\t\t<td>{entry.averageEditorRating}</td>\n\t\t\t\t<td>{entry.averageUserRating}</td>\n\t\t\t\t<td>{entry.countComments}</td>\n\t\t\t\t<td>{entry.tags.map((entry) => entry.tag).join(', ')}</td>\n\t\t\t\t<td><ReactMarkdown>{entry.description}</ReactMarkdown></td>\n\t\t\t\t<td>{entry.draft+''}</td>\n\t\t\t\t<td><a href={\"/review/\"+entry.id} className=\"btn btn-outline-info btn-sm\" role=\"button\" aria-pressed=\"true\">V</a></td>\n\t\t\t\t<td><a href={\"/my-review-edit/\"+entry.id} className=\"btn btn-outline-primary btn-sm\" role=\"button\" aria-pressed=\"true\">E</a></td>\n\t\t\t\t<td><Button variant=\"outline-danger\" size=\"sm\" onClick={handleShow}>R</Button></td>\n\t\t\t</tr>\n\t\t\t<Modal show={show} onHide={handleClose} animation={false} centered size=\"md\">\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Modal Confirm Removing Review</Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>Are you sure you want to remove review id: {entry.id} {entry.groupTitle?.group?.group}/{entry.groupTitle?.title?.title}?</Modal.Body>\n\t\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>Close</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleOKClose}>Remove Review</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useNavigate, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Table, Popover, OverlayTrigger} from 'react-bootstrap';\nimport ReactMarkdown from 'react-markdown';\n\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport MyReviewRow from './MyReviewRow';\n\nimport {sagaGetReviews} from '../redux/saga/editor.reviews.js';\nimport {newReview as newReviewAC} from '../redux/editor.reviews.js';\n\nconst sortFields = [\n\t'authorRating',\n\t'averageEditorRating',\n\t'averageUserRating',\n\t'countComments',\n\t'createdAt',\n\t'draft',\n\t'updatedAt'\n];\n\nexport default function MyReviewLists() {\n\tconst reviews = useSelector((state) => state.editorReviews.data);\n\tconst newReview = useSelector((state) => state.editorReviews.newReview);\n\tconst loadReviews = useSelector((state) => state.editorReviews.dataLoading);\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\tconst navigate = useNavigate();\n\n\tconst [searchParams] = useSearchParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReviews(searchParams));\n\t}, [searchParams]);\n\n\tuseEffect(() => {\n\t\tif(newReview) {\n\t\t\tnavigate('/my-review-edit/'+newReview.id);\n\t\t\tdispatch(newReviewAC(false));\n\t\t}\n\t}, [newReview]);\n\n\treturn (\n\t\t<div className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<Table striped bordered hover className=\"rounded mb-0\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colSpan=\"10\">\n\t\t\t\t\t\t\t<PopoverFilterReviews withAuthors={false} sortFields={sortFields} typeFilter=\"editor\" />\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td className=\"text-center\" colSpan=\"3\">\n\t\t\t\t\t\t\t<Link to=\"/my-review-new\" className=\"btn btn-outline-success\">Create</Link>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th className=\"text-center\">#</th>\n\t\t\t\t\t\t<th className=\"text-center\">Group</th>\n\t\t\t\t\t\t<th className=\"text-center\">Title</th>\n\t\t\t\t\t\t<th className=\"text-center\">AR</th>\n\t\t\t\t\t\t<th className=\"text-center\">AAR</th>\n\t\t\t\t\t\t<th className=\"text-center\">AUR</th>\n\t\t\t\t\t\t<th className=\"text-center\">comms</th>\n\t\t\t\t\t\t<th className=\"text-center\">tags</th>\n\t\t\t\t\t\t<th className=\"text-center\">description</th>\n\t\t\t\t\t\t<th className=\"text-center\">draft</th>\n\t\t\t\t\t\t<th className=\"text-center\" colSpan=\"3\">actions</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{reviews.map((entry, index) => {\n\t\t\t\t\t\treturn <MyReviewRow entry={entry} imdex={index} key={index} />\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</div>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewLists from '../components/MyReviewLists';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewLists />\n\t\t</Container>\n\t)\n}\n","import {createSlice} from '@reduxjs/toolkit'\n\nexport const storeEditorImages = createSlice({\n\tname: 'editorImages',\n\tinitialState: {\n\t\tmodalImages: false,\n\t\turlImageToInsert: false,\n\t\timages: [],\n\t\tloadImages: false,\n\t\tloadMoreImages: false,\n\t\tloadNewImage: false,\n\t\terrorNewImage: false,\n\t\tnewImage: false,\n\t\tprogressLoadNewImage: 0,\n\t\tselectedImageInsert: null,\n\t\tselectedImageUpload: null\n\t},\n\treducers: {\n\t\tshowModalImage(state, action) {\n\t\t\tstate.modalImages = true;\n\t\t},\n\t\thideModalImage(state, action) {\n\t\t\tstate.modalImages = false;\n\t\t},\n\t\tsetURLImageToInsert(state, action) {\n\t\t\tstate.urlImageToInsert = action.payload;\n\t\t},\n\t\tgetImages(state, action) {\n\t\t\tstate.images = [...action.payload];\n\t\t},\n\t\tstartLoadImages(state, action) {\n\t\t\tstate.loadImages = true;\n\t\t},\n\t\tendLoadImages(state, action) {\n\t\t\tstate.loadImages = false;\n\t\t},\n\t\tmoreImages(state, action) {\n\t\t\tstate.images = [...state.images, ...action.payload];\n\t\t},\n\t\tstartLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = true;\n\t\t},\n\t\tendLoadMoreImages(state, action) {\n\t\t\tstate.loadMoreImages = false;\n\t\t},\n\t\tstartLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = true;\n\t\t},\n\t\tendLoadNewImage(state, action) {\n\t\t\tstate.loadNewImage = false;\n\t\t},\n\t\tprogressLoadNewImageAC(state, action) {\n\t\t\tstate.progressLoadNewImage = action.payload;\n\t\t},\n\t\terrorNewImageAC(state, action) {\n\t\t\tstate.errorNewImage = action.payload;\n\t\t},\n\t\tnewImageAC(state, action) {\n\t\t\tstate.images = [...action.payload, ...state.images];\n\t\t\tstate.newImage = action.payload;\n\t\t},\n\t\tselectedImageInsertAC(state, action) {\n\t\t\tstate.selectedImageInsert = action.payload;\n\t\t},\n\t\tselectedImageUploadAC(state, action) {\n\t\t\tstate.selectedImageUpload = action.payload;\n\t\t}\n\t}\n});\n\nexport const {\tshowModalImage, hideModalImage, setURLImageToInsert,\n\t\t\t\tgetImages, startLoadImages, endLoadImages,\n\t\t\t\tmoreImages, startLoadMoreImages, endLoadMoreImages,\n\t\t\t\tselectedImageInsertAC, selectedImageUploadAC,\n\t\t\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC, progressLoadNewImageAC} = storeEditorImages.actions;\n\nexport default storeEditorImages.reducer;\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {getImages, startLoadImages, endLoadImages, moreImages, startLoadMoreImages, endLoadMoreImages,\n\t\tstartLoadNewImage, endLoadNewImage, errorNewImageAC, newImageAC} from \"../editor.images.js\";\n\nfunction* getPartImagesSaga({payload = {}}) {\n\tyield put(startLoadImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getImages(res.data));\n\tyield put(endLoadImages());\n}\n\nfunction* morePartImagesSaga({payload = {}}) {\n\tyield put(startLoadMoreImages());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\tparams: {page: payload.page},\n\t\turl: `/editor/images`,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreImages(res.data));\n\tyield put(endLoadMoreImages());\n}\n\nfunction* newImageSaga({payload = {}}) {\n\ttry {\n\t\tyield put(startLoadNewImage());\n\t\tconst res = yield call(request, {\n\t\t\tmethod: 'post',\n\t\t\turl: `/editor/image-new`,\n\t\t\tdata: payload.data,\n\t\t\tonUploadProgress: payload.progress,\n\t\t\t...defaultRequestSettings\n\t\t});\n\t\tyield put(newImageAC(res.data));\n\t} catch(e) {\n\t\tdelete e.config\n\t\tyield put(errorNewImageAC(e));\n\t} finally {\n\t\tyield put(endLoadNewImage());\n\t}\n}\n\nconst FETCH_GET_PART_IMAGES = 'FETCH_GET_PART_IMAGES';\nconst FETCH_NEW_IMAGE = 'FETCH_NEW_IMAGE';\nconst FETCH_MORE_PART_IMAGES = 'FETCH_MORE_PART_IMAGES';\n\nexport const editorImagesSagas = createSagas([\n\t[FETCH_GET_PART_IMAGES, getPartImagesSaga],\n\t[FETCH_MORE_PART_IMAGES, morePartImagesSaga],\n\t[FETCH_NEW_IMAGE, newImageSaga]\n]);\n\nexport const {sagaGetPartImages, sagaMorePartImages, sagaNewImage} = createActions({\n\tsagaGetPartImages: FETCH_GET_PART_IMAGES,\n\tsagaMorePartImages: FETCH_MORE_PART_IMAGES,\n\tsagaNewImage: FETCH_NEW_IMAGE\n});\n","import React, {Component, useRef, useLayoutEffect, useEffect, useState, useCallback} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport Dropzone from 'react-dropzone'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\n\nimport {sagaNewImage} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nexport default function ImageUpload() {\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst errorNewImage = useSelector(state => state.editorImages.errorNewImage);\n\tconst progressLoadNewImage = useSelector(state => state.editorImages.progressLoadNewImage);\n\tconst loadNewImage = useSelector(state => state.editorImages.loadNewImage);\n\tconst newImage = useSelector(state => state.editorImages.newImage);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(newImage.length > 0 && selectedImageUpload) {\n\t\t\tdispatch(selectedImageInsertAC(newImage[0]));\n\t\t}\n\t}, [newImage]);\n\n\t//useEffect(() => {\n\t//\tdispatch(progressLoadNewImageAC(0));\n\t//}, [errorNewImage]);\n\n\tconst uploadFn = useCallback(() => {\n\t\tconst formData = new FormData();\n\t\tformData.append(\"images[]\", selectedImageUpload);\n\t\tdispatch(sagaNewImage({data: formData, progress: (e) => {\n\t\t\tdispatch(progressLoadNewImageAC(Math.round((100 * e.loaded) / e.total)));\n\t\t}}));\n\t\tdispatch(progressLoadNewImageAC(0));\n\t})\n\n\treturn selectedImageUpload?(<div>\n\t\t\t<Row>\n\t\t\t\t<Col>{errorNewImage?<Alert variant=\"danger\" onClose={() => dispatch(errorNewImageAC(false))} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{errorNewImage.data.message || errorNewImage.data.reason}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\"><Image src={URL.createObjectURL(selectedImageUpload)} style={{height: '250px'}} fluid /></Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-center\" style={{height: '50px'}}>\n\t\t\t\t{loadNewImage?<Col>\n\t\t\t\t\t<ProgressBar animated variant=\"info\" now={progressLoadNewImage} />\n\t\t\t\t</Col>:(!selectedImageInsert?<Col sm=\"auto\">\n\t\t\t\t\t<Button variant=\"outline-info\" onClick={uploadFn}>Upload</Button>\n\t\t\t\t</Col>:<Col sm=\"auto\">\n\t\t\t\t\t<h2>Upload complete</h2>\n\t\t\t\t</Col>)}\n\t\t\t</Row>\n\t\t</div>):(<Dropzone onDrop={acceptedFiles => {\n\t\t\tdispatch(selectedImageUploadAC(acceptedFiles[0]));\n\t\t}}>\n\t\t\t{({getRootProps, getInputProps}) => (\n\t\t\t\t<section>\n\t\t\t\t\t<div {...getRootProps({})}>\n\t\t\t\t\t\t<input {...getInputProps({multiple: false, accept: 'image/*'})} />\n\t\t\t\t\t\t<Row className=\"justify-content-center align-items-center border border-secondary border-1 bg-info rounded\" style={{cursor: 'pointer', height: '300px'}}>\n\t\t\t\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t\t\t\t<span className=\"h3 text-light\">Drag 'n' drop some files here, or click to select files</span>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t)}\n\t\t</Dropzone>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab, Image, ProgressBar} from 'react-bootstrap';\n\nimport Filler from '../components/Filler';\n\nimport {sagaGetPartImages, sagaMorePartImages} from '../redux/saga/editor.images.js';\nimport {selectedImageUploadAC, selectedImageInsertAC, errorNewImageAC, progressLoadNewImageAC} from '../redux/editor.images.js';\n\nconst PAGE_IMAGES = 20;\n\nexport default function ImageLists() {\n\tconst [page, setPage] = useState(1);\n\tconst images = useSelector(state => state.editorImages.images);\n\tconst loadImages = useSelector(state => state.editorImages.loadImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst loadMoreImages = useSelector(state => state.editorImages.loadMoreImages);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetPartImages());\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif(page * PAGE_IMAGES - PAGE_IMAGES > images.length) setPage(page - 1);\n\t}, [images]);\n\n\treturn (\n\t\t<Container>\n\t\t\t{loadImages?<Filler size=\"3.25rem\" />:null}\n\t\t\t<Row className=\"align-items-center\">\n\t\t\t\t{images.map((image, index) => {\n\t\t\t\t\tlet selClasses = '';\n\t\t\t\t\tlet selStyles = {}\n\n\t\t\t\t\tif(selectedImageInsert && image.url === selectedImageInsert.url) {\n\t\t\t\t\t\tselClasses = 'border border-warning border-5 bg-warning bg-gradient';\n\t\t\t\t\t\tselStyles = {maxWidth: '181px', maxHeight: '181px'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn <Col key={index} sm=\"auto\" className={\"text-center\"+\" \"+selClasses} style={{width: '191px', height: '191px', padding: '0px'}}>\n\t\t\t\t\t\t<span><Image src={image.url} style={{...{maxWidth: '191px', maxHeight: '191px'}, ...selStyles}} onClick={() => {\n\t\t\t\t\t\t\tif(selectedImageInsert && selectedImageInsert.url !== image.url) dispatch(selectedImageUploadAC(null));\n\t\t\t\t\t\t\tdispatch(selectedImageInsertAC(image));\n\t\t\t\t\t\t}} thumbnail /></span>\n\t\t\t\t\t</Col>\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t\t<Row className=\"mt-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t{loadMoreImages?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t<Button variant=\"outline-primary\" style={{width: '100%'}} onClick={() => {\n\t\t\t\t\t\tdispatch(sagaMorePartImages({page: page + 1}));\n\t\t\t\t\t\tsetPage(page + 1);\n\t\t\t\t\t}} >more images</Button>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal, Tabs, Tab} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert, selectedImageUploadAC, selectedImageInsertAC} from '../redux/editor.images.js';\n\nimport ImageUpload from './ImageUpload';\nimport ImageLists from './ImageLists';\n\nexport default function ModalImages() {\n\tconst [key, setKey] = useState('UploadImage');\n\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst selectedImageInsert = useSelector(state => state.editorImages.selectedImageInsert);\n\tconst selectedImageUpload = useSelector(state => state.editorImages.selectedImageUpload);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\treturn (<>\n\t\t<Modal show={modalImages} onHide={() => {dispatch(hideModalImage())}} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal heading</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Tabs activeKey={key} onSelect={(k) => setKey(k)} id=\"uncontrolled-tab\" className=\"mb-3\">\n\t\t\t\t\t<Tab eventKey=\"ImageLists\" title=\"ImageLists\">\n\t\t\t\t\t\t<ImageLists />\n\t\t\t\t\t</Tab>\n\t\t\t\t\t<Tab eventKey=\"UploadImage\" title=\"UploadImage\">\n\t\t\t\t\t\t<ImageUpload />\n\t\t\t\t\t</Tab>\n\t\t\t\t</Tabs>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={() => {dispatch(hideModalImage())}}>Close</Button>\n\t\t\t\t<Button variant=\"outline-secondary\" disabled={!selectedImageInsert && !selectedImageUpload} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t}}>Reset</Button>\n\t\t\t\t<Button variant=\"outline-primary\" disabled={!selectedImageInsert} onClick={() => {\n\t\t\t\t\tdispatch(selectedImageUploadAC(null));\n\t\t\t\t\tdispatch(selectedImageInsertAC(null));\n\t\t\t\t\tdispatch(setURLImageToInsert({key: urlImageToInsert.key, url: selectedImageInsert.url}));\n\t\t\t\t}}>Insert Image</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\n//import ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm, Controller} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\n\nimport Filler from './Filler';\n\nimport {sagaGetPartTitles, sagaNewTitle} from '../redux/saga/editor.titles.js';\nimport {errorNewTitle as errorNewTitleAC} from '../redux/editor.titles.js';\n\nconst validationSchemaModal = Yup.object().shape({\n\ttitle: Yup.string().required('Title is required').min(3, 'Title must be maximum 3 characters'),\n\tdescription: Yup.string().max(3000, 'Description must be maximum 3000 characters')\n});\n\n// title, closed, successed\nexport default function ModalNewTitle(props) {\n\tconst {t} = useTranslation();\n\tconst dispatch = useDispatch();\n\n\tconst newTitle = useSelector((state) => state.editorTitles.newTitle);\n\tconst loadNewTitle = useSelector((state) => state.editorTitles.loadNewTitle);\n\tconst errorNewTitle = useSelector((state) => state.editorTitles.errorNewTitle);\n\n\tconst {\tregister, handleSubmit, setValue, formState: {errors}} = useForm({resolver: yupResolver(validationSchemaModal)});\n\n\tconst countRender = useRef(0);\n\tuseLayoutEffect(() => {\n\t\tcountRender.current++;\n\t\tif(typeof props.successed === 'function' && countRender.current > 1) {\n\t\t\tprops.successed.call(null, newTitle);\n\t\t}\n\t}, [newTitle]);\n\n\tuseLayoutEffect(() => () => {dispatch(errorNewTitleAC(false))}, []);\n\n\treturn (<>\n\t\t<Modal show={true} onHide={props.closed || null} animation={false} centered size=\"lg\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Modal Create New Title</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t{loadNewTitle?<Filler size='6rem' />:null}\n\t\t\t\t{errorNewTitle?<Alert variant=\"danger\" onClose={() => {dispatch(errorNewTitleAC(false))}} dismissible>\n\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t<p>{errorNewTitle.data.reason || errorNewTitle.data.message}</p>\n\t\t\t\t</Alert>:null}\n\t\t\t\t<Form id=\"hook-modal-form\" onSubmit={handleSubmit((data) => {\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch(sagaNewTitle(data));\n\t\t\t\t})}>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleTitle\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">Title</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control {...register(\"title\")} type=\"text\" defaultValue={props.title} placeholder=\"Enter title\" isInvalid={!!errors.title} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{errors.title?.message}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitleDescription\">\n\t\t\t\t\t\t<Form.Label column sm=\"2\">description</Form.Label>\n\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...register(\"description\")} rows={3} placeholder=\"Enter description\" isInvalid={!!errors.description} />\n\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t{errors.description?.message}\n\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer className=\"justify-content-center\">\n\t\t\t\t<Button variant=\"outline-secondary\" onClick={props.closed || null}>Close</Button>\n\t\t\t\t<Button variant=\"outline-success\" type=\"submit\" form=\"hook-modal-form\">Create Title</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t</>);\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {PluginProps} from 'react-markdown-editor-lite';\n\nimport {showModalImage, hideModalImage, setURLImageToInsert} from '../redux/editor.images.js';\n\nexport default function MarkdownImages(props) {\n\t//const [num, setNum] = React.useState(props.config.start);\n\tconst modalImages = useSelector(state => state.editorImages.modalImages);\n\tconst urlImageToInsert = useSelector(state => state.editorImages.urlImageToInsert);\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tif(urlImageToInsert && urlImageToInsert.url && urlImageToInsert.key === props.editor) {\n\t\t\tprops.editor.insertText(`![This is an image](${urlImageToInsert.url})`);\n\t\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\t\tdispatch(hideModalImage())\n\t\t}\n\t}, [urlImageToInsert]);\n\n\tuseEffect(() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t}, []);\n\n\treturn (<span className=\"button\" title=\"Custom Images\" onClick={() => {\n\t\tdispatch(setURLImageToInsert({key: props.editor, url: null}));\n\t\tdispatch(showModalImage());\n\t}}>images</span>);\n}\n// Define default config if required\nMarkdownImages.defaultConfig = {}\nMarkdownImages.align = 'left';\nMarkdownImages.pluginName = 'custom extends images';\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\n//import ReactMarkdown from 'react-markdown'\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\nimport * as Yup from 'yup';\nimport {useForm, Controller} from 'react-hook-form';\nimport {yupResolver} from '@hookform/resolvers/yup';\nimport {AsyncTypeahead, Typeahead} from 'react-bootstrap-typeahead';\nimport AsyncSelect from 'react-select/async';\nimport {AsyncPaginate} from 'react-select-async-paginate';\n\nimport ModalImage from '../image/ModalImages';\n\nimport {sagaGetReview, sagaEditReview} from '../redux/saga/editor.reviews.js';\nimport {sagaGetAllGroups} from '../redux/saga/editor.groups.js';\nimport {sagaGetPartTitles, sagaNewTitle} from '../redux/saga/editor.titles.js';\nimport {sagaGetPartTags, sagaNewTag} from '../redux/saga/editor.tags.js';\n\nimport {errorSetReview} from '../redux/editor.reviews.js';\n\nimport Filler from './Filler';\nimport ModalNewTitle from './ModalNewTitle';\n\n// markdown\nimport ReactMarkdown from 'react-markdown'\n//import MarkdownIt from 'markdown-it';\nimport MdEditor, { Plugins } from 'react-markdown-editor-lite';\nimport MarkdownImages from '../helpers/markdown.image.jsx';\n// import style manually\nimport 'react-markdown-editor-lite/lib/index.css';\n\n//const mdParser = new MarkdownIt(/* Markdown-it options */);\n\nMdEditor.unuse(Plugins.Image);\nMdEditor.use(MarkdownImages);\n\n\nconst validationSchema = Yup.object().shape({\n\t//group: Yup.number().required('Group is required'),\n\t//title: Yup.number().required('Title is required'),\n\t//description: Yup.string().max(3000, 'Description must be maximum 3000 characters'),\n\t//text: Yup.string().max(65000, 'Description must be maximum 65000 characters'),\n\t//tags: Yup.array().of(Yup.number()),\n\t//authorRating: Yup.number(),\n\t//draft: Yup.boolean()\n});\n\n\n\n// groupId, titleId, description, text, tags, authorRating, draft, blocked\nexport default function MyReviewFullEdit(props) {\n\tconst {t} = useTranslation();\n\n\tconst ref = useRef();\n\tconst aref = useRef();\n\n\tconst [selectedTags, setSelectedTags] = useState([]);\n\n\t//const review = useSelector((state) => state.editorReviews.dataItem);\n\t//const reviewLoading = useSelector((state) => state.editorReviews.dataItemLoading);\n\tconst error = useSelector((state) => state.editorReviews.dataItemError);\n\tconst setReviewLoading = useSelector((state) => state.editorReviews.dataItemSetLoading);\n\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\tconst [firstRender, setFirstRender] = useState(true);\n\tconst [show, setShow] = useState(false);\n\n\n\n\n\n\n\t//const newTitle = useSelector((state) => state.editorTitles.newTitle);\n\n\tconst tags = useSelector((state) => state.editorTags.tags);\n\tconst loadTags = useSelector((state) => state.editorTags.loadTags);\n\tconst newTag = useSelector((state) => state.editorTags.newTag);\n\tconst loadNewTag = useSelector((state) => state.editorTags.loadNewTag);\n\n\tuseEffect(() => {\n\t\t//dispatch(sagaGetReview(params.id));\n\t\tdispatch(sagaGetAllGroups());\n\t\t//dispatch(sagaGetAllTitles());\n\t\tsetFirstRender(false);\n\t}, []);\n\n\tconst {register, handleSubmit, setValue, control, formState: {errors}} = useForm({resolver: yupResolver(validationSchema)});\n\n\n\n\tconst handleClose = useCallback(() => {setShow(false);}, []);\n\tconst handleShow = useCallback(() => setShow(true), []);\n\n\t/*\n\tuseEffect(() => {\n\t\tif(newTitle) {\n\t\t\tsetValue('title', newTitle.id);\n\t\t\tref.current.hideMenu();\n\t\t}\n\t}, [newTitle]);\n\t*/\n\n\tuseEffect(() => {\n\t\tif(newTag) {\n\t\t\tsetSelectedTags([...selectedTags, newTag]);\n\t\t}\n\t}, [newTag]);\n\n\t//useEffect(() => {\n\t//\tif(review.tags) setSelectedTags([...review.tags]);\n\t//}, [review]);\n\n/*\n\n\n<AsyncTypeahead ref={ref} id=\"async-title\"\n\tminLength={3}\n\tallowNew={true}\n\tdelay={300}\n\tuseCache={false}\n\tlabelKey=\"title\"\n\tisLoading={loadTitles}\n\tclearButton\n\tdefaultSelected={props.title?[props.title]:[]}\n\tonChange={(selected) => {\n\t\tif(selected.length > 0) {\n\t\t\tif(selected[0].customOption) {\n\t\t\t\tsetShow(true);\n\t\t\t\tsetValueModal('title', selected[0].title);\n\t\t\t\tsetValueModal('description', '');\n\t\t\t} else {\n\t\t\t\tsetValue('title', selected[0].id)\n\t\t\t}\n\t\t} else {\n\t\t\tsetValue('title', undefined);\n\t\t}\n\t}}\n\tonSearch={(query) => {dispatch(sagaGetPartTitles(query))}}\n\toptions={titles.length>0?titles:(props.title?[props.title]:[])} />\n<Form.Control {...register(\"title\")} defaultValue={props.title?.id || null} type=\"text\" isInvalid={!!errors.title} />\n*/\n\tconst refNewTitle = useRef('');\n\tconst refTitleTypeAHead = useRef(null);\n\tconst refTitleHelper = useRef(0);\n\tconst [showModalNewTitle, setShowModalNewTitle] = useState(false);\n\tconst titles = useSelector((state) => state.editorTitles.titles);\n\tconst loadTitles = useSelector((state) => state.editorTitles.loadTitles);\n\tconst loadNewTitle = useSelector((state) => state.editorTitles.loadNewTitle);\n\n\t// groups\n\tconst [callbackGroupSelect, setCallbackGroupSelect] = useState(null);\n\tconst groups = useSelector((state) => state.editorGroups.groups);\n\tconst loadGroups = useSelector((state) => state.editorGroups.loadGroups);\n\tuseLayoutEffect(() => {\n\t\tif(groups && groups.length > 0 && callbackGroupSelect) {\n\t\t\tcallbackGroupSelect.callback(groups.map((entry) => ({value: entry.id,  label: entry.group})));\n\t\t}\n\t}, [groups]);\n\n\treturn(\n\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t<ModalImage />\n\t\t\t{showModalNewTitle?<ModalNewTitle \ttitle={refNewTitle.current}\n\t\t\t\t\t\t\t\t\t\t\t\tclosed={() => {setShowModalNewTitle(false)}}\n\t\t\t\t\t\t\t\t\t\t\t\tsuccessed={(newTitle) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(refTitleTypeAHead.current) refTitleTypeAHead.current.blur();\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowModalNewTitle(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetValue('title', [newTitle]);\n\n\t\t\t\t\t\t\t\t\t\t\t\t}} />:null}\n\t\t\t<Row className=\"mt-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t{error?<Alert variant=\"danger\" onClose={() => {dispatch(errorSetReview(false))}} dismissible>\n\t\t\t\t\t\t<Alert.Heading>Server Error Message</Alert.Heading>\n\t\t\t\t\t\t<p>{error.data.reason || error.data.message}</p>\n\t\t\t\t\t</Alert>:null}\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t<Col sm=\"auto\">\n\t\t\t\t\t<h4>Create New Review</h4>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"mb-2\">\n\t\t\t\t<Col>\n\t\t\t\t\t<Form onSubmit={handleSubmit((data) => {\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t//dispatch(sagaEditReview({id: props.id, ...data}))\n\t\t\t\t\t})}>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicGroup\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Group</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Controller name=\"group\"\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={{value: props.group?.id, label: props.group?.group}}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncSelect //cacheOptions={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadOptions={(inputValue, callback) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCallbackGroupSelect({callback});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaGetAllGroups());\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSearchable={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultOptions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//onInputChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.group?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTitle\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Title</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t{loadNewTitle?<Filler size=\"1.25rem\" />:null}\n\t\t\t\t\t\t\t\t<Controller name=\"title\"\n\t\t\t\t\t\t\t\t\t\t\tref={refTitleTypeAHead}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={props.title?[props.title]:[]}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: {onChange, onBlur, value, ref} }) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <AsyncTypeahead  ref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"async-autocomplete-title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminLength={3}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewSelectionPrefix={<span className=\"text-danger\">New Title: </span>}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectHintOnEnter={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"title\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTitles}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected[0].customOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trefNewTitle.current = selected[0].title;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowModalNewTitle(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, selected);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange.call(null, []);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselected={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() => {refTitleHelper.current = 0;}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInputChange={(query) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(refTitleHelper.current < 1) dispatch(sagaGetPartTitles(query));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trefTitleHelper.current++;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {console.log(query);dispatch(sagaGetPartTitles(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={titles.length>0?titles:(props.title?[props.title]:[])} />\n\t\t\t\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.title?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicDescription\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">description</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<MdEditor style={{ height: '500px' }} renderHTML={text => {\n\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t}} onChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t//console.log(html)\n\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...register(\"description\")} rows={5} defaultValue={props.description || ''} placeholder=\"Enter description\" isInvalid={!!errors.description} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.description?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicText\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">review</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<MdEditor style={{ height: '500px' }} renderHTML={text => {\n\t\t\t\t\t\t\t\t\treturn <ReactMarkdown>{text}</ReactMarkdown>\n\t\t\t\t\t\t\t\t}} onChange={({ html, text }) => {\n\t\t\t\t\t\t\t\t\t//console.log(html)\n\t\t\t\t\t\t\t\t}} />\n\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" {...register(\"text\")} rows={10} defaultValue={props.text || ''} placeholder=\"Enter text review\" isInvalid={!!errors.text} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.text?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formBasicTags\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Tags</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<AsyncTypeahead ref={aref} id=\"async-tags\"\n\t\t\t\t\t\t\t\t\t\t\t\tminLength={2}\n\t\t\t\t\t\t\t\t\t\t\t\tallowNew={true}\n\t\t\t\t\t\t\t\t\t\t\t\tselectHintOnEnter={true}\n\t\t\t\t\t\t\t\t\t\t\t\tdelay={300}\n\t\t\t\t\t\t\t\t\t\t\t\tuseCache={false}\n\t\t\t\t\t\t\t\t\t\t\t\tlabelKey=\"tag\"\n\t\t\t\t\t\t\t\t\t\t\t\tisLoading={loadTags}\n\t\t\t\t\t\t\t\t\t\t\t\tclearButton\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultSelected={Array.isArray(props.tags)?props.tags:[]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(selected) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(selected.at(-1).customOption) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch(sagaNewTag(selected.at(-1).tag))\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTags([...selected]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTags([]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonSearch={(query) => {console.log(query);dispatch(sagaGetPartTags(query))}}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={tags.length>0?tags.filter((entry) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn !~aref.current.state.selected.findIndex((item) => item.id == entry.id)\n\t\t\t\t\t\t\t\t\t\t\t\t}):(Array.isArray(props.tags)?props.tags:[])} />\n\t\t\t\t\t\t\t\t<Form.Control {...register(\"tags\")} value={selectedTags.map((entry) => entry.id).join(' ')} type=\"text\" isInvalid={!!errors.title} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.tags?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formAuthorRating\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Author rating</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Select {...register(\"authorRating\")}\n\t\t\t\t\t\t\t\t\t\t{...(props.authorRating?{defaultValue: props.authorRating}:{})} isInvalid={!!errors.authorRating} >\n\t\t\t\t\t\t\t\t\t<option disabled selected>Chose ratings</option>\n\t\t\t\t\t\t\t\t\t<option value=\"1\">1</option>\n\t\t\t\t\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t\t\t\t\t\t<option value=\"4\">4</option>\n\t\t\t\t\t\t\t\t\t<option value=\"5\">5</option>\n\t\t\t\t\t\t\t\t\t<option value=\"6\">6</option>\n\t\t\t\t\t\t\t\t\t<option value=\"7\">7</option>\n\t\t\t\t\t\t\t\t\t<option value=\"8\">8</option>\n\t\t\t\t\t\t\t\t\t<option value=\"9\">9</option>\n\t\t\t\t\t\t\t\t\t<option value=\"10\">10</option>\n\t\t\t\t\t\t\t\t</Form.Select>\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.authorRating?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-3\" controlId=\"formIsDraft\">\n\t\t\t\t\t\t\t<Form.Label column sm=\"2\">Is Draft</Form.Label>\n\t\t\t\t\t\t\t<Col sm=\"10\">\n\t\t\t\t\t\t\t\t<Form.Check type=\"checkbox\" defaultChecked={!!props.draft} />\n\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t{errors.draft?.message}\n\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t\t\t<Col md=\"auto\">\n\t\t\t\t\t\t\t\t<Button variant=\"outline-primary\" type=\"submit\">Save</Button>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Form>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams} from \"react-router-dom\";\nimport {Container, Row, Col, Button, Form, Alert, Modal} from 'react-bootstrap';\nimport {useTranslation} from \"react-i18next\";\n\nimport {sagaGetReview} from '../redux/saga/editor.reviews.js';\n\nimport Filler from './Filler';\nimport MyReviewFullForm from './MyReviewFullForm';\n\nexport default function MyReviewFullNew(props) {\n\tconst dispatch = useDispatch();\n\tconst params = useParams();\n\n\tconst review = useSelector((state) => state.editorReviews.dataItem);\n\tconst reviewLoading = useSelector((state) => state.editorReviews.dataItemLoading);\n\n\tconst firstRender = useRef(true);\n\tuseEffect(() => {\n\t\tdispatch(sagaGetReview(params.id));\n\t\tfirstRender.current = false;\n\t}, []);\n\n\treturn (reviewLoading || firstRender.current)?<Container className=\"border border-primary rounded bg-light mt-1 mb-1\" style={{minHeight: '300px'}}>\n\t\t<Filler ignorePadding={true} size=\"6rem\" />\n\t</Container>:<MyReviewFullForm \tid={review?.id}\n\t\t\t\t\t\t\t\t\tgroupId={review?.groupTitle?.group?.id}\n\t\t\t\t\t\t\t\t\tgroup={review?.groupTitle?.group}\n\t\t\t\t\t\t\t\t\ttitleId={review?.groupTitle?.title?.id}\n\t\t\t\t\t\t\t\t\ttitle={review?.groupTitle?.title}\n\t\t\t\t\t\t\t\t\tdescription={review?.description}\n\t\t\t\t\t\t\t\t\ttext={review?.text}\n\t\t\t\t\t\t\t\t\ttags={review?.tags || []}\n\t\t\t\t\t\t\t\t\tauthorRating={review?.authorRating}\n\t\t\t\t\t\t\t\t\tdraft={review?.draft}\n\t\t\t\t\t\t\t\t\tblocked={review?.blocked} />\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewFullEdit from '../components/MyReviewFullEdit';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageMyReviewEdit() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewFullEdit />\n\t\t</Container>\n\t)\n}\n","import { take, call, put, select } from 'redux-saga/effects';\n\nimport {request} from './helpers/helper.request.js';\nimport {defaultRequestSettings} from './helpers/helper.default.request.settings.js';\nimport {createSagas, createActions} from './helpers/helper.saga.js';\n\nimport {moreReviews, startLoadMoreReviews, endLoadMoreReviews,\n\t\tgetReviews, startLoadGetReviews, endLoadGetReviews,\n\t\tgetReviewItem, startLoadGetReviewItem, endLoadGetReviewItem} from \"../user.reviews.js\";\n\nfunction* getSearchReviewsSaga({payload = {}}) {\n\tyield put(startLoadGetReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/search/${payload.query}`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(getReviews(res.data));\n\tyield put(endLoadGetReviews());\n}\n\nfunction* moreSearchReviewsSaga({payload = {}}) {\n\tyield put(startLoadMoreReviews());\n\tconst res = yield call(request, {\n\t\tmethod: 'get',\n\t\turl: `/${payload.isUser?'user':'guest'}/search/${payload.query}`,\n\t\tparams: payload.params,\n\t\t...defaultRequestSettings\n\t});\n\tyield put(moreReviews(res.data));\n\tyield put(endLoadMoreReviews());\n}\n\nconst FETCH_MORE_SEARCH_REVIEWS = 'FETCH_MORE_SEARCH_REVIEWS';\nconst FETCH_GET_SEARCH_REVIEWS = 'FETCH_GET_SEARCH_REVIEWS';\n\nexport const userSearchReviewsSagas = createSagas([\n\t[FETCH_MORE_SEARCH_REVIEWS, moreSearchReviewsSaga],\n\t[FETCH_GET_SEARCH_REVIEWS, getSearchReviewsSaga],\n]);\n\nexport const {sagaMoreSearchReviews, sagaGetSearchReviews} = createActions({\n\tsagaMoreSearchReviews: FETCH_MORE_SEARCH_REVIEWS,\n\tsagaGetSearchReviews: FETCH_GET_SEARCH_REVIEWS\n});\n","import React, { Component, useRef, useLayoutEffect, useEffect } from 'react';\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Routes, Route, Link, useParams, useSearchParams} from \"react-router-dom\";\nimport {Container, Row, Col} from 'react-bootstrap';\nimport {useCookies} from 'react-cookie';\n\nimport ReviewItem from './ReviewItem';\nimport PopoverFilterReviews from './PopoverFilterReviews';\nimport Filler from './Filler';\n\nimport {sagaGetSearchReviews} from '../redux/saga/user.search.reviews.js';\n\nimport {isUser, isEditor, isAdmin} from '../helpers/roles.js';\n\nexport default function ReviewLists() {\n\tconst [cookies,, removeCookie] = useCookies();\n\tconst reviews = useSelector((state) => state.userReviews.data);\n\tconst reviewsLoading = useSelector((state) => state.userReviews.dataLoading);\n\tconst dispatch = useDispatch();\n\n\tconst [searchParams] = useSearchParams();\n\tconst params = useParams();\n\n\tuseEffect(() => {\n\t\tdispatch(sagaGetSearchReviews({params: searchParams, query: params.query, isUser: isUser(cookies.Roles)}));\n\t}, [params, searchParams]);\n\n\treturn (\n\t\t<div>\n\t\t\t{reviewsLoading?<Row>\n\t\t\t\t<Col>\n\t\t\t\t\t<Container className=\"border border-primary rounded bg-light mt-1 mb-1\">\n\t\t\t\t\t\t<Filler ignorePadding={true} className=\"rounded\" size='4rem' />\n\t\t\t\t\t\t<Row><Col style={{minHeight: '100px'}}></Col></Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Col>\n\t\t\t</Row>:null}\n\t\t\t<Row><Col>{reviews.map((entry) => {\n\t\t\t\treturn <ReviewItem  key={entry.id}\n\t\t\t\t\t\t\t\t\tid={entry.id}\n\t\t\t\t\t\t\t\t\ttitle={entry.groupTitle?.title?.title}\n\t\t\t\t\t\t\t\t\tgroup={entry.groupTitle?.group?.group}\n\t\t\t\t\t\t\t\t\tratings={entry.ratings || []}\n\t\t\t\t\t\t\t\t\tlikes={entry.likes || []}\n\t\t\t\t\t\t\t\t\tdescription={entry.description}\n\t\t\t\t\t\t\t\t\tdate={entry.createdAt}\n\t\t\t\t\t\t\t\t\tauthorRating={entry.authorRating}\n\t\t\t\t\t\t\t\t\tauthor={[entry.user?.userInfo?.first_name || 'Unknown', entry.user?.userInfo?.last_name || 'Unknown']}/>\n\t\t\t})}</Col></Row>\n\t\t</div>\n\t)\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport BodyContent from '../components/BodyContent';\nimport SearchReviewLists from '../components/SearchReviewLists';\nimport RightBar from '../components/RightBar';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageReviews() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<BodyContent content={<SearchReviewLists />} rightbar={<RightBar />} />\n\t\t</Container>\n\t)\n}\n","import React, { Component, useRef, useLayoutEffect, useEffect, useState, useCallback } from 'react';\nimport MyReviewFullForm from './MyReviewFullForm';\n\nexport default function MyReviewFullNew(props) {\n\n\treturn <MyReviewFullForm  />\n}\n","import React, {useEffect} from \"react\";\nimport {useSelector, useDispatch } from 'react-redux';\nimport {Container, Row, Col} from 'react-bootstrap';\n\nimport TopNavBar from '../components/TopNavBar';\nimport MyReviewFullNew from '../components/MyReviewFullNew';\nimport SearchBar from '../components/SearchBar';\n\nexport default function PageMyReviewNew() {\n\treturn (\n\t\t<Container>\n\t\t\t<TopNavBar />\n\t\t\t<SearchBar />\n\t\t\t<MyReviewFullNew />\n\t\t</Container>\n\t)\n}\n","import React from \"react\";\nimport {Routes, Route, Link} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\n\nimport PageLogin from './pages/PageLogin';\nimport PageRegistration from './pages/PageRegistration';\nimport PageUser from './pages/PageUser';\nimport PageReviews from './pages/PageReviews';\nimport PageReview from './pages/PageReview';\nimport PageMyReviews from './pages/PageMyReviews';\nimport PageMyReviewEdit from './pages/PageMyReviewEdit';\nimport PageSearchReviews from './pages/PageSearchReviews';\nimport PageMyReviewNew from './pages/PageMyReviewNew';\n\nexport default function App() {\n\treturn (\n\t\t<div>\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"user\" element={<PageUser />} />\n\t\t\t\t<Route path=\"registration\" element={<PageRegistration />} />\n\t\t\t\t<Route path=\"login\" element={<PageLogin />} />\n\n\t\t\t\t<Route path=\"search/:query\" element={<PageSearchReviews />} />\n\n\t\t\t\t<Route path=\"reviews\" element={<PageReviews />} />\n\n\t\t\t\t<Route path=\"review/:id\" element={<PageReview />} />\n\n\t\t\t\t<Route path=\"my-reviews\" element={<PageMyReviews />} />\n\t\t\t\t<Route path=\"my-review-new\" element={<PageMyReviewNew />} />\n\t\t\t\t<Route path=\"my-review-edit/:id\" element={<PageMyReviewEdit />} />\n\t\t\t\t<Route path=\"/\" element={<PageReviews />} />\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n","import { call, takeEvery, put, all, spawn, take, cancel } from 'redux-saga/effects';\n\nimport {userReviewsSagas} from './user.reviews.js';\nimport {userTagsSagas} from './user.tags.js';\nimport {userUserSagas} from './user.user.js';\nimport {userLangsSagas} from './user.langs.js';\nimport {userThemesSagas} from './user.themes.js';\nimport {editorReviewsSagas} from './editor.reviews.js';\nimport {editorGroupsSagas} from './editor.groups.js';\nimport {editorTitlesSagas} from './editor.titles.js';\nimport {editorTagsSagas} from './editor.tags.js';\nimport {editorImagesSagas} from './editor.images.js';\nimport {guestEditorsSagas} from './guest.editors.js';\nimport {userRatingsSagas} from './user.ratings.js';\nimport {userLikesSagas} from './user.likes.js';\nimport {userCommentsSagas} from './user.comments.js';\nimport {userSearchReviewsSagas} from './user.search.reviews.js';\n\n// takeLatest\n// takeLatest\nexport default function* rootSaga() {\n\t//yield fork(socketFetchSaga);\n\tconst sagas = [\n\t\t...userReviewsSagas,\n\t\t...userTagsSagas,\n\t\t...userUserSagas,\n\t\t...userLangsSagas,\n\t\t...userThemesSagas,\n\t\t...editorReviewsSagas,\n\t\t...editorGroupsSagas,\n\t\t...editorTitlesSagas,\n\t\t...editorTagsSagas,\n\t\t...editorImagesSagas,\n\t\t...guestEditorsSagas,\n\t\t...userRatingsSagas,\n\t\t...userLikesSagas,\n\t\t...userCommentsSagas,\n\t\t...userSearchReviewsSagas\n\t];\n\n\tyield all(sagas.map((o) => {\n\t\treturn spawn(function *() {\n\t\t\twhile(true) {\n\t\t\t\ttry {\n\t\t\t\t\tif(o.pattern) {\n\t\t\t\t\t\tlet lastTask\n\t\t\t\t\t\twhile(true) {\n\t\t\t\t\t\t\tconst action = yield take(o.pattern);\n\t\t\t\t\t\t\t// cancel is no-op if the task has already terminated\n\t\t\t\t\t\t\tif(lastTask) yield cancel(lastTask);\n\t\t\t\t\t\t\t//lastTask = yield fork(saga, ...args.concat(action));\n\t\t\t\t\t\t\tlastTask = yield call(o.saga, action);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tyield call(o);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t} catch(e) {\n\t\t\t\t\t// error\n\t\t\t\t\t//console.error(e);\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}));\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport createSagaMiddleware from \"redux-saga\";\n\nimport userReviewsReduser from './user.reviews.js';\nimport userTagsReduser from './user.tags.js';\nimport userUserReduser from './user.user.js';\nimport userLikesReduser from './user.likes.js';\nimport userLangsReduser from './user.langs.js';\nimport userThemesReduser from './user.themes.js';\nimport editorReviewsReduser from './editor.reviews.js';\nimport editorGroupsReduser from './editor.groups.js';\nimport editorTitlesReduser from './editor.titles.js';\nimport editorTagsReduser from './editor.tags.js';\nimport editorImagesReduser from './editor.images.js';\nimport guestEditorsReduser from './guest.editors.js';\nimport customFilterReduser from './custom.filter.js';\nimport userRatingsReduser from './user.ratings.js';\nimport userCommentsReduser from './user.comments.js';\n\nimport saga from \"./saga/saga.js\";\n\nlet sagaMiddleware = createSagaMiddleware();\n\nconst store = configureStore({\n\treducer: {\n\t\tuserReviews: userReviewsReduser,\n\t\tuserTags: userTagsReduser,\n\t\tuserUser: userUserReduser,\n\t\tuserLikes: userLikesReduser,\n\t\tuserLangs: userLangsReduser,\n\t\tuserThemes: userThemesReduser,\n\t\teditorReviews: editorReviewsReduser,\n\t\teditorGroups: editorGroupsReduser,\n\t\teditorTitles: editorTitlesReduser,\n\t\teditorTags: editorTagsReduser,\n\t\teditorImages: editorImagesReduser,\n\t\tguestEditors: guestEditorsReduser,\n\t\tcustomFilter: customFilterReduser,\n\t\tuserRatings: userRatingsReduser,\n\t\tuserComments: userCommentsReduser\n\t},\n\tmiddleware: [...getDefaultMiddleware({ thunk: false, serializableCheck: false }), sagaMiddleware]\n});\n\nsagaMiddleware.run(saga);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './redux/store.js'\nimport {BrowserRouter} from \"react-router-dom\";\nimport {CookiesProvider} from 'react-cookie';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<CookiesProvider>\n\t\t\t<BrowserRouter>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<App />\n\t\t\t\t</Provider>\n\t\t\t</BrowserRouter>\n\t\t</CookiesProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}